<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PKUOS - Pintos: src/userprog/pagedir.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PKUOS - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for PKU Operating System course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4cfb6a44fef09f5d9415a441552a27aa.html">userprog</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pagedir.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="pagedir_8h_source.html">userprog/pagedir.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="stdbool_8h_source.html">stdbool.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stddef_8h_source.html">stddef.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="init_8h_source.html">threads/init.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pte_8h_source.html">threads/pte.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="palloc_8h_source.html">threads/palloc.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pagedir.c:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c__incl.png" border="0" usemap="#asrc_2userprog_2pagedir_8c" alt=""/></div>
<map name="asrc_2userprog_2pagedir_8c" id="asrc_2userprog_2pagedir_8c">
<area shape="rect" title=" " alt="" coords="336,5,491,32"/>
<area shape="rect" href="pagedir_8h.html" title=" " alt="" coords="5,155,139,181"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="110,229,186,256"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="575,155,644,181"/>
<area shape="rect" href="string_8h.html" title=" " alt="" coords="487,80,553,107"/>
<area shape="rect" href="init_8h.html" title=" " alt="" coords="364,80,463,107"/>
<area shape="rect" href="pte_8h.html" title=" " alt="" coords="239,80,339,107"/>
<area shape="rect" href="palloc_8h.html" title=" " alt="" coords="577,80,693,107"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="239,304,305,331"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="405,229,475,256"/>
<area shape="rect" href="vaddr_8h.html" title=" " alt="" coords="264,155,379,181"/>
<area shape="rect" href="loader_8h.html" title=" " alt="" coords="262,229,381,256"/>
</map>
</div>
</div>
<p><a href="pagedir_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a04a6fbff68b847cb657284fc95ab813a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a04a6fbff68b847cb657284fc95ab813a">active_pd</a> (void)</td></tr>
<tr class="memdesc:a04a6fbff68b847cb657284fc95ab813a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the currently active page directory.  <a href="pagedir_8c.html#a04a6fbff68b847cb657284fc95ab813a">More...</a><br /></td></tr>
<tr class="separator:a04a6fbff68b847cb657284fc95ab813a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a30f77936061902485b4d0f97f7621"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621">invalidate_pagedir</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd)</td></tr>
<tr class="memdesc:a34a30f77936061902485b4d0f97f7621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seom page table changes can cause the CPU's translation lookaside buffer (TLB) to become out-of-sync with the page table.  <a href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621">More...</a><br /></td></tr>
<tr class="separator:a34a30f77936061902485b4d0f97f7621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3ef6f4fc814424f7d68dd365b085d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a0d3ef6f4fc814424f7d68dd365b085d6">pagedir_create</a> (void)</td></tr>
<tr class="memdesc:a0d3ef6f4fc814424f7d68dd365b085d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new page directory that has mappings for kernel virtual addresses, but none for user virtual addresses.  <a href="pagedir_8c.html#a0d3ef6f4fc814424f7d68dd365b085d6">More...</a><br /></td></tr>
<tr class="separator:a0d3ef6f4fc814424f7d68dd365b085d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1919f57e1ba60ed2c2f46b4410e9799"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799">pagedir_destroy</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd)</td></tr>
<tr class="memdesc:ab1919f57e1ba60ed2c2f46b4410e9799"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys page directory PD, freeing all the pages it references.  <a href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799">More...</a><br /></td></tr>
<tr class="separator:ab1919f57e1ba60ed2c2f46b4410e9799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309fc79834d80e78b36294f270927744"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744">lookup_page</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd, const void *vaddr, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="lib_2user_2syscall_8h.html#a352dd80fdc4fdb4689aac9555fe28202">create</a>)</td></tr>
<tr class="memdesc:a309fc79834d80e78b36294f270927744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the address of the page table entry for virtual address VADDR in page directory PD.  <a href="pagedir_8c.html#a309fc79834d80e78b36294f270927744">More...</a><br /></td></tr>
<tr class="separator:a309fc79834d80e78b36294f270927744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87fb1ae04e5465c21f1cf3d07d85b199"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a87fb1ae04e5465c21f1cf3d07d85b199">pagedir_set_page</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd, void *upage, void *kpage, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> writable)</td></tr>
<tr class="memdesc:a87fb1ae04e5465c21f1cf3d07d85b199"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by kernel virtual address KPAGE.  <a href="pagedir_8c.html#a87fb1ae04e5465c21f1cf3d07d85b199">More...</a><br /></td></tr>
<tr class="separator:a87fb1ae04e5465c21f1cf3d07d85b199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8093fa1c0a54bdc624cb6fb619a86746"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a8093fa1c0a54bdc624cb6fb619a86746">pagedir_get_page</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd, const void *uaddr)</td></tr>
<tr class="memdesc:a8093fa1c0a54bdc624cb6fb619a86746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks up the physical address that corresponds to user virtual address UADDR in PD.  <a href="pagedir_8c.html#a8093fa1c0a54bdc624cb6fb619a86746">More...</a><br /></td></tr>
<tr class="separator:a8093fa1c0a54bdc624cb6fb619a86746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6379f06b2c8e0923c86e5948ff1da7a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9">pagedir_clear_page</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd, void *upage)</td></tr>
<tr class="memdesc:a6379f06b2c8e0923c86e5948ff1da7a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks user virtual page UPAGE "not present" in page directory PD.  <a href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9">More...</a><br /></td></tr>
<tr class="separator:a6379f06b2c8e0923c86e5948ff1da7a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5de85f35e83577a5637b067da2d3c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a1d5de85f35e83577a5637b067da2d3c4">pagedir_is_dirty</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd, const void *vpage)</td></tr>
<tr class="memdesc:a1d5de85f35e83577a5637b067da2d3c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified since the PTE was installed.  <a href="pagedir_8c.html#a1d5de85f35e83577a5637b067da2d3c4">More...</a><br /></td></tr>
<tr class="separator:a1d5de85f35e83577a5637b067da2d3c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ac1b1be9791df0327744a9f7801811"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811">pagedir_set_dirty</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd, const void *vpage, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> dirty)</td></tr>
<tr class="memdesc:a15ac1b1be9791df0327744a9f7801811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD.  <a href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811">More...</a><br /></td></tr>
<tr class="separator:a15ac1b1be9791df0327744a9f7801811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a417a00146a2d07eb0d0dfd7c7fd7f13c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a417a00146a2d07eb0d0dfd7c7fd7f13c">pagedir_is_accessed</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd, const void *vpage)</td></tr>
<tr class="memdesc:a417a00146a2d07eb0d0dfd7c7fd7f13c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is, between the time the PTE was installed and the last time it was cleared.  <a href="pagedir_8c.html#a417a00146a2d07eb0d0dfd7c7fd7f13c">More...</a><br /></td></tr>
<tr class="separator:a417a00146a2d07eb0d0dfd7c7fd7f13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fabddf918d199c2996a61357a584173"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173">pagedir_set_accessed</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd, const void *vpage, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> accessed)</td></tr>
<tr class="memdesc:a2fabddf918d199c2996a61357a584173"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD.  <a href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173">More...</a><br /></td></tr>
<tr class="separator:a2fabddf918d199c2996a61357a584173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a75950cc56724fef94d224df4b0cd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0">pagedir_activate</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *pd)</td></tr>
<tr class="memdesc:ac0a75950cc56724fef94d224df4b0cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads page directory PD into the CPU's page directory base register.  <a href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0">More...</a><br /></td></tr>
<tr class="separator:ac0a75950cc56724fef94d224df4b0cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a04a6fbff68b847cb657284fc95ab813a" name="a04a6fbff68b847cb657284fc95ab813a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04a6fbff68b847cb657284fc95ab813a">&#9670;&nbsp;</a></span>active_pd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> * active_pd </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the currently active page directory. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00235">235</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="vaddr_8h_source.html#l00072">ptov()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pagedir_8c_source.html#l00255">invalidate_pagedir()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a04a6fbff68b847cb657284fc95ab813a_cgraph.png" border="0" usemap="#apagedir_8c_a04a6fbff68b847cb657284fc95ab813a_cgraph" alt=""/></div>
<map name="apagedir_8c_a04a6fbff68b847cb657284fc95ab813a_cgraph" id="apagedir_8c_a04a6fbff68b847cb657284fc95ab813a_cgraph">
<area shape="rect" title="Returns the currently active page directory." alt="" coords="5,5,84,32"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="132,5,179,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a04a6fbff68b847cb657284fc95ab813a_icgraph.png" border="0" usemap="#apagedir_8c_a04a6fbff68b847cb657284fc95ab813a_icgraph" alt=""/></div>
<map name="apagedir_8c_a04a6fbff68b847cb657284fc95ab813a_icgraph" id="apagedir_8c_a04a6fbff68b847cb657284fc95ab813a_icgraph">
<area shape="rect" title="Returns the currently active page directory." alt="" coords="388,56,467,83"/>
<area shape="rect" href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="209,56,340,83"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="13,5,153,32"/>
<area shape="rect" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="5,56,161,83"/>
<area shape="rect" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="21,107,145,133"/>
</map>
</div>

</div>
</div>
<a id="a34a30f77936061902485b4d0f97f7621" name="a34a30f77936061902485b4d0f97f7621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a30f77936061902485b4d0f97f7621">&#9670;&nbsp;</a></span>invalidate_pagedir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void invalidate_pagedir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Seom page table changes can cause the CPU's translation lookaside buffer (TLB) to become out-of-sync with the page table. </p>
<p >When this happens, we have to "invalidate" the TLB by re-activating it.</p>
<p >This function invalidates the TLB if PD is the active page directory. (If PD is not active then its entries are not in the TLB, so there is no need to invalidate anything.) </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00255">255</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="pagedir_8c_source.html#l00235">active_pd()</a>, and <a class="el" href="pagedir_8c_source.html#l00220">pagedir_activate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pagedir_8c_source.html#l00144">pagedir_clear_page()</a>, <a class="el" href="pagedir_8c_source.html#l00202">pagedir_set_accessed()</a>, and <a class="el" href="pagedir_8c_source.html#l00173">pagedir_set_dirty()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a34a30f77936061902485b4d0f97f7621_cgraph.png" border="0" usemap="#apagedir_8c_a34a30f77936061902485b4d0f97f7621_cgraph" alt=""/></div>
<map name="apagedir_8c_a34a30f77936061902485b4d0f97f7621_cgraph" id="apagedir_8c_a34a30f77936061902485b4d0f97f7621_cgraph">
<area shape="rect" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="5,31,136,57"/>
<area shape="rect" href="pagedir_8c.html#a04a6fbff68b847cb657284fc95ab813a" title="Returns the currently active page directory." alt="" coords="205,5,283,32"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="184,56,304,83"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="352,5,399,32"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="352,56,399,83"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="447,56,563,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a34a30f77936061902485b4d0f97f7621_icgraph.png" border="0" usemap="#apagedir_8c_a34a30f77936061902485b4d0f97f7621_icgraph" alt=""/></div>
<map name="apagedir_8c_a34a30f77936061902485b4d0f97f7621_icgraph" id="apagedir_8c_a34a30f77936061902485b4d0f97f7621_icgraph">
<area shape="rect" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="209,56,340,83"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="13,5,153,32"/>
<area shape="rect" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="5,56,161,83"/>
<area shape="rect" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="21,107,145,133"/>
</map>
</div>

</div>
</div>
<a id="a309fc79834d80e78b36294f270927744" name="a309fc79834d80e78b36294f270927744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309fc79834d80e78b36294f270927744">&#9670;&nbsp;</a></span>lookup_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> * lookup_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the address of the page table entry for virtual address VADDR in page directory PD. </p>
<p >If PD does not have a page table for VADDR, behavior depends on CREATE. If CREATE is true, then a new page table is created and a pointer into it is returned. Otherwise, a null pointer is returned. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00057">57</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00091">create()</a>, <a class="el" href="vaddr_8h_source.html#l00057">is_user_vaddr()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="palloc_8h_source.html#l00010">PAL_ZERO</a>, <a class="el" href="palloc_8c_source.html#l00111">palloc_get_page()</a>, <a class="el" href="pte_8h_source.html#l00037">pd_no()</a>, <a class="el" href="pte_8h_source.html#l00071">pde_create()</a>, <a class="el" href="pte_8h_source.html#l00078">pde_get_pt()</a>, and <a class="el" href="pte_8h_source.html#l00032">pt_no()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pagedir_8c_source.html#l00144">pagedir_clear_page()</a>, <a class="el" href="pagedir_8c_source.html#l00126">pagedir_get_page()</a>, <a class="el" href="pagedir_8c_source.html#l00193">pagedir_is_accessed()</a>, <a class="el" href="pagedir_8c_source.html#l00164">pagedir_is_dirty()</a>, <a class="el" href="pagedir_8c_source.html#l00202">pagedir_set_accessed()</a>, <a class="el" href="pagedir_8c_source.html#l00173">pagedir_set_dirty()</a>, and <a class="el" href="pagedir_8c_source.html#l00099">pagedir_set_page()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a309fc79834d80e78b36294f270927744_cgraph.png" border="0" usemap="#apagedir_8c_a309fc79834d80e78b36294f270927744_cgraph" alt=""/></div>
<map name="apagedir_8c_a309fc79834d80e78b36294f270927744_cgraph" id="apagedir_8c_a309fc79834d80e78b36294f270927744_cgraph">
<area shape="rect" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="5,436,104,463"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="183,284,241,311"/>
<area shape="rect" href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0" title="Returns true if VADDR is a user virtual address." alt="" coords="159,335,265,361"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="152,385,272,412"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="183,436,241,463"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="167,487,257,513"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="167,537,257,564"/>
<area shape="rect" href="pte_8h.html#a5f5188c3118999771bd6e0da658fbff8" title="Obtains page table index from a virtual address." alt="" coords="184,588,240,615"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="320,385,456,412"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="504,208,656,235"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="725,664,823,691"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="531,385,629,412"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="545,157,615,184"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="725,189,823,216"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="704,76,844,103"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="907,107,1026,133"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1099,107,1190,133"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1265,31,1341,57"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1265,81,1341,108"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="923,56,1010,83"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1095,56,1194,83"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1095,5,1194,32"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1416,816,1507,843"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="892,598,1041,639"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1248,588,1357,615"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="920,664,1013,691"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1423,588,1500,615"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1405,639,1517,665"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1565,639,1683,665"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1257,512,1348,539"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1095,512,1195,539"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1089,309,1200,336"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1095,765,1194,792"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1411,689,1512,716"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1259,689,1347,716"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1427,233,1495,260"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1263,309,1342,336"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1421,297,1501,324"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1265,639,1341,665"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="735,385,813,412"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1261,157,1344,184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="915,259,1018,285"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="910,385,1023,412"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1422,157,1501,184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1109,208,1181,235"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1099,259,1190,285"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="357,436,419,463"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="365,487,411,513"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="522,487,638,513"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="365,537,411,564"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a309fc79834d80e78b36294f270927744_icgraph.png" border="0" usemap="#apagedir_8c_a309fc79834d80e78b36294f270927744_icgraph" alt=""/></div>
<map name="apagedir_8c_a309fc79834d80e78b36294f270927744_icgraph" id="apagedir_8c_a309fc79834d80e78b36294f270927744_icgraph">
<area shape="rect" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="1311,157,1409,184"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="1115,5,1255,32"/>
<area shape="rect" href="pagedir_8c.html#a8093fa1c0a54bdc624cb6fb619a86746" title="Looks up the physical address that corresponds to user virtual address UADDR in PD." alt="" coords="1120,56,1249,83"/>
<area shape="rect" href="pagedir_8c.html#a417a00146a2d07eb0d0dfd7c7fd7f13c" title="Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is,..." alt="" coords="1111,107,1258,133"/>
<area shape="rect" href="pagedir_8c.html#a1d5de85f35e83577a5637b067da2d3c4" title="Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified..." alt="" coords="1127,157,1243,184"/>
<area shape="rect" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="1107,208,1263,235"/>
<area shape="rect" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="1123,259,1247,285"/>
<area shape="rect" href="pagedir_8c.html#a87fb1ae04e5465c21f1cf3d07d85b199" title="Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by ..." alt="" coords="1120,309,1249,336"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="965,183,1059,209"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="812,157,917,184"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="818,208,911,235"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="717,183,764,209"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="567,183,669,209"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,183,519,209"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,183,348,209"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,183,227,209"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,183,88,209"/>
</map>
</div>

</div>
</div>
<a id="ac0a75950cc56724fef94d224df4b0cd0" name="ac0a75950cc56724fef94d224df4b0cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0a75950cc56724fef94d224df4b0cd0">&#9670;&nbsp;</a></span>pagedir_activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pagedir_activate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads page directory PD into the CPU's page directory base register. </p>
<p ><a class="el" href="pagedir_8h.html">userprog/pagedir.h</a> </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00220">220</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="init_8c_source.html#l00042">init_page_dir</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, and <a class="el" href="vaddr_8h_source.html#l00082">vtop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pagedir_8c_source.html#l00255">invalidate_pagedir()</a>, <a class="el" href="process_8c_source.html#l00123">process_activate()</a>, and <a class="el" href="process_8c_source.html#l00096">process_exit()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_ac0a75950cc56724fef94d224df4b0cd0_cgraph.png" border="0" usemap="#apagedir_8c_ac0a75950cc56724fef94d224df4b0cd0_cgraph" alt=""/></div>
<map name="apagedir_8c_ac0a75950cc56724fef94d224df4b0cd0_cgraph" id="apagedir_8c_ac0a75950cc56724fef94d224df4b0cd0_cgraph">
<area shape="rect" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="5,5,125,32"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="173,5,220,32"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="268,5,384,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_ac0a75950cc56724fef94d224df4b0cd0_icgraph.png" border="0" usemap="#apagedir_8c_ac0a75950cc56724fef94d224df4b0cd0_icgraph" alt=""/></div>
<map name="apagedir_8c_ac0a75950cc56724fef94d224df4b0cd0_icgraph" id="apagedir_8c_ac0a75950cc56724fef94d224df4b0cd0_icgraph">
<area shape="rect" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1712,893,1832,920"/>
<area shape="rect" href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="1533,792,1664,818"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1537,893,1660,920"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="1184,969,1281,996"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="1337,716,1477,742"/>
<area shape="rect" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="1329,766,1485,793"/>
<area shape="rect" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="1345,817,1469,844"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="1209,918,1256,945"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1335,868,1480,894"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="881,944,984,970"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="497,982,620,1009"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="319,982,393,1009"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,982,227,1009"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,982,88,1009"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1195,849,1271,876"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1037,324,1136,350"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="1043,969,1131,996"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="1039,653,1134,680"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="911,349,954,376"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="886,248,979,274"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="910,298,955,325"/>
<area shape="rect" href="synch_8c.html#a408896d5b2af213dc2a8da984c696419" title="Atomically releases LOCK and waits for COND to be signaled by some other piece of code." alt="" coords="517,248,600,274"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="522,45,595,72"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="521,96,597,122"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="288,84,424,110"/>
<area shape="rect" href="priority-donate-sema_8c.html#aeb0f97fa3c6d25534de6a11bf3532aa3" title=" " alt="" coords="507,146,610,173"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="705,197,803,224"/>
<area shape="rect" href="priority-donate-sema_8c.html#a4dc51b1476966c227801513da4bd6b84" title=" " alt="" coords="699,298,809,325"/>
<area shape="rect" href="priority-sema_8c.html#a256435362d935640e9ba8007e76794d0" title=" " alt="" coords="681,349,827,376"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="503,552,615,578"/>
<area shape="rect" href="synch_8c.html#a57b7a9021b4a9c32f00065da020e96cd" title="Thread function used by sema_self_test()." alt="" coords="690,501,818,528"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="512,653,605,680"/>
<area shape="rect" href="priority-condvar_8c.html#a0a388ce73d55720aac505642bc72ce37" title=" " alt="" coords="275,222,437,249"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="149,406,213,433"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="485,324,632,350"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="489,425,628,452"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="881,704,985,730"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="913,1109,952,1136"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="876,994,989,1021"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="702,653,806,680"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="504,805,613,832"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="517,906,600,933"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="507,1109,611,1136"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="712,1109,796,1136"/>
<area shape="rect" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers." alt="" coords="887,450,979,477"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="721,957,787,984"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="887,805,978,832"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="680,704,828,730"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="708,805,800,832"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="696,754,812,781"/>
</map>
</div>

</div>
</div>
<a id="a6379f06b2c8e0923c86e5948ff1da7a9" name="a6379f06b2c8e0923c86e5948ff1da7a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6379f06b2c8e0923c86e5948ff1da7a9">&#9670;&nbsp;</a></span>pagedir_clear_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pagedir_clear_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>upage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks user virtual page UPAGE "not present" in page directory PD. </p>
<p >Later accesses to the page will fault. Other bits in the page table entry are preserved. UPAGE need not be mapped. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00144">144</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="pagedir_8c_source.html#l00255">invalidate_pagedir()</a>, <a class="el" href="vaddr_8h_source.html#l00057">is_user_vaddr()</a>, <a class="el" href="pagedir_8c_source.html#l00057">lookup_page()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="vaddr_8h_source.html#l00024">pg_ofs()</a>, and <a class="el" href="pte_8h_source.html#l00064">PTE_P</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a6379f06b2c8e0923c86e5948ff1da7a9_cgraph.png" border="0" usemap="#apagedir_8c_a6379f06b2c8e0923c86e5948ff1da7a9_cgraph" alt=""/></div>
<map name="apagedir_8c_a6379f06b2c8e0923c86e5948ff1da7a9_cgraph" id="apagedir_8c_a6379f06b2c8e0923c86e5948ff1da7a9_cgraph">
<area shape="rect" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="5,183,145,209"/>
<area shape="rect" href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="193,56,324,83"/>
<area shape="rect" href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0" title="Returns true if VADDR is a user virtual address." alt="" coords="379,107,485,133"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="209,233,308,260"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="577,461,639,488"/>
<area shape="rect" href="pagedir_8c.html#a04a6fbff68b847cb657284fc95ab813a" title="Returns the currently active page directory." alt="" coords="393,5,471,32"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="372,56,492,83"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="585,81,631,108"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="585,245,631,272"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="742,245,858,272"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="403,360,461,387"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="372,411,492,437"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="403,208,461,235"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="387,259,477,285"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="387,157,477,184"/>
<area shape="rect" href="pte_8h.html#a5f5188c3118999771bd6e0da658fbff8" title="Obtains page table index from a virtual address." alt="" coords="404,309,460,336"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="540,411,676,437"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="724,372,876,399"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="945,701,1043,728"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="751,423,849,449"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="765,321,835,348"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="945,271,1043,297"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="924,169,1064,196"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1127,195,1246,221"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1319,195,1410,221"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1143,144,1230,171"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1315,144,1414,171"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1315,93,1414,120"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1636,853,1727,880"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1112,635,1261,677"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1468,625,1577,652"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1140,701,1233,728"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1643,625,1720,652"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1625,676,1737,703"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1785,676,1903,703"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1477,549,1568,576"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1315,549,1415,576"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1309,397,1420,424"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1315,803,1414,829"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1631,727,1732,753"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1479,777,1567,804"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1647,296,1715,323"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1483,397,1562,424"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1485,676,1561,703"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="955,423,1033,449"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1481,245,1564,272"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1135,347,1238,373"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1130,423,1243,449"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1642,245,1721,272"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1329,296,1401,323"/>
</map>
</div>

</div>
</div>
<a id="a0d3ef6f4fc814424f7d68dd365b085d6" name="a0d3ef6f4fc814424f7d68dd365b085d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d3ef6f4fc814424f7d68dd365b085d6">&#9670;&nbsp;</a></span>pagedir_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> * pagedir_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new page directory that has mappings for kernel virtual addresses, but none for user virtual addresses. </p>
<p >Returns the new page directory, or a null pointer if memory allocation fails. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00017">17</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="init_8c_source.html#l00042">init_page_dir</a>, <a class="el" href="string_8c_source.html#l00007">memcpy()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="palloc_8c_source.html#l00111">palloc_get_page()</a>, and <a class="el" href="vaddr_8h_source.html#l00020">PGSIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="process_8c_source.html#l00209">load()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a0d3ef6f4fc814424f7d68dd365b085d6_cgraph.png" border="0" usemap="#apagedir_8c_a0d3ef6f4fc814424f7d68dd365b085d6_cgraph" alt=""/></div>
<map name="apagedir_8c_a0d3ef6f4fc814424f7d68dd365b085d6_cgraph" id="apagedir_8c_a0d3ef6f4fc814424f7d68dd365b085d6_cgraph">
<area shape="rect" title="Creates a new page directory that has mappings for kernel virtual addresses, but none for user virtua..." alt="" coords="5,233,116,260"/>
<area shape="rect" href="string_8c.html#a75301dc67774ade574b3b3205ee4f39e" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="188,208,260,235"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="164,259,284,285"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="332,259,468,285"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="1544,5,1696,32"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="516,411,613,437"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1779,107,1849,133"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="516,791,613,817"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="1765,5,1863,32"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1744,56,1884,83"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1932,5,2051,32"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="2103,5,2193,32"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="2245,31,2321,57"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="2245,81,2321,108"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1948,56,2035,83"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="2099,107,2197,133"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="2099,56,2197,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1389,208,1479,235"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="661,783,811,825"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1565,512,1675,539"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="689,635,783,661"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1775,867,1853,893"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1758,360,1870,387"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1933,360,2050,387"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1206,917,1297,944"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1025,917,1125,944"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1020,1120,1131,1147"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="866,635,965,661"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1383,664,1485,691"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1207,613,1295,640"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1957,1321,2025,1348"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1212,1081,1291,1108"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1774,1107,1854,1133"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1406,1031,1462,1057"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1037,611,1113,637"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1228,512,1275,539"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="1183,1132,1320,1159"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="1196,563,1307,589"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1179,360,1324,387"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1773,1259,1855,1285"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1383,1233,1485,1260"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1952,1259,2031,1285"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1584,1233,1656,1260"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1575,1132,1665,1159"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1372,259,1496,285"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1373,411,1495,437"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1550,56,1690,83"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1560,411,1680,437"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="697,993,775,1020"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="859,1019,972,1045"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a0d3ef6f4fc814424f7d68dd365b085d6_icgraph.png" border="0" usemap="#apagedir_8c_a0d3ef6f4fc814424f7d68dd365b085d6_icgraph" alt=""/></div>
<map name="apagedir_8c_a0d3ef6f4fc814424f7d68dd365b085d6_icgraph" id="apagedir_8c_a0d3ef6f4fc814424f7d68dd365b085d6_icgraph">
<area shape="rect" title="Creates a new page directory that has mappings for kernel virtual addresses, but none for user virtua..." alt="" coords="812,5,923,32"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="717,5,764,32"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="567,5,669,32"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,5,519,32"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,5,348,32"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,5,227,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,88,32"/>
</map>
</div>

</div>
</div>
<a id="ab1919f57e1ba60ed2c2f46b4410e9799" name="ab1919f57e1ba60ed2c2f46b4410e9799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1919f57e1ba60ed2c2f46b4410e9799">&#9670;&nbsp;</a></span>pagedir_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pagedir_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys page directory PD, freeing all the pages it references. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00028">28</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="init_8c_source.html#l00042">init_page_dir</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="palloc_8c_source.html#l00146">palloc_free_page()</a>, <a class="el" href="pte_8h_source.html#l00037">pd_no()</a>, <a class="el" href="pte_8h_source.html#l00078">pde_get_pt()</a>, <a class="el" href="vaddr_8h_source.html#l00020">PGSIZE</a>, <a class="el" href="vaddr_8h_source.html#l00053">PHYS_BASE</a>, <a class="el" href="pte_8h_source.html#l00102">pte_get_page()</a>, and <a class="el" href="pte_8h_source.html#l00064">PTE_P</a>.</p>

<p class="reference">Referenced by <a class="el" href="process_8c_source.html#l00096">process_exit()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_ab1919f57e1ba60ed2c2f46b4410e9799_cgraph.png" border="0" usemap="#apagedir_8c_ab1919f57e1ba60ed2c2f46b4410e9799_cgraph" alt=""/></div>
<map name="apagedir_8c_ab1919f57e1ba60ed2c2f46b4410e9799_cgraph" id="apagedir_8c_ab1919f57e1ba60ed2c2f46b4410e9799_cgraph">
<area shape="rect" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="5,208,123,235"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="171,132,295,159"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="203,183,262,209"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="188,233,277,260"/>
<area shape="rect" href="pte_8h.html#a74bfe6c82c7b9fe6c3d8a95bf720615c" title="Returns a pointer to the page that page table entry PTE points to." alt="" coords="181,284,285,311"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="343,132,483,159"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="559,5,642,32"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="531,56,671,83"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="566,107,635,133"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="541,157,660,184"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="749,208,807,235"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="569,259,632,285"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="719,5,837,32"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="889,5,980,32"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1032,31,1108,57"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1032,81,1108,108"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="735,56,821,83"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="885,107,984,133"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="885,56,984,83"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="731,157,825,184"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="389,259,436,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_ab1919f57e1ba60ed2c2f46b4410e9799_icgraph.png" border="0" usemap="#apagedir_8c_ab1919f57e1ba60ed2c2f46b4410e9799_icgraph" alt=""/></div>
<map name="apagedir_8c_ab1919f57e1ba60ed2c2f46b4410e9799_icgraph" id="apagedir_8c_ab1919f57e1ba60ed2c2f46b4410e9799_icgraph">
<area shape="rect" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="1181,144,1299,171"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="1036,144,1133,171"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="900,144,988,171"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="743,144,847,171"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,68,88,95"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="776,220,815,247"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="587,55,690,82"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="739,271,852,298"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="587,144,691,171"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="416,43,539,70"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="421,144,533,171"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="423,195,532,222"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="436,246,519,272"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="275,94,368,120"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="285,43,358,70"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,43,227,70"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="425,296,529,323"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="597,290,681,316"/>
</map>
</div>

</div>
</div>
<a id="a8093fa1c0a54bdc624cb6fb619a86746" name="a8093fa1c0a54bdc624cb6fb619a86746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8093fa1c0a54bdc624cb6fb619a86746">&#9670;&nbsp;</a></span>pagedir_get_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * pagedir_get_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>uaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks up the physical address that corresponds to user virtual address UADDR in PD. </p>
<p >Returns the kernel virtual address corresponding to that physical address, or a null pointer if UADDR is unmapped. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00126">126</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="vaddr_8h_source.html#l00057">is_user_vaddr()</a>, <a class="el" href="pagedir_8c_source.html#l00057">lookup_page()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="vaddr_8h_source.html#l00024">pg_ofs()</a>, <a class="el" href="pte_8h_source.html#l00102">pte_get_page()</a>, and <a class="el" href="pte_8h_source.html#l00064">PTE_P</a>.</p>

<p class="reference">Referenced by <a class="el" href="process_8c_source.html#l00457">install_page()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a8093fa1c0a54bdc624cb6fb619a86746_cgraph.png" border="0" usemap="#apagedir_8c_a8093fa1c0a54bdc624cb6fb619a86746_cgraph" alt=""/></div>
<map name="apagedir_8c_a8093fa1c0a54bdc624cb6fb619a86746_cgraph" id="apagedir_8c_a8093fa1c0a54bdc624cb6fb619a86746_cgraph">
<area shape="rect" title="Looks up the physical address that corresponds to user virtual address UADDR in PD." alt="" coords="5,196,135,223"/>
<area shape="rect" href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0" title="Returns true if VADDR is a user virtual address." alt="" coords="342,120,447,147"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="185,247,284,273"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="539,83,602,109"/>
<area shape="rect" href="pte_8h.html#a74bfe6c82c7b9fe6c3d8a95bf720615c" title="Returns a pointer to the page that page table entry PTE points to." alt="" coords="183,399,287,425"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="365,272,424,299"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="335,323,455,349"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="365,373,424,400"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="350,171,439,197"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="350,424,439,451"/>
<area shape="rect" href="pte_8h.html#a5f5188c3118999771bd6e0da658fbff8" title="Obtains page table index from a virtual address." alt="" coords="367,221,423,248"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="503,360,639,387"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="687,199,839,225"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="908,643,1005,669"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="714,360,811,387"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="728,461,797,488"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="908,176,1005,203"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="887,68,1027,95"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1090,107,1209,133"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1282,107,1373,133"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1447,56,1523,83"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1106,56,1193,83"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1278,5,1377,32"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1278,56,1377,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1599,791,1689,817"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1075,555,1224,597"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1431,563,1540,589"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1103,643,1196,669"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1605,563,1683,589"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1588,613,1700,640"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1748,613,1865,640"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1440,512,1531,539"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1277,512,1377,539"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1272,309,1383,336"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1278,765,1377,792"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1593,664,1695,691"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1441,715,1529,741"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1610,259,1678,285"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1446,309,1525,336"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1447,613,1523,640"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="918,360,995,387"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1444,208,1527,235"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1098,259,1201,285"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1093,411,1206,437"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1605,208,1683,235"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1291,208,1363,235"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1282,259,1373,285"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="547,159,594,185"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="705,148,821,175"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="547,449,594,476"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a8093fa1c0a54bdc624cb6fb619a86746_icgraph.png" border="0" usemap="#apagedir_8c_a8093fa1c0a54bdc624cb6fb619a86746_icgraph" alt=""/></div>
<map name="apagedir_8c_a8093fa1c0a54bdc624cb6fb619a86746_icgraph" id="apagedir_8c_a8093fa1c0a54bdc624cb6fb619a86746_icgraph">
<area shape="rect" title="Looks up the physical address that corresponds to user virtual address UADDR in PD." alt="" coords="1107,31,1236,57"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="965,31,1059,57"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="812,5,917,32"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="818,56,911,83"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="717,31,764,57"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="567,31,669,57"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,31,519,57"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,31,348,57"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,31,227,57"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,31,88,57"/>
</map>
</div>

</div>
</div>
<a id="a417a00146a2d07eb0d0dfd7c7fd7f13c" name="a417a00146a2d07eb0d0dfd7c7fd7f13c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a417a00146a2d07eb0d0dfd7c7fd7f13c">&#9670;&nbsp;</a></span>pagedir_is_accessed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> pagedir_is_accessed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vpage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is, between the time the PTE was installed and the last time it was cleared. </p>
<p >Returns false if PD contains no PTE for VPAGE. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00193">193</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="pagedir_8c_source.html#l00057">lookup_page()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, and <a class="el" href="pte_8h_source.html#l00067">PTE_A</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a417a00146a2d07eb0d0dfd7c7fd7f13c_cgraph.png" border="0" usemap="#apagedir_8c_a417a00146a2d07eb0d0dfd7c7fd7f13c_cgraph" alt=""/></div>
<map name="apagedir_8c_a417a00146a2d07eb0d0dfd7c7fd7f13c_cgraph" id="apagedir_8c_a417a00146a2d07eb0d0dfd7c7fd7f13c_cgraph">
<area shape="rect" title="Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is,..." alt="" coords="5,555,152,581"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="200,555,299,581"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="377,403,436,429"/>
<area shape="rect" href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0" title="Returns true if VADDR is a user virtual address." alt="" coords="354,453,459,480"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="347,504,467,531"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="377,555,436,581"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="362,605,451,632"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="362,656,451,683"/>
<area shape="rect" href="pte_8h.html#a5f5188c3118999771bd6e0da658fbff8" title="Obtains page table index from a virtual address." alt="" coords="379,707,435,733"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="515,504,651,531"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="699,573,851,600"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="920,124,1017,151"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="726,504,823,531"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="740,453,809,480"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="920,719,1017,745"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="899,592,1039,619"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1102,783,1221,809"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1294,808,1385,835"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1459,732,1535,759"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1459,783,1535,809"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1118,707,1205,733"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1290,707,1389,733"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1290,757,1389,784"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1611,11,1701,37"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1087,117,1236,158"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1443,48,1552,75"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1115,200,1208,227"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1617,149,1695,176"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1600,73,1712,100"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1760,73,1877,100"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1452,403,1543,429"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1289,352,1389,379"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1284,251,1395,277"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1290,200,1389,227"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1605,251,1707,277"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1453,301,1541,328"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1622,453,1690,480"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1458,251,1537,277"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1459,149,1535,176"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="930,504,1007,531"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1456,605,1539,632"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1110,555,1213,581"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1105,403,1218,429"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1617,605,1695,632"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1303,605,1375,632"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1294,555,1385,581"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="551,555,614,581"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="559,605,606,632"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="717,624,833,651"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="559,656,606,683"/>
</map>
</div>

</div>
</div>
<a id="a1d5de85f35e83577a5637b067da2d3c4" name="a1d5de85f35e83577a5637b067da2d3c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d5de85f35e83577a5637b067da2d3c4">&#9670;&nbsp;</a></span>pagedir_is_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> pagedir_is_dirty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vpage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified since the PTE was installed. </p>
<p >Returns false if PD contains no PTE for VPAGE. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00164">164</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="pagedir_8c_source.html#l00057">lookup_page()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, and <a class="el" href="pte_8h_source.html#l00068">PTE_D</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a1d5de85f35e83577a5637b067da2d3c4_cgraph.png" border="0" usemap="#apagedir_8c_a1d5de85f35e83577a5637b067da2d3c4_cgraph" alt=""/></div>
<map name="apagedir_8c_a1d5de85f35e83577a5637b067da2d3c4_cgraph" id="apagedir_8c_a1d5de85f35e83577a5637b067da2d3c4_cgraph">
<area shape="rect" title="Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified..." alt="" coords="5,555,121,581"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="169,555,268,581"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="347,403,405,429"/>
<area shape="rect" href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0" title="Returns true if VADDR is a user virtual address." alt="" coords="323,453,429,480"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="316,504,436,531"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="347,555,405,581"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="331,605,421,632"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="331,656,421,683"/>
<area shape="rect" href="pte_8h.html#a5f5188c3118999771bd6e0da658fbff8" title="Obtains page table index from a virtual address." alt="" coords="348,707,404,733"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="484,504,620,531"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="668,573,820,600"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="889,124,987,151"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="695,504,793,531"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="709,453,779,480"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="889,719,987,745"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="868,592,1008,619"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1071,783,1190,809"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1263,808,1354,835"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1429,732,1505,759"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1429,783,1505,809"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1087,707,1174,733"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1259,707,1358,733"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1259,757,1358,784"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1580,11,1671,37"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1056,117,1205,158"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1412,48,1521,75"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1084,200,1177,227"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1587,149,1664,176"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1569,73,1681,100"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1729,73,1847,100"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1421,403,1512,429"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1259,352,1359,379"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1253,251,1364,277"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1259,200,1358,227"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1575,251,1676,277"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1423,301,1511,328"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1591,453,1659,480"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1427,251,1506,277"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1429,149,1505,176"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="899,504,977,531"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1425,605,1508,632"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1079,555,1182,581"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1074,403,1187,429"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1586,605,1665,632"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1273,605,1345,632"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1263,555,1354,581"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="521,555,583,581"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="529,605,575,632"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="686,624,802,651"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="529,656,575,683"/>
</map>
</div>

</div>
</div>
<a id="a2fabddf918d199c2996a61357a584173" name="a2fabddf918d199c2996a61357a584173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fabddf918d199c2996a61357a584173">&#9670;&nbsp;</a></span>pagedir_set_accessed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pagedir_set_accessed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vpage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>accessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00202">202</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="pagedir_8c_source.html#l00255">invalidate_pagedir()</a>, <a class="el" href="pagedir_8c_source.html#l00057">lookup_page()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, and <a class="el" href="pte_8h_source.html#l00067">PTE_A</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a2fabddf918d199c2996a61357a584173_cgraph.png" border="0" usemap="#apagedir_8c_a2fabddf918d199c2996a61357a584173_cgraph" alt=""/></div>
<map name="apagedir_8c_a2fabddf918d199c2996a61357a584173_cgraph" id="apagedir_8c_a2fabddf918d199c2996a61357a584173_cgraph">
<area shape="rect" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="5,183,161,209"/>
<area shape="rect" href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="209,107,340,133"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="225,233,324,260"/>
<area shape="rect" href="pagedir_8c.html#a04a6fbff68b847cb657284fc95ab813a" title="Returns the currently active page directory." alt="" coords="409,107,487,133"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="388,5,508,32"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="601,132,647,159"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="601,5,647,32"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="758,5,874,32"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="419,259,477,285"/>
<area shape="rect" href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0" title="Returns true if VADDR is a user virtual address." alt="" coords="395,309,501,336"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="388,411,508,437"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="419,360,477,387"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="403,56,493,83"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="403,157,493,184"/>
<area shape="rect" href="pte_8h.html#a5f5188c3118999771bd6e0da658fbff8" title="Obtains page table index from a virtual address." alt="" coords="420,208,476,235"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="556,411,692,437"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="740,335,892,361"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="961,715,1059,741"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="767,436,865,463"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="781,284,851,311"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="961,284,1059,311"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="940,183,1080,209"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1143,208,1262,235"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1335,208,1426,235"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1159,157,1246,184"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1331,157,1430,184"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1331,107,1430,133"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1652,867,1743,893"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1128,649,1277,690"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1484,639,1593,665"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1156,715,1249,741"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1659,639,1736,665"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1641,689,1753,716"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1801,689,1919,716"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1493,563,1584,589"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1331,563,1431,589"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1325,411,1436,437"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1331,816,1430,843"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1647,740,1748,767"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1495,791,1583,817"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1663,309,1731,336"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1499,411,1578,437"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1501,689,1577,716"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="971,436,1049,463"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1497,259,1580,285"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1151,347,1254,373"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1146,436,1259,463"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1658,259,1737,285"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1345,309,1417,336"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="593,56,655,83"/>
</map>
</div>

</div>
</div>
<a id="a15ac1b1be9791df0327744a9f7801811" name="a15ac1b1be9791df0327744a9f7801811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ac1b1be9791df0327744a9f7801811">&#9670;&nbsp;</a></span>pagedir_set_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pagedir_set_dirty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vpage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>dirty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00173">173</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="pagedir_8c_source.html#l00255">invalidate_pagedir()</a>, <a class="el" href="pagedir_8c_source.html#l00057">lookup_page()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, and <a class="el" href="pte_8h_source.html#l00068">PTE_D</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a15ac1b1be9791df0327744a9f7801811_cgraph.png" border="0" usemap="#apagedir_8c_a15ac1b1be9791df0327744a9f7801811_cgraph" alt=""/></div>
<map name="apagedir_8c_a15ac1b1be9791df0327744a9f7801811_cgraph" id="apagedir_8c_a15ac1b1be9791df0327744a9f7801811_cgraph">
<area shape="rect" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="5,183,129,209"/>
<area shape="rect" href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="177,107,308,133"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="193,233,292,260"/>
<area shape="rect" href="pagedir_8c.html#a04a6fbff68b847cb657284fc95ab813a" title="Returns the currently active page directory." alt="" coords="377,107,455,133"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="356,5,476,32"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="569,132,615,159"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="569,5,615,32"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="726,5,842,32"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="387,259,445,285"/>
<area shape="rect" href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0" title="Returns true if VADDR is a user virtual address." alt="" coords="363,309,469,336"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="356,411,476,437"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="387,360,445,387"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="371,56,461,83"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="371,157,461,184"/>
<area shape="rect" href="pte_8h.html#a5f5188c3118999771bd6e0da658fbff8" title="Obtains page table index from a virtual address." alt="" coords="388,208,444,235"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="524,411,660,437"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="708,335,860,361"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="929,715,1027,741"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="735,436,833,463"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="749,284,819,311"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="929,284,1027,311"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="908,183,1048,209"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1111,208,1230,235"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1303,208,1394,235"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1127,157,1214,184"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1299,157,1398,184"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1299,107,1398,133"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1620,867,1711,893"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1096,649,1245,690"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1452,639,1561,665"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1124,715,1217,741"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1627,639,1704,665"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1609,689,1721,716"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1769,689,1887,716"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1461,563,1552,589"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1299,563,1399,589"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1293,411,1404,437"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1299,816,1398,843"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1615,740,1716,767"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1463,791,1551,817"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1631,309,1699,336"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1467,411,1546,437"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1469,689,1545,716"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="939,436,1017,463"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1465,259,1548,285"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1119,347,1222,373"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1114,436,1227,463"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1626,259,1705,285"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1313,309,1385,336"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="561,56,623,83"/>
</map>
</div>

</div>
</div>
<a id="a87fb1ae04e5465c21f1cf3d07d85b199" name="a87fb1ae04e5465c21f1cf3d07d85b199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87fb1ae04e5465c21f1cf3d07d85b199">&#9670;&nbsp;</a></span>pagedir_set_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> pagedir_set_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>upage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kpage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>writable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by kernel virtual address KPAGE. </p>
<p >UPAGE must not already be mapped. KPAGE should probably be a page obtained from the user pool with <a class="el" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address.">palloc_get_page()</a>. If WRITABLE is true, the new page is read/write; otherwise it is read-only. Returns true if successful, false if memory allocation failed. </p>

<p class="definition">Definition at line <a class="el" href="pagedir_8c_source.html#l00099">99</a> of file <a class="el" href="pagedir_8c_source.html">pagedir.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="init_8c_source.html#l00042">init_page_dir</a>, <a class="el" href="loader_8h.html#a8c61f06594eb5ebc965803c3d851beee">init_ram_pages</a>, <a class="el" href="vaddr_8h_source.html#l00057">is_user_vaddr()</a>, <a class="el" href="pagedir_8c_source.html#l00057">lookup_page()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="vaddr_8h_source.html#l00024">pg_ofs()</a>, <a class="el" href="pte_8h_source.html#l00096">pte_create_user()</a>, <a class="el" href="pte_8h_source.html#l00064">PTE_P</a>, <a class="el" href="pte_8h_source.html#l00021">PTSHIFT</a>, and <a class="el" href="vaddr_8h_source.html#l00082">vtop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="process_8c_source.html#l00457">install_page()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a87fb1ae04e5465c21f1cf3d07d85b199_cgraph.png" border="0" usemap="#apagedir_8c_a87fb1ae04e5465c21f1cf3d07d85b199_cgraph" alt=""/></div>
<map name="apagedir_8c_a87fb1ae04e5465c21f1cf3d07d85b199_cgraph" id="apagedir_8c_a87fb1ae04e5465c21f1cf3d07d85b199_cgraph">
<area shape="rect" title="Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by ..." alt="" coords="5,549,135,576"/>
<area shape="rect" href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0" title="Returns true if VADDR is a user virtual address." alt="" coords="361,195,467,221"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="193,372,291,399"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="563,549,626,576"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="571,600,618,627"/>
<area shape="rect" href="pte_8h.html#a0783b95ac9d016f2faf796a22751cc9c" title="Returns a PTE that points to PAGE." alt="" coords="183,600,301,627"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="385,448,443,475"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="354,347,474,373"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="385,245,443,272"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="369,499,459,525"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="369,296,459,323"/>
<area shape="rect" href="pte_8h.html#a5f5188c3118999771bd6e0da658fbff8" title="Obtains page table index from a virtual address." alt="" coords="386,397,442,424"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="527,347,663,373"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="711,309,863,336"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="932,664,1029,691"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="738,385,835,412"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="752,259,821,285"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="932,265,1029,292"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="911,101,1051,128"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1114,132,1233,159"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1306,107,1397,133"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1130,56,1217,83"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1302,5,1401,32"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1302,56,1401,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1623,816,1713,843"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1099,598,1248,639"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1455,588,1564,615"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1127,664,1220,691"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1629,588,1707,615"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1612,639,1724,665"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1772,639,1889,665"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1464,512,1555,539"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1301,512,1401,539"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1296,309,1407,336"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1302,765,1401,792"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1617,689,1719,716"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1465,740,1553,767"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1634,259,1702,285"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1470,309,1549,336"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1471,639,1547,665"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="942,385,1019,412"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1468,208,1551,235"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1122,208,1225,235"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1117,385,1230,412"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1629,208,1707,235"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1315,157,1387,184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1306,208,1397,235"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="729,600,845,627"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="571,296,618,323"/>
<area shape="rect" href="pte_8h.html#abf0431b823576ecff35456407f0bd987" title="Returns a PTE that points to PAGE." alt="" coords="349,600,479,627"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pagedir_8c_a87fb1ae04e5465c21f1cf3d07d85b199_icgraph.png" border="0" usemap="#apagedir_8c_a87fb1ae04e5465c21f1cf3d07d85b199_icgraph" alt=""/></div>
<map name="apagedir_8c_a87fb1ae04e5465c21f1cf3d07d85b199_icgraph" id="apagedir_8c_a87fb1ae04e5465c21f1cf3d07d85b199_icgraph">
<area shape="rect" title="Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by ..." alt="" coords="1107,31,1236,57"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="965,31,1059,57"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="812,5,917,32"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="818,56,911,83"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="717,31,764,57"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="567,31,669,57"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,31,519,57"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,31,348,57"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,31,227,57"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,31,88,57"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 4 2021 19:31:07 for PKUOS - Pintos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
