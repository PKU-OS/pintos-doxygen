<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PKUOS - Pintos: src/threads/palloc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PKUOS - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for PKU Operating System course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3454632d1a606e9a309cdaae2c26d5ae.html">threads</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">palloc.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="palloc_8h_source.html">threads/palloc.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="bitmap_8h_source.html">bitmap.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="debug_8h_source.html">debug.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="inttypes_8h_source.html">inttypes.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="round_8h_source.html">round.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stddef_8h_source.html">stddef.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stdint_8h_source.html">stdint.h</a>&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="loader_8h_source.html">threads/loader.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="synch_8h_source.html">threads/synch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vaddr_8h_source.html">threads/vaddr.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for palloc.c:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c__incl.png" border="0" usemap="#asrc_2threads_2palloc_8c" alt=""/></div>
<map name="asrc_2threads_2palloc_8c" id="asrc_2threads_2palloc_8c">
<area shape="rect" title=" " alt="" coords="536,5,673,32"/>
<area shape="rect" href="palloc_8h.html" title=" " alt="" coords="5,155,121,181"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="214,229,283,256"/>
<area shape="rect" href="bitmap_8h.html" title=" " alt="" coords="468,80,541,107"/>
<area shape="rect" href="inttypes_8h.html" title=" " alt="" coords="513,155,592,181"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="597,229,663,256"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="913,155,984,181"/>
<area shape="rect" href="round_8h.html" title=" " alt="" coords="907,80,974,107"/>
<area shape="rect" title=" " alt="" coords="998,80,1059,107"/>
<area shape="rect" href="string_8h.html" title=" " alt="" coords="145,155,211,181"/>
<area shape="rect" href="loader_8h.html" title=" " alt="" coords="719,155,837,181"/>
<area shape="rect" href="synch_8h.html" title=" " alt="" coords="328,80,444,107"/>
<area shape="rect" href="vaddr_8h.html" title=" " alt="" coords="718,80,833,107"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="412,229,488,256"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="337,155,387,181"/>
</map>
</div>
</div>
<p><a href="palloc_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpool.html">pool</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Page allocator.  <a href="structpool.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae93da2ef876a9e957a6245fa2bd68a1f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f">init_pool</a> (struct <a class="el" href="structpool.html">pool</a> *p, void *base, <a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> page_cnt, const char *<a class="el" href="insult_8c.html#a458312c43d951ea41bca2379541164e6">name</a>)</td></tr>
<tr class="memdesc:ae93da2ef876a9e957a6245fa2bd68a1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes.  <a href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f">More...</a><br /></td></tr>
<tr class="separator:ae93da2ef876a9e957a6245fa2bd68a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2adf802e51d008838946d621cb4e8fb2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2">page_from_pool</a> (const struct <a class="el" href="structpool.html">pool</a> *<a class="el" href="structpool.html">pool</a>, void *page)</td></tr>
<tr class="memdesc:a2adf802e51d008838946d621cb4e8fb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if PAGE was allocated from POOL, false otherwise.  <a href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2">More...</a><br /></td></tr>
<tr class="separator:a2adf802e51d008838946d621cb4e8fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc2c206763e5de4e4414fda821ca6db8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="palloc_8c.html#acc2c206763e5de4e4414fda821ca6db8">palloc_init</a> (<a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> <a class="el" href="init_8c.html#ae69871686b7900a412fe87ae7f754123">user_page_limit</a>)</td></tr>
<tr class="memdesc:acc2c206763e5de4e4414fda821ca6db8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the page allocator.  <a href="palloc_8c.html#acc2c206763e5de4e4414fda821ca6db8">More...</a><br /></td></tr>
<tr class="separator:acc2c206763e5de4e4414fda821ca6db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303ef0c7222e4b461dc79f8a90f31bea"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea">palloc_get_multiple</a> (enum <a class="el" href="palloc_8h.html#a7685e2e9a9a8a22a135906020c0a5e70">palloc_flags</a> flags, <a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> page_cnt)</td></tr>
<tr class="memdesc:a303ef0c7222e4b461dc79f8a90f31bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains and returns a group of PAGE_CNT contiguous free pages.  <a href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea">More...</a><br /></td></tr>
<tr class="separator:a303ef0c7222e4b461dc79f8a90f31bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c66d7fdb0a9c8da247421261b5ca188"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188">palloc_get_page</a> (enum <a class="el" href="palloc_8h.html#a7685e2e9a9a8a22a135906020c0a5e70">palloc_flags</a> flags)</td></tr>
<tr class="memdesc:a0c66d7fdb0a9c8da247421261b5ca188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a single free page and returns its kernel virtual address.  <a href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188">More...</a><br /></td></tr>
<tr class="separator:a0c66d7fdb0a9c8da247421261b5ca188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c2af0e0bdc81d1ea21354c4234b20e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e">palloc_free_multiple</a> (void *pages, <a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> page_cnt)</td></tr>
<tr class="memdesc:af4c2af0e0bdc81d1ea21354c4234b20e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the PAGE_CNT pages starting at PAGES.  <a href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e">More...</a><br /></td></tr>
<tr class="separator:af4c2af0e0bdc81d1ea21354c4234b20e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3fe56f7c611216596e7565fb8521409"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409">palloc_free_page</a> (void *page)</td></tr>
<tr class="memdesc:ad3fe56f7c611216596e7565fb8521409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the page at PAGE.  <a href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409">More...</a><br /></td></tr>
<tr class="separator:ad3fe56f7c611216596e7565fb8521409"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a798d1e460a329dac60bc738a8a22f153"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structpool.html">pool</a> kernel_pool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="palloc_8c.html#a798d1e460a329dac60bc738a8a22f153">user_pool</a></td></tr>
<tr class="memdesc:a798d1e460a329dac60bc738a8a22f153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Two pools: one for kernel data, one for user pages.  <a href="palloc_8c.html#a798d1e460a329dac60bc738a8a22f153">More...</a><br /></td></tr>
<tr class="separator:a798d1e460a329dac60bc738a8a22f153"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae93da2ef876a9e957a6245fa2bd68a1f" name="ae93da2ef876a9e957a6245fa2bd68a1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93da2ef876a9e957a6245fa2bd68a1f">&#9670;&nbsp;</a></span>init_pool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_pool </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpool.html">pool</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>page_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes. </p>

<p class="definition">Definition at line <a class="el" href="palloc_8c_source.html#l00154">154</a> of file <a class="el" href="palloc_8c_source.html">palloc.c</a>.</p>

<p class="reference">References <a class="el" href="palloc_8c_source.html#l00033">pool::base</a>, <a class="el" href="bitmap_8c_source.html#l00115">bitmap_buf_size()</a>, <a class="el" href="bitmap_8c_source.html#l00100">bitmap_create_in_buf()</a>, <a class="el" href="round_8h_source.html#l00010">DIV_ROUND_UP</a>, <a class="el" href="palloc_8c_source.html#l00031">pool::lock</a>, <a class="el" href="synch_8c_source.html#l00176">lock_init()</a>, <a class="el" href="insult_8c_source.html#l00047">name</a>, <a class="el" href="debug_8h_source.html#l00014">PANIC</a>, <a class="el" href="vaddr_8h_source.html#l00020">PGSIZE</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, and <a class="el" href="palloc_8c_source.html#l00032">pool::used_map</a>.</p>

<p class="reference">Referenced by <a class="el" href="palloc_8c_source.html#l00046">palloc_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_ae93da2ef876a9e957a6245fa2bd68a1f_cgraph.png" border="0" usemap="#apalloc_8c_ae93da2ef876a9e957a6245fa2bd68a1f_cgraph" alt=""/></div>
<map name="apalloc_8c_ae93da2ef876a9e957a6245fa2bd68a1f_cgraph" id="apalloc_8c_ae93da2ef876a9e957a6245fa2bd68a1f_cgraph">
<area shape="rect" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="5,125,77,152"/>
<area shape="rect" href="bitmap_8c.html#a8192bb283d7342152e4740c3b528ff84" title="Returns the number of bytes required to accomodate a bitmap with BIT_CNT bits (for use with bitmap_cr..." alt="" coords="324,5,443,32"/>
<area shape="rect" href="bitmap_8c.html#af1baf5aebcbd8ded4f5a9c6195b4cc64" title="Creates and returns a bitmap with BIT_CNT bits in the BLOCK_SIZE bytes of storage preallocated at BLO..." alt="" coords="125,75,276,101"/>
<area shape="rect" href="synch_8c.html#aa760472aa4916bba476b2165ea25b411" title="Initializes LOCK." alt="" coords="165,151,236,177"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="175,277,227,304"/>
<area shape="rect" href="bitmap_8c.html#a2a7a926eb6f971a33a2ce103b73aff38" title="Returns the number of bytes required for BIT_CNT bits." alt="" coords="525,5,597,32"/>
<area shape="rect" href="bitmap_8c.html#a12b88bb32eb5563c12b75f09681267df" title="Returns the number of elements required for BIT_CNT bits." alt="" coords="704,5,780,32"/>
<area shape="rect" href="bitmap_8c.html#ad1c4bbb333372b166e232cf271236c90" title="Setting and testing multiple bits." alt="" coords="329,107,437,133"/>
<area shape="rect" href="block_8c.html#a66f8a413d9cb3ea11c9cd302f803daea" title="Returns the number of sectors in BLOCK." alt="" coords="341,56,425,83"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="491,56,631,83"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="514,107,607,133"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="699,56,785,83"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="871,31,969,57"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="871,81,969,108"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1089,31,1165,57"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1089,81,1165,108"/>
<area shape="rect" href="synch_8c.html#a1349a31f4880cf4eae026761f0ab3343" title="This file is derived from source code for the Nachos instructional operating system." alt="" coords="344,157,423,184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a8aa862d10f52f7b0348fce990c7c12db" title="Initializes LIST as an empty list." alt="" coords="529,157,592,184"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="354,360,413,387"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="524,208,597,235"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="683,360,801,387"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="501,731,620,757"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="509,807,612,833"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="709,157,775,184"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="688,259,796,285"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="692,208,792,235"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="679,309,805,336"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="711,107,773,133"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="875,208,965,235"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="892,259,948,285"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1473,604,1564,631"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="871,461,969,488"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1267,411,1416,453"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1464,477,1573,504"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1080,680,1173,707"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1639,705,1716,732"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1621,477,1733,504"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1473,1009,1564,1036"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1291,984,1391,1011"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1286,832,1397,859"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1292,629,1391,656"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="693,781,791,808"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="881,908,959,935"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1085,832,1168,859"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1075,883,1178,909"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1070,933,1183,960"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="853,1035,987,1061"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1035,614,1219,655"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="1083,1136,1170,1163"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1089,1085,1165,1112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_ae93da2ef876a9e957a6245fa2bd68a1f_icgraph.png" border="0" usemap="#apalloc_8c_ae93da2ef876a9e957a6245fa2bd68a1f_icgraph" alt=""/></div>
<map name="apalloc_8c_ae93da2ef876a9e957a6245fa2bd68a1f_icgraph" id="apalloc_8c_ae93da2ef876a9e957a6245fa2bd68a1f_icgraph">
<area shape="rect" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="265,5,337,32"/>
<area shape="rect" href="palloc_8c.html#acc2c206763e5de4e4414fda821ca6db8" title="Initializes the page allocator." alt="" coords="136,5,217,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,88,32"/>
</map>
</div>

</div>
</div>
<a id="a2adf802e51d008838946d621cb4e8fb2" name="a2adf802e51d008838946d621cb4e8fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2adf802e51d008838946d621cb4e8fb2">&#9670;&nbsp;</a></span>page_from_pool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> page_from_pool </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structpool.html">pool</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if PAGE was allocated from POOL, false otherwise. </p>

<p class="definition">Definition at line <a class="el" href="palloc_8c_source.html#l00175">175</a> of file <a class="el" href="palloc_8c_source.html">palloc.c</a>.</p>

<p class="reference">References <a class="el" href="palloc_8c_source.html#l00033">pool::base</a>, <a class="el" href="bitmap_8c_source.html#l00136">bitmap_size()</a>, <a class="el" href="vaddr_8h_source.html#l00029">pg_no()</a>, and <a class="el" href="palloc_8c_source.html#l00032">pool::used_map</a>.</p>

<p class="reference">Referenced by <a class="el" href="palloc_8c_source.html#l00118">palloc_free_multiple()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_a2adf802e51d008838946d621cb4e8fb2_cgraph.png" border="0" usemap="#apalloc_8c_a2adf802e51d008838946d621cb4e8fb2_cgraph" alt=""/></div>
<map name="apalloc_8c_a2adf802e51d008838946d621cb4e8fb2_cgraph" id="apalloc_8c_a2adf802e51d008838946d621cb4e8fb2_cgraph">
<area shape="rect" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="5,31,124,57"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="172,5,265,32"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="189,56,248,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_a2adf802e51d008838946d621cb4e8fb2_icgraph.png" border="0" usemap="#apalloc_8c_a2adf802e51d008838946d621cb4e8fb2_icgraph" alt=""/></div>
<map name="apalloc_8c_a2adf802e51d008838946d621cb4e8fb2_icgraph" id="apalloc_8c_a2adf802e51d008838946d621cb4e8fb2_icgraph">
<area shape="rect" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1720,1308,1839,1335"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1532,1308,1672,1335"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="1217,485,1262,512"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1360,1333,1484,1360"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="995,283,1102,309"/>
<area shape="rect" href="bitmap_8c.html#adacf8862f49d7e7ceb1ba2368dd76698" title="Destroys bitmap B, freeing its storage." alt="" coords="992,333,1105,360"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="674,472,750,499"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="337,928,434,955"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="335,1029,436,1056"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="839,421,913,448"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="509,1029,586,1056"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="838,700,914,727"/>
<area shape="rect" href="hash_8c.html#ac69fc1bec8463507c3967d0f77653125" title="Destroys hash table H." alt="" coords="997,5,1100,32"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="1002,536,1095,563"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="827,624,925,651"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="995,1004,1102,1031"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="821,877,931,904"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="979,80,1119,107"/>
<area shape="rect" href="malloc_8c.html#a729621e4209745ef6edbe31f71a2a8eb" title="Attempts to resize OLD_BLOCK to NEW_SIZE bytes, possibly moving it in the process." alt="" coords="1018,131,1079,157"/>
<area shape="rect" href="hash_8c.html#afc76c6b6a33bf5fac77a82491e17dbf0" title="Changes the number of buckets in hash table H to match the ideal." alt="" coords="1017,181,1080,208"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="1007,232,1090,259"/>
<area shape="rect" href="free-map_8c.html#a5fa440f72db2c255d095ecf34aff9a7e" title="Initializes the free map." alt="" coords="825,283,927,309"/>
<area shape="rect" href="filesys_8c.html#aff15830b489ffbb2619bbb71a79656ee" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="495,624,599,651"/>
<area shape="rect" href="filesys_8c.html#a79d6e6b4a6c2295fba2322000c7c19fd" title="Opens the file with the given NAME." alt="" coords="499,979,595,1005"/>
<area shape="rect" href="filesys_8c.html#ac536ffc3c10934a7f80e43e98b7c75ae" title="Deletes the file named NAME." alt="" coords="492,472,603,499"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="514,548,581,575"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="182,979,273,1005"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="348,1080,423,1107"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="362,1308,409,1335"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="176,1435,279,1461"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="5,1460,128,1487"/>
<area shape="rect" href="directory_8c.html#afdea7fe972a97776e832c4324b0c4b9d" title="Opens the root directory and returns a directory for it." alt="" coords="660,421,764,448"/>
<area shape="rect" href="directory_8c.html#a8c479e18ce6294ba5d6c3fe23dd2b5bf" title="Opens and returns a new directory for the same inode as DIR." alt="" coords="669,371,755,397"/>
<area shape="rect" href="free-map_8c.html#ac00d55315a3b01794bcdc6cc9d5ba5f5" title="Writes the free map to disk and closes the free map file." alt="" coords="327,979,444,1005"/>
<area shape="rect" href="file_8c.html#a71b69ddf56278e8e076d9ce48b9966b1" title="Opens and returns a new file for the same inode as FILE." alt="" coords="668,725,756,752"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="651,675,773,701"/>
<area shape="rect" href="free-map_8c.html#a82ae69d4b7534829d5c1672231c62370" title="Opens the free map file and reads it from disk." alt="" coords="654,776,770,803"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="667,928,757,955"/>
<area shape="rect" href="directory_8c.html#ab3951213f266ce0e0404203a35fefe8f" title="Creates a directory with space for ENTRY_CNT entries in the given SECTOR." alt="" coords="671,573,753,600"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="679,1029,745,1056"/>
<area shape="rect" href="directory_8c.html#ae9ec2107e448111aca8951c2f7bfa61b" title="Reads the next directory entry in DIR and stores the name in NAME." alt="" coords="833,1029,919,1056"/>
<area shape="rect" href="file_8c.html#aa970e0e3d037e457750745798328db97" title="Reads SIZE bytes from FILE into BUFFER, starting at the file&#39;s current position." alt="" coords="675,1232,749,1259"/>
<area shape="rect" href="file_8c.html#a9f62f31208f5a024b47fc3ac90ed0b9c" title="Reads SIZE bytes from FILE into BUFFER, starting at offset FILE_OFS in the file." alt="" coords="830,1080,922,1107"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="845,928,907,955"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="495,1333,600,1360"/>
<area shape="rect" href="file_8c.html#a5c3629e8008d2ad73290be83f84d27eb" title="Writes SIZE bytes from BUFFER into FILE, starting at the file&#39;s current position." alt="" coords="510,928,585,955"/>
<area shape="rect" href="file_8c.html#a066213728ed4ad6314a980f50c2c93d7" title="Writes SIZE bytes from BUFFER into FILE, starting at offset FILE_OFS in the file." alt="" coords="665,877,759,904"/>
<area shape="rect" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="1181,1536,1298,1563"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="1193,1384,1286,1411"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1167,1232,1312,1259"/>
</map>
</div>

</div>
</div>
<a id="af4c2af0e0bdc81d1ea21354c4234b20e" name="af4c2af0e0bdc81d1ea21354c4234b20e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4c2af0e0bdc81d1ea21354c4234b20e">&#9670;&nbsp;</a></span>palloc_free_multiple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void palloc_free_multiple </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>page_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the PAGE_CNT pages starting at PAGES. </p>
<p ><a class="el" href="palloc_8h.html">threads/palloc.h</a> </p>

<p class="definition">Definition at line <a class="el" href="palloc_8c_source.html#l00118">118</a> of file <a class="el" href="palloc_8c_source.html">palloc.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="palloc_8c_source.html#l00033">pool::base</a>, <a class="el" href="bitmap_8c_source.html#l00284">bitmap_all()</a>, <a class="el" href="bitmap_8c_source.html#l00218">bitmap_set_multiple()</a>, <a class="el" href="string_8c_source.html#l00279">memset()</a>, <a class="el" href="debug_8h_source.html#l00035">NOT_REACHED</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="palloc_8c_source.html#l00175">page_from_pool()</a>, <a class="el" href="vaddr_8h_source.html#l00029">pg_no()</a>, <a class="el" href="vaddr_8h_source.html#l00024">pg_ofs()</a>, <a class="el" href="vaddr_8h_source.html#l00020">PGSIZE</a>, <a class="el" href="palloc_8c_source.html#l00032">pool::used_map</a>, and <a class="el" href="palloc_8c_source.html#l00037">user_pool</a>.</p>

<p class="reference">Referenced by <a class="el" href="malloc_8c_source.html#l00219">free()</a>, and <a class="el" href="palloc_8c_source.html#l00146">palloc_free_page()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_af4c2af0e0bdc81d1ea21354c4234b20e_cgraph.png" border="0" usemap="#apalloc_8c_af4c2af0e0bdc81d1ea21354c4234b20e_cgraph" alt=""/></div>
<map name="apalloc_8c_af4c2af0e0bdc81d1ea21354c4234b20e_cgraph" id="apalloc_8c_af4c2af0e0bdc81d1ea21354c4234b20e_cgraph">
<area shape="rect" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="5,132,145,159"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="222,5,305,32"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="193,56,333,83"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="229,107,298,133"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="204,157,323,184"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="411,208,470,235"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="232,259,295,285"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="381,5,500,32"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="552,5,643,32"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="695,31,771,57"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="695,81,771,108"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="397,56,484,83"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="548,107,647,133"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="548,56,647,83"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="394,157,487,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_af4c2af0e0bdc81d1ea21354c4234b20e_icgraph.png" border="0" usemap="#apalloc_8c_af4c2af0e0bdc81d1ea21354c4234b20e_icgraph" alt=""/></div>
<map name="apalloc_8c_af4c2af0e0bdc81d1ea21354c4234b20e_icgraph" id="apalloc_8c_af4c2af0e0bdc81d1ea21354c4234b20e_icgraph">
<area shape="rect" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1532,1170,1672,1197"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="1217,486,1262,513"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1360,1196,1484,1222"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="995,233,1102,260"/>
<area shape="rect" href="bitmap_8c.html#adacf8862f49d7e7ceb1ba2368dd76698" title="Destroys bitmap B, freeing its storage." alt="" coords="992,588,1105,614"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="674,816,750,842"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="337,714,434,741"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="335,816,436,842"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="839,993,913,1020"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="509,765,586,792"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="838,360,914,386"/>
<area shape="rect" href="hash_8c.html#ac69fc1bec8463507c3967d0f77653125" title="Destroys hash table H." alt="" coords="997,57,1100,84"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="1002,689,1095,716"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="827,284,925,310"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="995,866,1102,893"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="821,537,931,564"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="979,182,1119,209"/>
<area shape="rect" href="malloc_8c.html#a729621e4209745ef6edbe31f71a2a8eb" title="Attempts to resize OLD_BLOCK to NEW_SIZE bytes, possibly moving it in the process." alt="" coords="1018,385,1079,412"/>
<area shape="rect" href="hash_8c.html#afc76c6b6a33bf5fac77a82491e17dbf0" title="Changes the number of buckets in hash table H to match the ideal." alt="" coords="1017,436,1080,462"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="1007,486,1090,513"/>
<area shape="rect" href="free-map_8c.html#a5fa440f72db2c255d095ecf34aff9a7e" title="Initializes the free map." alt="" coords="825,233,927,260"/>
<area shape="rect" href="filesys_8c.html#aff15830b489ffbb2619bbb71a79656ee" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="495,714,599,741"/>
<area shape="rect" href="filesys_8c.html#a79d6e6b4a6c2295fba2322000c7c19fd" title="Opens the file with the given NAME." alt="" coords="499,816,595,842"/>
<area shape="rect" href="filesys_8c.html#ac536ffc3c10934a7f80e43e98b7c75ae" title="Deletes the file named NAME." alt="" coords="492,866,603,893"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="514,917,581,944"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="182,841,273,868"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="348,866,423,893"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="362,1170,409,1197"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="176,1297,279,1324"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="5,1322,128,1349"/>
<area shape="rect" href="directory_8c.html#afdea7fe972a97776e832c4324b0c4b9d" title="Opens the root directory and returns a directory for it." alt="" coords="660,866,764,893"/>
<area shape="rect" href="directory_8c.html#a8c479e18ce6294ba5d6c3fe23dd2b5bf" title="Opens and returns a new directory for the same inode as DIR." alt="" coords="669,993,755,1020"/>
<area shape="rect" href="free-map_8c.html#ac00d55315a3b01794bcdc6cc9d5ba5f5" title="Writes the free map to disk and closes the free map file." alt="" coords="327,765,444,792"/>
<area shape="rect" href="file_8c.html#a71b69ddf56278e8e076d9ce48b9966b1" title="Opens and returns a new file for the same inode as FILE." alt="" coords="668,334,756,361"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="651,284,773,310"/>
<area shape="rect" href="free-map_8c.html#a82ae69d4b7534829d5c1672231c62370" title="Opens the free map file and reads it from disk." alt="" coords="654,385,770,412"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="667,689,757,716"/>
<area shape="rect" href="directory_8c.html#ab3951213f266ce0e0404203a35fefe8f" title="Creates a directory with space for ENTRY_CNT entries in the given SECTOR." alt="" coords="671,182,753,209"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="679,740,745,766"/>
<area shape="rect" href="directory_8c.html#ae9ec2107e448111aca8951c2f7bfa61b" title="Reads the next directory entry in DIR and stores the name in NAME." alt="" coords="833,1044,919,1070"/>
<area shape="rect" href="file_8c.html#aa970e0e3d037e457750745798328db97" title="Reads SIZE bytes from FILE into BUFFER, starting at the file&#39;s current position." alt="" coords="675,1145,749,1172"/>
<area shape="rect" href="file_8c.html#a9f62f31208f5a024b47fc3ac90ed0b9c" title="Reads SIZE bytes from FILE into BUFFER, starting at offset FILE_OFS in the file." alt="" coords="830,892,922,918"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="845,740,907,766"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="495,1196,600,1222"/>
<area shape="rect" href="file_8c.html#a5c3629e8008d2ad73290be83f84d27eb" title="Writes SIZE bytes from BUFFER into FILE, starting at the file&#39;s current position." alt="" coords="510,588,585,614"/>
<area shape="rect" href="file_8c.html#a066213728ed4ad6314a980f50c2c93d7" title="Writes SIZE bytes from BUFFER into FILE, starting at offset FILE_OFS in the file." alt="" coords="665,537,759,564"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="823,182,929,209"/>
<area shape="rect" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="1181,1398,1298,1425"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="1193,1246,1286,1273"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1167,1145,1312,1172"/>
</map>
</div>

</div>
</div>
<a id="ad3fe56f7c611216596e7565fb8521409" name="ad3fe56f7c611216596e7565fb8521409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3fe56f7c611216596e7565fb8521409">&#9670;&nbsp;</a></span>palloc_free_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void palloc_free_page </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the page at PAGE. </p>

<p class="definition">Definition at line <a class="el" href="palloc_8c_source.html#l00146">146</a> of file <a class="el" href="palloc_8c_source.html">palloc.c</a>.</p>

<p class="reference">References <a class="el" href="palloc_8c_source.html#l00118">palloc_free_multiple()</a>.</p>

<p class="reference">Referenced by <a class="el" href="malloc_8c_source.html#l00219">free()</a>, <a class="el" href="fsutil_8c_source.html#l00034">fsutil_cat()</a>, <a class="el" href="process_8c_source.html#l00383">load_segment()</a>, <a class="el" href="pagedir_8c_source.html#l00028">pagedir_destroy()</a>, <a class="el" href="process_8c_source.html#l00029">process_execute()</a>, <a class="el" href="process_8c_source.html#l00430">setup_stack()</a>, <a class="el" href="process_8c_source.html#l00051">start_process()</a>, and <a class="el" href="thread_8c_source.html#l00516">thread_schedule_tail()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_ad3fe56f7c611216596e7565fb8521409_cgraph.png" border="0" usemap="#apalloc_8c_ad3fe56f7c611216596e7565fb8521409_cgraph" alt=""/></div>
<map name="apalloc_8c_ad3fe56f7c611216596e7565fb8521409_cgraph" id="apalloc_8c_ad3fe56f7c611216596e7565fb8521409_cgraph">
<area shape="rect" title="Frees the page at PAGE." alt="" coords="5,132,129,159"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="177,132,317,159"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="394,5,477,32"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="365,56,505,83"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="401,107,470,133"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="376,157,495,184"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="583,208,642,235"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="404,259,467,285"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="553,5,672,32"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="724,5,815,32"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="867,31,943,57"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="867,81,943,108"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="569,56,656,83"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="720,107,819,133"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="720,56,819,83"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="566,157,659,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_ad3fe56f7c611216596e7565fb8521409_icgraph.png" border="0" usemap="#apalloc_8c_ad3fe56f7c611216596e7565fb8521409_icgraph" alt=""/></div>
<map name="apalloc_8c_ad3fe56f7c611216596e7565fb8521409_icgraph" id="apalloc_8c_ad3fe56f7c611216596e7565fb8521409_icgraph">
<area shape="rect" title="Frees the page at PAGE." alt="" coords="1620,1218,1744,1244"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="1477,458,1522,484"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="608,904,683,931"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="436,1192,539,1219"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="265,1192,388,1219"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="755,1142,860,1168"/>
<area shape="rect" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="1441,1344,1558,1371"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="1453,1192,1546,1219"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1427,1395,1572,1422"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="1255,584,1362,611"/>
<area shape="rect" href="bitmap_8c.html#adacf8862f49d7e7ceb1ba2368dd76698" title="Destroys bitmap B, freeing its storage." alt="" coords="1252,432,1365,459"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="934,584,1010,611"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="597,558,694,584"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="595,803,696,830"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="1099,787,1173,814"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="769,879,846,906"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="1098,888,1174,915"/>
<area shape="rect" href="hash_8c.html#ac69fc1bec8463507c3967d0f77653125" title="Destroys hash table H." alt="" coords="1257,104,1360,131"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="1262,762,1355,788"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="1087,280,1185,307"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="1255,534,1362,560"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="1081,331,1191,358"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="1239,179,1379,206"/>
<area shape="rect" href="malloc_8c.html#a729621e4209745ef6edbe31f71a2a8eb" title="Attempts to resize OLD_BLOCK to NEW_SIZE bytes, possibly moving it in the process." alt="" coords="1278,230,1339,256"/>
<area shape="rect" href="hash_8c.html#afc76c6b6a33bf5fac77a82491e17dbf0" title="Changes the number of buckets in hash table H to match the ideal." alt="" coords="1277,280,1340,307"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="1267,331,1350,358"/>
<area shape="rect" href="free-map_8c.html#a5fa440f72db2c255d095ecf34aff9a7e" title="Initializes the free map." alt="" coords="1085,584,1187,611"/>
<area shape="rect" href="filesys_8c.html#aff15830b489ffbb2619bbb71a79656ee" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="755,552,859,579"/>
<area shape="rect" href="filesys_8c.html#a79d6e6b4a6c2295fba2322000c7c19fd" title="Opens the file with the given NAME." alt="" coords="759,778,855,804"/>
<area shape="rect" href="filesys_8c.html#ac536ffc3c10934a7f80e43e98b7c75ae" title="Deletes the file named NAME." alt="" coords="752,603,863,630"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="774,670,841,696"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="5,803,96,830"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="622,1116,669,1143"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="144,1006,217,1032"/>
<area shape="rect" href="directory_8c.html#afdea7fe972a97776e832c4324b0c4b9d" title="Opens the root directory and returns a directory for it." alt="" coords="920,686,1024,712"/>
<area shape="rect" href="directory_8c.html#a8c479e18ce6294ba5d6c3fe23dd2b5bf" title="Opens and returns a new directory for the same inode as DIR." alt="" coords="929,736,1015,763"/>
<area shape="rect" href="free-map_8c.html#ac00d55315a3b01794bcdc6cc9d5ba5f5" title="Writes the free map to disk and closes the free map file." alt="" coords="587,854,704,880"/>
<area shape="rect" href="file_8c.html#a71b69ddf56278e8e076d9ce48b9966b1" title="Opens and returns a new file for the same inode as FILE." alt="" coords="928,888,1016,915"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="911,635,1033,662"/>
<area shape="rect" href="free-map_8c.html#a82ae69d4b7534829d5c1672231c62370" title="Opens the free map file and reads it from disk." alt="" coords="914,939,1030,966"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="927,483,1017,510"/>
<area shape="rect" href="directory_8c.html#ab3951213f266ce0e0404203a35fefe8f" title="Creates a directory with space for ENTRY_CNT entries in the given SECTOR." alt="" coords="931,280,1013,307"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="939,432,1005,459"/>
<area shape="rect" href="directory_8c.html#ae9ec2107e448111aca8951c2f7bfa61b" title="Reads the next directory entry in DIR and stores the name in NAME." alt="" coords="1093,534,1179,560"/>
<area shape="rect" href="file_8c.html#aa970e0e3d037e457750745798328db97" title="Reads SIZE bytes from FILE into BUFFER, starting at the file&#39;s current position." alt="" coords="935,1040,1009,1067"/>
<area shape="rect" href="file_8c.html#a9f62f31208f5a024b47fc3ac90ed0b9c" title="Reads SIZE bytes from FILE into BUFFER, starting at offset FILE_OFS in the file." alt="" coords="1090,432,1182,459"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="1105,483,1167,510"/>
<area shape="rect" href="file_8c.html#a5c3629e8008d2ad73290be83f84d27eb" title="Writes SIZE bytes from BUFFER into FILE, starting at the file&#39;s current position." alt="" coords="770,416,845,443"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="1260,1344,1357,1371"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1271,1395,1347,1422"/>
</map>
</div>

</div>
</div>
<a id="a303ef0c7222e4b461dc79f8a90f31bea" name="a303ef0c7222e4b461dc79f8a90f31bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a303ef0c7222e4b461dc79f8a90f31bea">&#9670;&nbsp;</a></span>palloc_get_multiple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * palloc_get_multiple </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="palloc_8h.html#a7685e2e9a9a8a22a135906020c0a5e70">palloc_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>page_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains and returns a group of PAGE_CNT contiguous free pages. </p>
<p >If PAL_USER is set, the pages are obtained from the user pool, otherwise from the kernel pool. If PAL_ZERO is set in FLAGS, then the pages are filled with zeros. If too few pages are available, returns a null pointer, unless PAL_ASSERT is set in FLAGS, in which case the kernel panics. </p>

<p class="definition">Definition at line <a class="el" href="palloc_8c_source.html#l00071">71</a> of file <a class="el" href="palloc_8c_source.html">palloc.c</a>.</p>

<p class="reference">References <a class="el" href="palloc_8c_source.html#l00033">pool::base</a>, <a class="el" href="bitmap_8h_source.html#l00036">BITMAP_ERROR</a>, <a class="el" href="bitmap_8c_source.html#l00320">bitmap_scan_and_flip()</a>, <a class="el" href="palloc_8c_source.html#l00031">pool::lock</a>, <a class="el" href="synch_8c_source.html#l00193">lock_acquire()</a>, <a class="el" href="synch_8c_source.html#l00229">lock_release()</a>, <a class="el" href="string_8c_source.html#l00279">memset()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="palloc_8h_source.html#l00009">PAL_ASSERT</a>, <a class="el" href="palloc_8h_source.html#l00011">PAL_USER</a>, <a class="el" href="palloc_8h_source.html#l00010">PAL_ZERO</a>, <a class="el" href="debug_8h_source.html#l00014">PANIC</a>, <a class="el" href="vaddr_8h_source.html#l00020">PGSIZE</a>, <a class="el" href="palloc_8c_source.html#l00032">pool::used_map</a>, and <a class="el" href="palloc_8c_source.html#l00037">user_pool</a>.</p>

<p class="reference">Referenced by <a class="el" href="malloc_8c_source.html#l00090">malloc()</a>, and <a class="el" href="palloc_8c_source.html#l00111">palloc_get_page()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_a303ef0c7222e4b461dc79f8a90f31bea_cgraph.png" border="0" usemap="#apalloc_8c_a303ef0c7222e4b461dc79f8a90f31bea_cgraph" alt=""/></div>
<map name="apalloc_8c_a303ef0c7222e4b461dc79f8a90f31bea_cgraph" id="apalloc_8c_a303ef0c7222e4b461dc79f8a90f31bea_cgraph">
<area shape="rect" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="5,195,141,221"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="1217,81,1369,108"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="189,245,287,272"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1453,132,1522,159"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="189,756,287,783"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="1439,81,1536,108"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1417,31,1557,57"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1605,107,1724,133"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1785,107,1876,133"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1937,31,2013,57"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1937,81,2013,108"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1621,31,1708,57"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1781,5,1880,32"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1781,56,1880,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1062,372,1153,399"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="335,749,484,790"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1433,701,1542,728"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="363,625,456,652"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1626,853,1703,880"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1609,549,1721,576"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1772,549,1889,576"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="879,955,970,981"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="699,904,799,931"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="693,1107,804,1133"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="539,625,638,652"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1057,752,1158,779"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="881,803,969,829"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1631,1284,1699,1311"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="885,1005,964,1032"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1447,980,1527,1007"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1079,1005,1135,1032"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="711,600,787,627"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="901,549,948,576"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="856,1107,993,1133"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="869,600,980,627"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="852,499,997,525"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1446,1221,1529,1248"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1056,1157,1159,1184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1625,1221,1704,1248"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1257,1208,1329,1235"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1248,1157,1339,1184"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1045,499,1169,525"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1046,701,1169,728"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1223,183,1363,209"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1446,183,1529,209"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1428,233,1547,260"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1233,701,1353,728"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1250,752,1337,779"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="371,980,448,1007"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="532,1005,645,1032"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_a303ef0c7222e4b461dc79f8a90f31bea_icgraph.png" border="0" usemap="#apalloc_8c_a303ef0c7222e4b461dc79f8a90f31bea_icgraph" alt=""/></div>
<map name="apalloc_8c_a303ef0c7222e4b461dc79f8a90f31bea_icgraph" id="apalloc_8c_a303ef0c7222e4b461dc79f8a90f31bea_icgraph">
<area shape="rect" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="1204,1168,1340,1195"/>
<area shape="rect" href="malloc_8c.html#a9c36d0fe3ec4675cbffdc9b52f5fb399" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="903,712,963,739"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="1036,1193,1156,1220"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="706,231,813,257"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="707,28,812,55"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="531,28,641,55"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="343,52,483,79"/>
<area shape="rect" href="malloc_8c.html#a9b551bee9453c331a3a4a5d95d255e2e" title="Allocates and return A times B bytes initialized to zeroes." alt="" coords="731,408,787,435"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="362,965,463,992"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="364,915,461,941"/>
<area shape="rect" href="hash_8c.html#a9865a9a0b79392bf398700fedf47a44a" title="Initializes hash table H to compute hash values using HASH and compare hash elements using LESS,..." alt="" coords="721,864,797,891"/>
<area shape="rect" href="inode_8c.html#a7adc21afc633b56d25a229ce0087c4a0" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="540,484,632,511"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="706,661,813,688"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="705,965,814,992"/>
<area shape="rect" href="malloc_8c.html#a729621e4209745ef6edbe31f71a2a8eb" title="Attempts to resize OLD_BLOCK to NEW_SIZE bytes, possibly moving it in the process." alt="" coords="729,915,790,941"/>
<area shape="rect" href="hash_8c.html#afc76c6b6a33bf5fac77a82491e17dbf0" title="Changes the number of buckets in hash table H to match the ideal." alt="" coords="728,155,791,181"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="718,1016,801,1043"/>
<area shape="rect" href="free-map_8c.html#a5fa440f72db2c255d095ecf34aff9a7e" title="Initializes the free map." alt="" coords="535,231,637,257"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="5,9,141,36"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="189,40,295,67"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="549,433,623,460"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="548,383,624,409"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="537,332,635,359"/>
<area shape="rect" href="directory_8c.html#afdea7fe972a97776e832c4324b0c4b9d" title="Opens the root directory and returns a directory for it." alt="" coords="361,459,465,485"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="351,357,474,384"/>
<area shape="rect" href="free-map_8c.html#a82ae69d4b7534829d5c1672231c62370" title="Opens the free map file and reads it from disk." alt="" coords="355,408,471,435"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="197,965,287,992"/>
<area shape="rect" href="directory_8c.html#a782062143b05a6f32d11457cfd6259f6" title="Searches DIR for a file with the given NAME and returns true if one exists, false otherwise." alt="" coords="371,509,455,536"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="368,560,457,587"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="379,687,446,713"/>
<area shape="rect" href="directory_8c.html#ae9ec2107e448111aca8951c2f7bfa61b" title="Reads the next directory entry in DIR and stores the name in NAME." alt="" coords="543,636,629,663"/>
<area shape="rect" href="file_8c.html#aa970e0e3d037e457750745798328db97" title="Reads SIZE bytes from FILE into BUFFER, starting at the file&#39;s current position." alt="" coords="549,991,623,1017"/>
<area shape="rect" href="file_8c.html#a9f62f31208f5a024b47fc3ac90ed0b9c" title="Reads SIZE bytes from FILE into BUFFER, starting at offset FILE_OFS in the file." alt="" coords="540,585,632,612"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="555,535,617,561"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="375,1067,450,1093"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="219,1320,265,1347"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="360,1295,465,1321"/>
<area shape="rect" href="file_8c.html#a5c3629e8008d2ad73290be83f84d27eb" title="Writes SIZE bytes from BUFFER into FILE, starting at the file&#39;s current position." alt="" coords="549,940,623,967"/>
<area shape="rect" href="file_8c.html#a066213728ed4ad6314a980f50c2c93d7" title="Writes SIZE bytes from BUFFER into FILE, starting at offset FILE_OFS in the file." alt="" coords="539,1041,633,1068"/>
<area shape="rect" href="hash_8c.html#ae6883a2cfbe20dfc98e5f85693993c5a" title="Finds, removes, and returns an element equal to E in hash table H." alt="" coords="539,129,633,156"/>
<area shape="rect" href="hash_8c.html#a26ad9e72e8bad0b09ac7b7ec58d96970" title="Inserts NEW into hash table H and returns a null pointer, if no equal element is already in the table..." alt="" coords="541,180,631,207"/>
<area shape="rect" href="hash_8c.html#ad517eb96a6288f0ffebe0b66ef47a0fe" title="Inserts NEW into hash table H, replacing any equal element already in the table, which is returned." alt="" coords="535,79,637,105"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="883,1092,982,1119"/>
<area shape="rect" href="pagedir_8c.html#a0d3ef6f4fc814424f7d68dd365b085d6" title="Creates a new page directory that has mappings for kernel virtual addresses, but none for user virtua..." alt="" coords="877,1447,988,1473"/>
<area shape="rect" href="init_8c.html#a83a23df197d45e3798aaa46d01d06af7" title="Populates the base page directory and page table with the kernel virtual mapping, and then sets up th..." alt="" coords="889,1396,976,1423"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="698,1219,821,1245"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="886,1345,979,1372"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="881,1193,985,1220"/>
<area shape="rect" href="tss_8c.html#a2d8be34791bc1936d4b91b0567ec6d34" title="Initializes the kernel TSS." alt="" coords="901,1143,965,1169"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="689,1117,829,1144"/>
</map>
</div>

</div>
</div>
<a id="a0c66d7fdb0a9c8da247421261b5ca188" name="a0c66d7fdb0a9c8da247421261b5ca188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c66d7fdb0a9c8da247421261b5ca188">&#9670;&nbsp;</a></span>palloc_get_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * palloc_get_page </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="palloc_8h.html#a7685e2e9a9a8a22a135906020c0a5e70">palloc_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains a single free page and returns its kernel virtual address. </p>
<p >If PAL_USER is set, the page is obtained from the user pool, otherwise from the kernel pool. If PAL_ZERO is set in FLAGS, then the page is filled with zeros. If no pages are available, returns a null pointer, unless PAL_ASSERT is set in FLAGS, in which case the kernel panics. </p>

<p class="definition">Definition at line <a class="el" href="palloc_8c_source.html#l00111">111</a> of file <a class="el" href="palloc_8c_source.html">palloc.c</a>.</p>

<p class="reference">References <a class="el" href="palloc_8c_source.html#l00071">palloc_get_multiple()</a>.</p>

<p class="reference">Referenced by <a class="el" href="fsutil_8c_source.html#l00034">fsutil_cat()</a>, <a class="el" href="process_8c_source.html#l00383">load_segment()</a>, <a class="el" href="pagedir_8c_source.html#l00057">lookup_page()</a>, <a class="el" href="malloc_8c_source.html#l00090">malloc()</a>, <a class="el" href="pagedir_8c_source.html#l00017">pagedir_create()</a>, <a class="el" href="init_8c_source.html#l00162">paging_init()</a>, <a class="el" href="process_8c_source.html#l00029">process_execute()</a>, <a class="el" href="process_8c_source.html#l00430">setup_stack()</a>, <a class="el" href="thread_8c_source.html#l00166">thread_create()</a>, and <a class="el" href="tss_8c_source.html#l00080">tss_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_a0c66d7fdb0a9c8da247421261b5ca188_cgraph.png" border="0" usemap="#apalloc_8c_a0c66d7fdb0a9c8da247421261b5ca188_cgraph" alt=""/></div>
<map name="apalloc_8c_a0c66d7fdb0a9c8da247421261b5ca188_cgraph" id="apalloc_8c_a0c66d7fdb0a9c8da247421261b5ca188_cgraph">
<area shape="rect" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="5,183,125,209"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="173,183,309,209"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="1385,56,1537,83"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="357,233,455,260"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1621,132,1690,159"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="357,716,455,743"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="1607,81,1704,108"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1585,31,1725,57"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1773,107,1892,133"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1953,107,2044,133"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="2105,31,2181,57"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="2105,81,2181,108"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1789,31,1876,57"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1949,5,2048,32"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1949,56,2048,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1230,335,1321,361"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="503,709,652,750"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1601,613,1710,640"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="531,509,624,536"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1794,841,1871,868"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1777,461,1889,488"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1940,461,2057,488"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1047,943,1138,969"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="867,892,967,919"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="861,1095,972,1121"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="707,509,806,536"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1225,740,1326,767"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1049,740,1137,767"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1799,1284,1867,1311"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1053,993,1132,1020"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1615,968,1695,995"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1247,993,1303,1020"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="879,613,955,640"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1069,588,1116,615"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="1024,1095,1161,1121"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="1037,639,1148,665"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1020,537,1165,564"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1614,1221,1697,1248"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1224,1145,1327,1172"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1793,1221,1872,1248"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1425,1196,1497,1223"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1416,1145,1507,1172"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1213,436,1337,463"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1214,639,1337,665"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1391,157,1531,184"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1614,183,1697,209"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1401,613,1521,640"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1418,664,1505,691"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="539,968,616,995"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="700,993,813,1020"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_a0c66d7fdb0a9c8da247421261b5ca188_icgraph.png" border="0" usemap="#apalloc_8c_a0c66d7fdb0a9c8da247421261b5ca188_icgraph" alt=""/></div>
<map name="apalloc_8c_a0c66d7fdb0a9c8da247421261b5ca188_icgraph" id="apalloc_8c_a0c66d7fdb0a9c8da247421261b5ca188_icgraph">
<area shape="rect" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="1628,372,1748,399"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="1137,195,1211,221"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="965,549,1071,576"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="508,245,631,272"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="1481,473,1580,500"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="971,600,1065,627"/>
<area shape="rect" href="malloc_8c.html#a9c36d0fe3ec4675cbffdc9b52f5fb399" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="701,651,761,677"/>
<area shape="rect" href="pagedir_8c.html#a0d3ef6f4fc814424f7d68dd365b085d6" title="Creates a new page directory that has mappings for kernel virtual addresses, but none for user virtua..." alt="" coords="1119,752,1229,779"/>
<area shape="rect" href="init_8c.html#a83a23df197d45e3798aaa46d01d06af7" title="Populates the base page directory and page table with the kernel virtual mapping, and then sets up th..." alt="" coords="831,968,917,995"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="679,144,783,171"/>
<area shape="rect" href="tss_8c.html#a2d8be34791bc1936d4b91b0567ec6d34" title="Initializes the kernel TSS." alt="" coords="1499,43,1563,69"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="161,245,251,272"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,144,88,171"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="851,575,897,601"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="679,423,782,449"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="355,245,429,272"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="1285,397,1425,424"/>
<area shape="rect" href="pagedir_8c.html#a8093fa1c0a54bdc624cb6fb619a86746" title="Looks up the physical address that corresponds to user virtual address UADDR in PD." alt="" coords="1291,549,1420,576"/>
<area shape="rect" href="pagedir_8c.html#a417a00146a2d07eb0d0dfd7c7fd7f13c" title="Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is,..." alt="" coords="1282,448,1429,475"/>
<area shape="rect" href="pagedir_8c.html#a1d5de85f35e83577a5637b067da2d3c4" title="Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified..." alt="" coords="1297,499,1413,525"/>
<area shape="rect" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="1277,651,1433,677"/>
<area shape="rect" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="1293,347,1417,373"/>
<area shape="rect" href="pagedir_8c.html#a87fb1ae04e5465c21f1cf3d07d85b199" title="Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by ..." alt="" coords="1291,600,1420,627"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="1127,575,1221,601"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="516,549,623,576"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="517,600,622,627"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="337,600,447,627"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="136,524,276,551"/>
<area shape="rect" href="malloc_8c.html#a9b551bee9453c331a3a4a5d95d255e2e" title="Allocates and return A times B bytes initialized to zeroes." alt="" coords="541,701,597,728"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="341,321,443,348"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="343,384,441,411"/>
<area shape="rect" href="hash_8c.html#a9865a9a0b79392bf398700fedf47a44a" title="Initializes hash table H to compute hash values using HASH and compare hash elements using LESS,..." alt="" coords="531,853,607,880"/>
<area shape="rect" href="inode_8c.html#a7adc21afc633b56d25a229ce0087c4a0" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="523,752,615,779"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="516,904,623,931"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="515,803,624,829"/>
<area shape="rect" href="malloc_8c.html#a729621e4209745ef6edbe31f71a2a8eb" title="Attempts to resize OLD_BLOCK to NEW_SIZE bytes, possibly moving it in the process." alt="" coords="539,955,600,981"/>
<area shape="rect" href="hash_8c.html#afc76c6b6a33bf5fac77a82491e17dbf0" title="Changes the number of buckets in hash table H to match the ideal." alt="" coords="538,397,601,424"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="528,296,611,323"/>
<area shape="rect" href="free-map_8c.html#a5fa440f72db2c255d095ecf34aff9a7e" title="Initializes the free map." alt="" coords="341,499,443,525"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="324,549,460,576"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="355,752,429,779"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="354,651,430,677"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="343,701,441,728"/>
<area shape="rect" href="directory_8c.html#afdea7fe972a97776e832c4324b0c4b9d" title="Opens the root directory and returns a directory for it." alt="" coords="154,828,258,855"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="145,701,267,728"/>
<area shape="rect" href="directory_8c.html#a782062143b05a6f32d11457cfd6259f6" title="Searches DIR for a file with the given NAME and returns true if one exists, false otherwise." alt="" coords="350,853,434,880"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="347,955,437,981"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="513,93,625,120"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="515,144,624,171"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="159,93,253,120"/>
</map>
</div>

</div>
</div>
<a id="acc2c206763e5de4e4414fda821ca6db8" name="acc2c206763e5de4e4414fda821ca6db8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc2c206763e5de4e4414fda821ca6db8">&#9670;&nbsp;</a></span>palloc_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void palloc_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>user_page_limit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the page allocator. </p>
<p >At most USER_PAGE_LIMIT pages are put into the user pool. </p>

<p class="definition">Definition at line <a class="el" href="palloc_8c_source.html#l00046">46</a> of file <a class="el" href="palloc_8c_source.html">palloc.c</a>.</p>

<p class="reference">References <a class="el" href="palloc_8c_source.html#l00154">init_pool()</a>, <a class="el" href="loader_8h.html#a8c61f06594eb5ebc965803c3d851beee">init_ram_pages</a>, <a class="el" href="vaddr_8h_source.html#l00020">PGSIZE</a>, <a class="el" href="vaddr_8h_source.html#l00072">ptov()</a>, <a class="el" href="init_8c_source.html#l00058">user_page_limit</a>, and <a class="el" href="palloc_8c_source.html#l00037">user_pool</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8c_source.html#l00073">pintos_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_acc2c206763e5de4e4414fda821ca6db8_cgraph.png" border="0" usemap="#apalloc_8c_acc2c206763e5de4e4414fda821ca6db8_cgraph" alt=""/></div>
<map name="apalloc_8c_acc2c206763e5de4e4414fda821ca6db8_cgraph" id="apalloc_8c_acc2c206763e5de4e4414fda821ca6db8_cgraph">
<area shape="rect" title="Initializes the page allocator." alt="" coords="5,139,87,165"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="135,113,207,140"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="147,164,194,191"/>
<area shape="rect" href="bitmap_8c.html#a8192bb283d7342152e4740c3b528ff84" title="Returns the number of bytes required to accomodate a bitmap with BIT_CNT bits (for use with bitmap_cr..." alt="" coords="453,5,572,32"/>
<area shape="rect" href="bitmap_8c.html#af1baf5aebcbd8ded4f5a9c6195b4cc64" title="Creates and returns a bitmap with BIT_CNT bits in the BLOCK_SIZE bytes of storage preallocated at BLO..." alt="" coords="255,75,405,101"/>
<area shape="rect" href="synch_8c.html#aa760472aa4916bba476b2165ea25b411" title="Initializes LOCK." alt="" coords="295,151,365,177"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="304,303,356,329"/>
<area shape="rect" href="bitmap_8c.html#a2a7a926eb6f971a33a2ce103b73aff38" title="Returns the number of bytes required for BIT_CNT bits." alt="" coords="654,5,726,32"/>
<area shape="rect" href="bitmap_8c.html#a12b88bb32eb5563c12b75f09681267df" title="Returns the number of elements required for BIT_CNT bits." alt="" coords="837,5,913,32"/>
<area shape="rect" href="bitmap_8c.html#ad1c4bbb333372b166e232cf271236c90" title="Setting and testing multiple bits." alt="" coords="459,56,567,83"/>
<area shape="rect" href="block_8c.html#a66f8a413d9cb3ea11c9cd302f803daea" title="Returns the number of sectors in BLOCK." alt="" coords="471,107,555,133"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="620,56,760,83"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="643,107,737,133"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="831,56,918,83"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1032,81,1131,108"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1032,31,1131,57"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1258,81,1334,108"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1258,31,1334,57"/>
<area shape="rect" href="synch_8c.html#a1349a31f4880cf4eae026761f0ab3343" title="This file is derived from source code for the Nachos instructional operating system." alt="" coords="473,157,552,184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a8aa862d10f52f7b0348fce990c7c12db" title="Initializes LIST as an empty list." alt="" coords="659,157,721,184"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="483,461,542,488"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="653,208,727,235"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="631,461,749,488"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="631,853,749,880"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="639,929,741,956"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="841,208,908,235"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="821,259,929,285"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="825,107,925,133"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="811,309,938,336"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="843,157,906,184"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="1037,183,1126,209"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="1053,259,1109,285"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1428,625,1519,652"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="826,461,923,488"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1221,382,1371,423"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1419,469,1528,496"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1035,651,1128,677"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1593,444,1671,471"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1576,495,1688,521"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1428,1005,1519,1032"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1246,1005,1346,1032"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1241,701,1351,728"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1247,600,1345,627"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="826,904,923,931"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1043,941,1120,968"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1255,904,1337,931"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="808,980,941,1007"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="989,563,1173,605"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="1038,1043,1125,1069"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1043,992,1119,1019"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="palloc_8c_acc2c206763e5de4e4414fda821ca6db8_icgraph.png" border="0" usemap="#apalloc_8c_acc2c206763e5de4e4414fda821ca6db8_icgraph" alt=""/></div>
<map name="apalloc_8c_acc2c206763e5de4e4414fda821ca6db8_icgraph" id="apalloc_8c_acc2c206763e5de4e4414fda821ca6db8_icgraph">
<area shape="rect" title="Initializes the page allocator." alt="" coords="136,5,217,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,88,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a798d1e460a329dac60bc738a8a22f153" name="a798d1e460a329dac60bc738a8a22f153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798d1e460a329dac60bc738a8a22f153">&#9670;&nbsp;</a></span>user_pool</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structpool.html">pool</a> kernel_pool user_pool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Two pools: one for kernel data, one for user pages. </p>

<p class="definition">Definition at line <a class="el" href="palloc_8c_source.html#l00037">37</a> of file <a class="el" href="palloc_8c_source.html">palloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="palloc_8c_source.html#l00118">palloc_free_multiple()</a>, <a class="el" href="palloc_8c_source.html#l00071">palloc_get_multiple()</a>, and <a class="el" href="palloc_8c_source.html#l00046">palloc_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 4 2021 19:31:06 for PKUOS - Pintos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
