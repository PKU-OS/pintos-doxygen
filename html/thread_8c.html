<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PKUOS - Pintos: src/threads/thread.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PKUOS - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for PKU Operating System course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3454632d1a606e9a309cdaae2c26d5ae.html">threads</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">thread.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="thread_8h_source.html">threads/thread.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="debug_8h_source.html">debug.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stddef_8h_source.html">stddef.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="random_8h_source.html">random.h</a>&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="flags_8h_source.html">threads/flags.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="interrupt_8h_source.html">threads/interrupt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="intr-stubs_8h_source.html">threads/intr-stubs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="palloc_8h_source.html">threads/palloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="switch_8h_source.html">threads/switch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="synch_8h_source.html">threads/synch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vaddr_8h_source.html">threads/vaddr.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for thread.c:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c__incl.png" border="0" usemap="#asrc_2threads_2thread_8c" alt=""/></div>
<map name="asrc_2threads_2thread_8c" id="asrc_2threads_2thread_8c">
<area shape="rect" title=" " alt="" coords="671,5,811,32"/>
<area shape="rect" href="thread_8h.html" title=" " alt="" coords="302,80,421,107"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="337,155,407,181"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="733,229,803,256"/>
<area shape="rect" href="random_8h.html" title=" " alt="" coords="729,155,807,181"/>
<area shape="rect" title=" " alt="" coords="880,80,941,107"/>
<area shape="rect" href="string_8h.html" title=" " alt="" coords="831,155,897,181"/>
<area shape="rect" href="flags_8h.html" title=" " alt="" coords="965,80,1075,107"/>
<area shape="rect" href="interrupt_8h.html" title=" " alt="" coords="5,155,136,181"/>
<area shape="rect" href="intr-stubs_8h.html" title=" " alt="" coords="1099,80,1235,107"/>
<area shape="rect" href="palloc_8h.html" title=" " alt="" coords="921,155,1037,181"/>
<area shape="rect" href="switch_8h.html" title=" " alt="" coords="1259,80,1378,107"/>
<area shape="rect" href="synch_8h.html" title=" " alt="" coords="162,80,278,107"/>
<area shape="rect" href="vaddr_8h.html" title=" " alt="" coords="496,80,611,107"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="211,155,261,181"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="266,229,331,256"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="151,229,227,256"/>
<area shape="rect" href="loader_8h.html" title=" " alt="" coords="483,155,602,181"/>
</map>
</div>
</div>
<p><a href="thread_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkernel__thread__frame.html">kernel_thread_frame</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack frame for <a class="el" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread.">kernel_thread()</a>.  <a href="structkernel__thread__frame.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae931feba4d799a96553d3f01fc3dcce3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae931feba4d799a96553d3f01fc3dcce3">THREAD_MAGIC</a>&#160;&#160;&#160;0xcd6abf4b</td></tr>
<tr class="memdesc:ae931feba4d799a96553d3f01fc3dcce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Random value for struct thread's &lsquo;magic&rsquo; member.  <a href="thread_8c.html#ae931feba4d799a96553d3f01fc3dcce3">More...</a><br /></td></tr>
<tr class="separator:ae931feba4d799a96553d3f01fc3dcce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17b0e0d44770e679be7612a45ca831a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae17b0e0d44770e679be7612a45ca831a">TIME_SLICE</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:ae17b0e0d44770e679be7612a45ca831a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling.  <a href="thread_8c.html#ae17b0e0d44770e679be7612a45ca831a">More...</a><br /></td></tr>
<tr class="separator:ae17b0e0d44770e679be7612a45ca831a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac40007d0837868671dffa80f581b4723"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac40007d0837868671dffa80f581b4723">kernel_thread</a> (<a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a> *function, void *aux)</td></tr>
<tr class="memdesc:ac40007d0837868671dffa80f581b4723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used as the basis for a kernel thread.  <a href="thread_8c.html#ac40007d0837868671dffa80f581b4723">More...</a><br /></td></tr>
<tr class="separator:ac40007d0837868671dffa80f581b4723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a563c47d80a1f39ea3d9b6a76a28b2d5e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a563c47d80a1f39ea3d9b6a76a28b2d5e">idle</a> (void *aux <a class="el" href="debug_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a>)</td></tr>
<tr class="separator:a563c47d80a1f39ea3d9b6a76a28b2d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e628208d70ba10d79c26d902b60650"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structthread.html">thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650">running_thread</a> (void)</td></tr>
<tr class="memdesc:a42e628208d70ba10d79c26d902b60650"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the running thread.  <a href="thread_8c.html#a42e628208d70ba10d79c26d902b60650">More...</a><br /></td></tr>
<tr class="separator:a42e628208d70ba10d79c26d902b60650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7a46dcf0f5c9c4cbb8f47a5b3c76f5"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structthread.html">thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5">next_thread_to_run</a> (void)</td></tr>
<tr class="memdesc:ace7a46dcf0f5c9c4cbb8f47a5b3c76f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chooses and returns the next thread to be scheduled.  <a href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5">More...</a><br /></td></tr>
<tr class="separator:ace7a46dcf0f5c9c4cbb8f47a5b3c76f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a9d4a5ab1bf577041f4c3f1b8f6c89"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a34a9d4a5ab1bf577041f4c3f1b8f6c89">init_thread</a> (struct <a class="el" href="structthread.html">thread</a> *t, const char *<a class="el" href="insult_8c.html#a458312c43d951ea41bca2379541164e6">name</a>, int priority)</td></tr>
<tr class="memdesc:a34a9d4a5ab1bf577041f4c3f1b8f6c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does basic initialization of T as a blocked thread named NAME.  <a href="thread_8c.html#a34a9d4a5ab1bf577041f4c3f1b8f6c89">More...</a><br /></td></tr>
<tr class="separator:a34a9d4a5ab1bf577041f4c3f1b8f6c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85274904406e17925db793a7603f9c49"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a85274904406e17925db793a7603f9c49">is_thread</a> (struct <a class="el" href="structthread.html">thread</a> *)</td></tr>
<tr class="memdesc:a85274904406e17925db793a7603f9c49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the threading system by transforming the code that's currently running into a thread.  <a href="thread_8c.html#a85274904406e17925db793a7603f9c49">More...</a><br /></td></tr>
<tr class="separator:a85274904406e17925db793a7603f9c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e468d365e1799676192b95b2067f59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a07e468d365e1799676192b95b2067f59">thread_start</a> (void)</td></tr>
<tr class="memdesc:a07e468d365e1799676192b95b2067f59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts preemptive thread scheduling by enabling interrupts.  <a href="thread_8c.html#a07e468d365e1799676192b95b2067f59">More...</a><br /></td></tr>
<tr class="separator:a07e468d365e1799676192b95b2067f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99b55ae8059d7834cc113334a3fd0c3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a99b55ae8059d7834cc113334a3fd0c3c">thread_tick</a> (void)</td></tr>
<tr class="memdesc:a99b55ae8059d7834cc113334a3fd0c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the timer interrupt handler at each timer tick.  <a href="thread_8c.html#a99b55ae8059d7834cc113334a3fd0c3c">More...</a><br /></td></tr>
<tr class="separator:a99b55ae8059d7834cc113334a3fd0c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c30c6492da5ef4a6a787c7da893370"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af5c30c6492da5ef4a6a787c7da893370">thread_print_stats</a> (void)</td></tr>
<tr class="memdesc:af5c30c6492da5ef4a6a787c7da893370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints thread statistics.  <a href="thread_8c.html#af5c30c6492da5ef4a6a787c7da893370">More...</a><br /></td></tr>
<tr class="separator:af5c30c6492da5ef4a6a787c7da893370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7759a71c1c49fc8761ef92aa90a36d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="thread_8h.html#a7a78d8e6bd74b48dbd812f553678d9a5">tid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d">thread_create</a> (const char *<a class="el" href="insult_8c.html#a458312c43d951ea41bca2379541164e6">name</a>, int priority, <a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a> *function, void *aux)</td></tr>
<tr class="memdesc:a8f7759a71c1c49fc8761ef92aa90a36d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passing AUX as the argument, and adds it to the ready queue.  <a href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d">More...</a><br /></td></tr>
<tr class="separator:a8f7759a71c1c49fc8761ef92aa90a36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70c4eeb51cd5b0ce2abb939924c7469"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469">thread_block</a> (void)</td></tr>
<tr class="memdesc:ad70c4eeb51cd5b0ce2abb939924c7469"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the current thread to sleep.  <a href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469">More...</a><br /></td></tr>
<tr class="separator:ad70c4eeb51cd5b0ce2abb939924c7469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd30c260607aec4597c5b613c5e013f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f">thread_unblock</a> (struct <a class="el" href="structthread.html">thread</a> *t)</td></tr>
<tr class="memdesc:a0cd30c260607aec4597c5b613c5e013f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transitions a blocked thread T to the ready-to-run state.  <a href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f">More...</a><br /></td></tr>
<tr class="separator:a0cd30c260607aec4597c5b613c5e013f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a867dd25d3133aa461b3decb225db6"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a85a867dd25d3133aa461b3decb225db6">thread_name</a> (void)</td></tr>
<tr class="memdesc:a85a867dd25d3133aa461b3decb225db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the running thread.  <a href="thread_8c.html#a85a867dd25d3133aa461b3decb225db6">More...</a><br /></td></tr>
<tr class="separator:a85a867dd25d3133aa461b3decb225db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0032becedd11c8a8e10a0a6955c90d66"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structthread.html">thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66">thread_current</a> (void)</td></tr>
<tr class="memdesc:a0032becedd11c8a8e10a0a6955c90d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the running thread.  <a href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66">More...</a><br /></td></tr>
<tr class="separator:a0032becedd11c8a8e10a0a6955c90d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4557309ef822a88c742c075ecb16a11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="thread_8h.html#a7a78d8e6bd74b48dbd812f553678d9a5">tid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac4557309ef822a88c742c075ecb16a11">thread_tid</a> (void)</td></tr>
<tr class="memdesc:ac4557309ef822a88c742c075ecb16a11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the running thread's tid.  <a href="thread_8c.html#ac4557309ef822a88c742c075ecb16a11">More...</a><br /></td></tr>
<tr class="separator:ac4557309ef822a88c742c075ecb16a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c2438941819bb3cc31658aa9eb66fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe">thread_exit</a> (void)</td></tr>
<tr class="memdesc:a87c2438941819bb3cc31658aa9eb66fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deschedules the current thread and destroys it.  <a href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe">More...</a><br /></td></tr>
<tr class="separator:a87c2438941819bb3cc31658aa9eb66fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9229e0f462f60bb9550919fa3d7699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699">thread_yield</a> (void)</td></tr>
<tr class="memdesc:aaa9229e0f462f60bb9550919fa3d7699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yields the CPU.  <a href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699">More...</a><br /></td></tr>
<tr class="separator:aaa9229e0f462f60bb9550919fa3d7699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e1023bfbf318808dcb220a6596eea5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af8e1023bfbf318808dcb220a6596eea5">thread_foreach</a> (<a class="el" href="thread_8h.html#a43748f2a97a0a0ebbbfe04add10a3bd3">thread_action_func</a> *func, void *aux)</td></tr>
<tr class="memdesc:af8e1023bfbf318808dcb220a6596eea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoke function 'func' on all threads, passing along 'aux'.  <a href="thread_8c.html#af8e1023bfbf318808dcb220a6596eea5">More...</a><br /></td></tr>
<tr class="separator:af8e1023bfbf318808dcb220a6596eea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9956c9159ed8901839fa5581c41fcf4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9956c9159ed8901839fa5581c41fcf4f">thread_set_priority</a> (int new_priority)</td></tr>
<tr class="memdesc:a9956c9159ed8901839fa5581c41fcf4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current thread's priority to NEW_PRIORITY.  <a href="thread_8c.html#a9956c9159ed8901839fa5581c41fcf4f">More...</a><br /></td></tr>
<tr class="separator:a9956c9159ed8901839fa5581c41fcf4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7425a4395bacbf7d3e50ba10ff42f5b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7425a4395bacbf7d3e50ba10ff42f5b6">thread_get_priority</a> (void)</td></tr>
<tr class="memdesc:a7425a4395bacbf7d3e50ba10ff42f5b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current thread's priority.  <a href="thread_8c.html#a7425a4395bacbf7d3e50ba10ff42f5b6">More...</a><br /></td></tr>
<tr class="separator:a7425a4395bacbf7d3e50ba10ff42f5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab732fcf33c6ea951e0c0d0f9d2e5d6e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ab732fcf33c6ea951e0c0d0f9d2e5d6e9">thread_set_nice</a> (int nice <a class="el" href="debug_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a>)</td></tr>
<tr class="memdesc:ab732fcf33c6ea951e0c0d0f9d2e5d6e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current thread's nice value to NICE.  <a href="thread_8c.html#ab732fcf33c6ea951e0c0d0f9d2e5d6e9">More...</a><br /></td></tr>
<tr class="separator:ab732fcf33c6ea951e0c0d0f9d2e5d6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a259e6ba0590380f004167b5570c8dbd3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a259e6ba0590380f004167b5570c8dbd3">thread_get_nice</a> (void)</td></tr>
<tr class="memdesc:a259e6ba0590380f004167b5570c8dbd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current thread's nice value.  <a href="thread_8c.html#a259e6ba0590380f004167b5570c8dbd3">More...</a><br /></td></tr>
<tr class="separator:a259e6ba0590380f004167b5570c8dbd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f1c7f0796b3d91e5734dac094a4d0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af2f1c7f0796b3d91e5734dac094a4d0c">thread_get_load_avg</a> (void)</td></tr>
<tr class="memdesc:af2f1c7f0796b3d91e5734dac094a4d0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 100 times the system load average.  <a href="thread_8c.html#af2f1c7f0796b3d91e5734dac094a4d0c">More...</a><br /></td></tr>
<tr class="separator:af2f1c7f0796b3d91e5734dac094a4d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92a544b3630afc87e7bb176ddcb68dac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a92a544b3630afc87e7bb176ddcb68dac">thread_get_recent_cpu</a> (void)</td></tr>
<tr class="memdesc:a92a544b3630afc87e7bb176ddcb68dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 100 times the current thread's recent_cpu value.  <a href="thread_8c.html#a92a544b3630afc87e7bb176ddcb68dac">More...</a><br /></td></tr>
<tr class="separator:a92a544b3630afc87e7bb176ddcb68dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fbc1c29ff118d92ee1449a1072a00ce"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce">idle</a> (void *idle_started_ <a class="el" href="debug_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a>)</td></tr>
<tr class="memdesc:a6fbc1c29ff118d92ee1449a1072a00ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idle thread.  <a href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce">More...</a><br /></td></tr>
<tr class="separator:a6fbc1c29ff118d92ee1449a1072a00ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19de4720e289bc3e7202be2b1a059549"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a19de4720e289bc3e7202be2b1a059549">alloc_frame</a> (struct <a class="el" href="structthread.html">thread</a> *t, <a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> size)</td></tr>
<tr class="memdesc:a19de4720e289bc3e7202be2b1a059549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a SIZE-byte frame at the top of thread T's stack and returns a pointer to the frame's base.  <a href="thread_8c.html#a19de4720e289bc3e7202be2b1a059549">More...</a><br /></td></tr>
<tr class="separator:a19de4720e289bc3e7202be2b1a059549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbd25908c41e62d44a179cfbc3962e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2">thread_schedule_tail</a> (struct <a class="el" href="structthread.html">thread</a> *prev)</td></tr>
<tr class="memdesc:acbbd25908c41e62d44a179cfbc3962e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completes a thread switch by activating the new thread's page tables, and, if the previous thread is dying, destroying it.  <a href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2">More...</a><br /></td></tr>
<tr class="separator:acbbd25908c41e62d44a179cfbc3962e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e3ec45b7bf0028e55f2b9ab1603306"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306">schedule</a> (void)</td></tr>
<tr class="memdesc:a63e3ec45b7bf0028e55f2b9ab1603306"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules a new process.  <a href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306">More...</a><br /></td></tr>
<tr class="separator:a63e3ec45b7bf0028e55f2b9ab1603306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a382e72d5d2fb4cfe2b5034eb62a887c8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="thread_8h.html#a7a78d8e6bd74b48dbd812f553678d9a5">tid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8">allocate_tid</a> (void)</td></tr>
<tr class="memdesc:a382e72d5d2fb4cfe2b5034eb62a887c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a tid to use for a new thread.  <a href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8">More...</a><br /></td></tr>
<tr class="separator:a382e72d5d2fb4cfe2b5034eb62a887c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a88aadf03bb4208231cfd3c61881c986f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist.html">list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a88aadf03bb4208231cfd3c61881c986f">ready_list</a></td></tr>
<tr class="memdesc:a88aadf03bb4208231cfd3c61881c986f"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of processes in THREAD_READY state, that is, processes that are ready to run but not actually running.  <a href="thread_8c.html#a88aadf03bb4208231cfd3c61881c986f">More...</a><br /></td></tr>
<tr class="separator:a88aadf03bb4208231cfd3c61881c986f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9571ed633535fe10c374d9dccf71d44"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist.html">list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa9571ed633535fe10c374d9dccf71d44">all_list</a></td></tr>
<tr class="memdesc:aa9571ed633535fe10c374d9dccf71d44"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all processes.  <a href="thread_8c.html#aa9571ed633535fe10c374d9dccf71d44">More...</a><br /></td></tr>
<tr class="separator:aa9571ed633535fe10c374d9dccf71d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a482931135be5fd8571be345dbf44a0f0"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structthread.html">thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a482931135be5fd8571be345dbf44a0f0">idle_thread</a></td></tr>
<tr class="memdesc:a482931135be5fd8571be345dbf44a0f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idle thread.  <a href="thread_8c.html#a482931135be5fd8571be345dbf44a0f0">More...</a><br /></td></tr>
<tr class="separator:a482931135be5fd8571be345dbf44a0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88c38fc74f5be307d723d4a2757e51a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structthread.html">thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad88c38fc74f5be307d723d4a2757e51a">initial_thread</a></td></tr>
<tr class="memdesc:ad88c38fc74f5be307d723d4a2757e51a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial thread, the thread running <a class="el" href="init_8c.html">init.c</a>:<a class="el" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main()</a>.  <a href="thread_8c.html#ad88c38fc74f5be307d723d4a2757e51a">More...</a><br /></td></tr>
<tr class="separator:ad88c38fc74f5be307d723d4a2757e51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae471430c451936d31ba424c182390cd0"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlock.html">lock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae471430c451936d31ba424c182390cd0">tid_lock</a></td></tr>
<tr class="memdesc:ae471430c451936d31ba424c182390cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock used by <a class="el" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread.">allocate_tid()</a>.  <a href="thread_8c.html#ae471430c451936d31ba424c182390cd0">More...</a><br /></td></tr>
<tr class="separator:ae471430c451936d31ba424c182390cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44dbee7bd337b2707a40725504f68356"><td class="memItemLeft" align="right" valign="top">static long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a44dbee7bd337b2707a40725504f68356">idle_ticks</a></td></tr>
<tr class="memdesc:a44dbee7bd337b2707a40725504f68356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statistics.  <a href="thread_8c.html#a44dbee7bd337b2707a40725504f68356">More...</a><br /></td></tr>
<tr class="separator:a44dbee7bd337b2707a40725504f68356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55490f0819a5765b6ef900ebd250fa9"><td class="memItemLeft" align="right" valign="top">static long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac55490f0819a5765b6ef900ebd250fa9">kernel_ticks</a></td></tr>
<tr class="separator:ac55490f0819a5765b6ef900ebd250fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3fc65151bc60c1531f2cef261397ec"><td class="memItemLeft" align="right" valign="top">static long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a0f3fc65151bc60c1531f2cef261397ec">user_ticks</a></td></tr>
<tr class="separator:a0f3fc65151bc60c1531f2cef261397ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d311a883bfe99253b272ed19c2412a"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a64d311a883bfe99253b272ed19c2412a">thread_ticks</a></td></tr>
<tr class="separator:a64d311a883bfe99253b272ed19c2412a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f931dea2ffaab0b5b3ece1ae452096b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2f931dea2ffaab0b5b3ece1ae452096b">thread_mlfqs</a></td></tr>
<tr class="memdesc:a2f931dea2ffaab0b5b3ece1ae452096b"><td class="mdescLeft">&#160;</td><td class="mdescRight">If false (default), use round-robin scheduler.  <a href="thread_8c.html#a2f931dea2ffaab0b5b3ece1ae452096b">More...</a><br /></td></tr>
<tr class="separator:a2f931dea2ffaab0b5b3ece1ae452096b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed1c6c7f8515fdbf57e7f8cff07b60e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5ed1c6c7f8515fdbf57e7f8cff07b60e">thread_stack_ofs</a> = <a class="el" href="stddef_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a> (struct <a class="el" href="structthread.html">thread</a>, stack)</td></tr>
<tr class="memdesc:a5ed1c6c7f8515fdbf57e7f8cff07b60e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset of &lsquo;stack&rsquo; member within &lsquo;struct thread&rsquo;.  <a href="thread_8c.html#a5ed1c6c7f8515fdbf57e7f8cff07b60e">More...</a><br /></td></tr>
<tr class="separator:a5ed1c6c7f8515fdbf57e7f8cff07b60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae931feba4d799a96553d3f01fc3dcce3" name="ae931feba4d799a96553d3f01fc3dcce3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae931feba4d799a96553d3f01fc3dcce3">&#9670;&nbsp;</a></span>THREAD_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THREAD_MAGIC&#160;&#160;&#160;0xcd6abf4b</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Random value for struct thread's &lsquo;magic&rsquo; member. </p>
<p >Used to detect stack overflow. See the big comment at the top of <a class="el" href="thread_8h.html">thread.h</a> for details. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00021">21</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

</div>
</div>
<a id="ae17b0e0d44770e679be7612a45ca831a" name="ae17b0e0d44770e679be7612a45ca831a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae17b0e0d44770e679be7612a45ca831a">&#9670;&nbsp;</a></span>TIME_SLICE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIME_SLICE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scheduling. </p>
<h1><a class="anchor" id="autotoc_md3"></a>
of timer ticks to give each thread.</h1>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00054">54</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a19de4720e289bc3e7202be2b1a059549" name="a19de4720e289bc3e7202be2b1a059549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19de4720e289bc3e7202be2b1a059549">&#9670;&nbsp;</a></span>alloc_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * alloc_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates a SIZE-byte frame at the top of thread T's stack and returns a pointer to the frame's base. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00475">475</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="thread_8c_source.html#l00068">is_thread()</a>, and <a class="el" href="thread_8h_source.html#l00089">thread::stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00166">thread_create()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a19de4720e289bc3e7202be2b1a059549_cgraph.png" border="0" usemap="#athread_8c_a19de4720e289bc3e7202be2b1a059549_cgraph" alt=""/></div>
<map name="athread_8c_a19de4720e289bc3e7202be2b1a059549_cgraph" id="athread_8c_a19de4720e289bc3e7202be2b1a059549_cgraph">
<area shape="rect" title="Allocates a SIZE&#45;byte frame at the top of thread T&#39;s stack and returns a pointer to the frame&#39;s base." alt="" coords="5,5,96,32"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="144,5,221,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a19de4720e289bc3e7202be2b1a059549_icgraph.png" border="0" usemap="#athread_8c_a19de4720e289bc3e7202be2b1a059549_icgraph" alt=""/></div>
<map name="athread_8c_a19de4720e289bc3e7202be2b1a059549_icgraph" id="athread_8c_a19de4720e289bc3e7202be2b1a059549_icgraph">
<area shape="rect" title="Allocates a SIZE&#45;byte frame at the top of thread T&#39;s stack and returns a pointer to the frame&#39;s base." alt="" coords="739,107,829,133"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="587,107,691,133"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="416,5,539,32"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="421,56,533,83"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="423,107,532,133"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="436,157,519,184"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="275,132,368,159"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="285,16,358,43"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,25,227,52"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,69,88,96"/>
</map>
</div>

</div>
</div>
<a id="a382e72d5d2fb4cfe2b5034eb62a887c8" name="a382e72d5d2fb4cfe2b5034eb62a887c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382e72d5d2fb4cfe2b5034eb62a887c8">&#9670;&nbsp;</a></span>allocate_tid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="thread_8h.html#a7a78d8e6bd74b48dbd812f553678d9a5">tid_t</a> allocate_tid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a tid to use for a new thread. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00570">570</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="synch_8c_source.html#l00193">lock_acquire()</a>, <a class="el" href="synch_8c_source.html#l00229">lock_release()</a>, <a class="el" href="thread_8h_source.html#l00086">thread::tid</a>, and <a class="el" href="thread_8c_source.html#l00038">tid_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00166">thread_create()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a382e72d5d2fb4cfe2b5034eb62a887c8_cgraph.png" border="0" usemap="#athread_8c_a382e72d5d2fb4cfe2b5034eb62a887c8_cgraph" alt=""/></div>
<map name="athread_8c_a382e72d5d2fb4cfe2b5034eb62a887c8_cgraph" id="athread_8c_a382e72d5d2fb4cfe2b5034eb62a887c8_cgraph">
<area shape="rect" title="Returns a tid to use for a new thread." alt="" coords="5,575,95,601"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="143,499,240,525"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="143,604,240,631"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1015,169,1106,196"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="288,597,437,638"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1374,397,1483,424"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="316,499,409,525"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1567,600,1645,627"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1550,347,1662,373"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1713,347,1831,373"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="833,701,923,728"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="652,600,752,627"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="647,853,757,880"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="493,448,591,475"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1010,549,1111,576"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="834,549,922,576"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1572,1107,1640,1133"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="839,853,917,880"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1389,1005,1469,1032"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1033,803,1089,829"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="664,448,740,475"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="855,397,901,424"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="809,904,947,931"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="823,347,933,373"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="805,448,951,475"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1387,1056,1470,1083"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1009,955,1112,981"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1567,1056,1645,1083"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1205,1005,1277,1032"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1195,955,1286,981"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="999,499,1123,525"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="999,448,1122,475"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1171,803,1311,829"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1387,904,1470,931"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1359,955,1499,981"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1394,803,1463,829"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1369,752,1488,779"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1577,828,1635,855"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1397,701,1460,728"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1547,904,1665,931"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1727,904,1817,931"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1563,955,1649,981"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1723,955,1821,981"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1559,752,1653,779"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1181,549,1301,576"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1197,448,1284,475"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1405,549,1452,576"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1548,549,1664,576"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="324,777,401,804"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="485,803,599,829"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a382e72d5d2fb4cfe2b5034eb62a887c8_icgraph.png" border="0" usemap="#athread_8c_a382e72d5d2fb4cfe2b5034eb62a887c8_icgraph" alt=""/></div>
<map name="athread_8c_a382e72d5d2fb4cfe2b5034eb62a887c8_icgraph" id="athread_8c_a382e72d5d2fb4cfe2b5034eb62a887c8_icgraph">
<area shape="rect" title="Returns a tid to use for a new thread." alt="" coords="739,107,828,133"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="587,107,691,133"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="416,5,539,32"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="421,56,533,83"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="423,107,532,133"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="436,157,519,184"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="275,132,368,159"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="285,16,358,43"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,25,227,52"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,69,88,96"/>
</map>
</div>

</div>
</div>
<a id="a563c47d80a1f39ea3d9b6a76a28b2d5e" name="a563c47d80a1f39ea3d9b6a76a28b2d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a563c47d80a1f39ea3d9b6a76a28b2d5e">&#9670;&nbsp;</a></span>idle() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void idle </td>
          <td>(</td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>UNUSED</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00106">thread_start()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a563c47d80a1f39ea3d9b6a76a28b2d5e_icgraph.png" border="0" usemap="#athread_8c_a563c47d80a1f39ea3d9b6a76a28b2d5e_icgraph" alt=""/></div>
<map name="athread_8c_a563c47d80a1f39ea3d9b6a76a28b2d5e_icgraph" id="athread_8c_a563c47d80a1f39ea3d9b6a76a28b2d5e_icgraph">
<area shape="rect" title=" " alt="" coords="277,5,320,32"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="136,5,229,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,88,32"/>
</map>
</div>

</div>
</div>
<a id="a6fbc1c29ff118d92ee1449a1072a00ce" name="a6fbc1c29ff118d92ee1449a1072a00ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fbc1c29ff118d92ee1449a1072a00ce">&#9670;&nbsp;</a></span>idle() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void idle </td>
          <td>(</td>
          <td class="paramtype">void *idle_started_&#160;</td>
          <td class="paramname"><em>UNUSED</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Idle thread. </p>
<p >Executes when no other thread is ready to run.</p>
<p >The idle thread is initially put on the ready list by <a class="el" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts.">thread_start()</a>. It will be scheduled once initially, at which point it initializes idle_thread, "up"s the semaphore passed to it to enable <a class="el" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts.">thread_start()</a> to continue, and immediately blocks. After that, the idle thread never appears in the ready list. It is returned by <a class="el" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled.">next_thread_to_run()</a> as a special case when the ready list is empty. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00389">389</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8c_source.html#l00032">idle_thread</a>, <a class="el" href="interrupt_8c_source.html#l00104">intr_disable()</a>, <a class="el" href="synch_8c_source.html#l00109">sema_up()</a>, <a class="el" href="thread_8c_source.html#l00214">thread_block()</a>, and <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a6fbc1c29ff118d92ee1449a1072a00ce_cgraph.png" border="0" usemap="#athread_8c_a6fbc1c29ff118d92ee1449a1072a00ce_cgraph" alt=""/></div>
<map name="athread_8c_a6fbc1c29ff118d92ee1449a1072a00ce_cgraph" id="athread_8c_a6fbc1c29ff118d92ee1449a1072a00ce_cgraph">
<area shape="rect" title="Idle thread." alt="" coords="5,591,48,617"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="614,439,705,465"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="107,363,184,389"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="96,692,195,719"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="973,869,1082,896"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="789,552,890,579"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="427,439,527,465"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="986,160,1069,187"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="608,185,711,212"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="243,337,356,364"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="615,552,703,579"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="794,616,885,643"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1165,160,1244,187"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1171,47,1239,73"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="803,185,875,212"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="794,135,885,161"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="987,96,1067,123"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1166,692,1243,719"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="604,33,715,60"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="800,33,879,60"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="999,33,1055,60"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="261,692,337,719"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="453,641,500,668"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="408,236,545,263"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1149,945,1261,972"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="421,692,532,719"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="404,844,549,871"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1312,945,1429,972"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="597,996,721,1023"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="598,844,721,871"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="769,1199,909,1225"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="986,1351,1069,1377"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="957,1097,1097,1124"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="993,1148,1062,1175"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="968,1199,1087,1225"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1175,1261,1234,1288"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="996,1249,1059,1276"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1145,1337,1264,1364"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1325,1224,1416,1251"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1477,1148,1553,1175"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1477,1199,1553,1225"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1161,1123,1248,1149"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1321,1123,1420,1149"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1321,1173,1420,1200"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1158,1199,1251,1225"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="779,743,899,769"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="796,844,883,871"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1004,743,1051,769"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1147,743,1263,769"/>
</map>
</div>

</div>
</div>
<a id="a34a9d4a5ab1bf577041f4c3f1b8f6c89" name="a34a9d4a5ab1bf577041f4c3f1b8f6c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a9d4a5ab1bf577041f4c3f1b8f6c89">&#9670;&nbsp;</a></span>init_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does basic initialization of T as a blocked thread named NAME. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00452">452</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8c_source.html#l00029">all_list</a>, <a class="el" href="thread_8h_source.html#l00091">thread::allelem</a>, <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00104">intr_disable()</a>, <a class="el" href="interrupt_8c_source.html#l00081">intr_set_level()</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00217">list_push_back()</a>, <a class="el" href="thread_8h_source.html#l00102">thread::magic</a>, <a class="el" href="string_8c_source.html#l00279">memset()</a>, <a class="el" href="thread_8h_source.html#l00088">thread::name</a>, <a class="el" href="insult_8c_source.html#l00047">name</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="vaddr_8h_source.html#l00020">PGSIZE</a>, <a class="el" href="thread_8h_source.html#l00025">PRI_MAX</a>, <a class="el" href="thread_8h_source.html#l00023">PRI_MIN</a>, <a class="el" href="thread_8h_source.html#l00090">thread::priority</a>, <a class="el" href="thread_8h_source.html#l00089">thread::stack</a>, <a class="el" href="thread_8h_source.html#l00087">thread::status</a>, <a class="el" href="string_8c_source.html#l00326">strlcpy()</a>, <a class="el" href="thread_8h_source.html#l00013">THREAD_BLOCKED</a>, and <a class="el" href="thread_8c_source.html#l00021">THREAD_MAGIC</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00166">thread_create()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a34a9d4a5ab1bf577041f4c3f1b8f6c89_cgraph.png" border="0" usemap="#athread_8c_a34a9d4a5ab1bf577041f4c3f1b8f6c89_cgraph" alt=""/></div>
<map name="athread_8c_a34a9d4a5ab1bf577041f4c3f1b8f6c89_cgraph" id="athread_8c_a34a9d4a5ab1bf577041f4c3f1b8f6c89_cgraph">
<area shape="rect" title="Does basic initialization of T as a blocked thread named NAME." alt="" coords="5,107,89,133"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="296,5,387,32"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="143,56,243,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="137,107,248,133"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="158,157,227,184"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="163,208,223,235"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="435,5,536,32"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="297,56,385,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="440,56,531,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="307,107,375,133"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="302,157,381,184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="445,132,525,159"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="457,183,513,209"/>
<area shape="rect" href="string_8c.html#a75301dc67774ade574b3b3205ee4f39e" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="305,208,377,235"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="314,259,369,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a34a9d4a5ab1bf577041f4c3f1b8f6c89_icgraph.png" border="0" usemap="#athread_8c_a34a9d4a5ab1bf577041f4c3f1b8f6c89_icgraph" alt=""/></div>
<map name="athread_8c_a34a9d4a5ab1bf577041f4c3f1b8f6c89_icgraph" id="athread_8c_a34a9d4a5ab1bf577041f4c3f1b8f6c89_icgraph">
<area shape="rect" title="Does basic initialization of T as a blocked thread named NAME." alt="" coords="739,107,823,133"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="587,107,691,133"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="416,5,539,32"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="421,56,533,83"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="423,107,532,133"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="436,157,519,184"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="275,132,368,159"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="285,16,358,43"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,25,227,52"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,69,88,96"/>
</map>
</div>

</div>
</div>
<a id="a85274904406e17925db793a7603f9c49" name="a85274904406e17925db793a7603f9c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85274904406e17925db793a7603f9c49">&#9670;&nbsp;</a></span>is_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> is_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the threading system by transforming the code that's currently running into a thread. </p>
<p >Returns true if T appears to point to a valid thread.</p>
<p >This can't work in general and it is possible in this case only because loader.S was careful to put the bottom of the stack at a page boundary.</p>
<p >Also initializes the run queue and the tid lock.</p>
<p >After calling this function, be sure to initialize the page allocator before trying to create any threads with <a class="el" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi...">thread_create()</a>.</p>
<p >It is not safe to call <a class="el" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread.">thread_current()</a> until this function finishes. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00068">68</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00475">alloc_frame()</a>, <a class="el" href="thread_8c_source.html#l00553">schedule()</a>, <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>, and <a class="el" href="thread_8c_source.html#l00232">thread_unblock()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a85274904406e17925db793a7603f9c49_icgraph.png" border="0" usemap="#athread_8c_a85274904406e17925db793a7603f9c49_icgraph" alt=""/></div>
<map name="athread_8c_a85274904406e17925db793a7603f9c49_icgraph" id="athread_8c_a85274904406e17925db793a7603f9c49_icgraph">
<area shape="rect" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1216,968,1293,995"/>
<area shape="rect" href="thread_8c.html#a19de4720e289bc3e7202be2b1a059549" title="Allocates a SIZE&#45;byte frame at the top of thread T&#39;s stack and returns a pointer to the frame&#39;s base." alt="" coords="1066,1069,1157,1096"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1073,943,1149,969"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1057,613,1166,640"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1055,1247,1168,1273"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="330,867,434,893"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="136,715,259,741"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="141,1272,253,1299"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="143,563,252,589"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="156,487,239,513"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="151,867,244,893"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,841,88,868"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="883,1069,981,1096"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="704,740,792,767"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="701,309,795,336"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="727,1069,769,1096"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="701,1171,795,1197"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="725,993,771,1020"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="523,157,621,184"/>
<area shape="rect" href="priority-donate-multiple_8c.html#a56379b758fb21b5a67de1a87d2a74672" title=" " alt="" coords="329,56,435,83"/>
<area shape="rect" href="priority-donate-one_8c.html#adbcd765439b4d960f0db9ba4a47d421f" title=" " alt="" coords="307,107,457,133"/>
<area shape="rect" href="priority-donate-one_8c.html#aae18eed8351e7789ef848517a96284a5" title=" " alt="" coords="307,157,457,184"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="323,5,441,32"/>
<area shape="rect" href="priority-donate-lower_8c.html#ab955dabdbbfc7a7a188317e70b95ef04" title=" " alt="" coords="310,208,454,235"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="309,259,455,285"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="313,309,451,336"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="520,715,624,741"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="553,867,591,893"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="331,664,433,691"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="515,765,629,792"/>
<area shape="rect" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers." alt="" coords="526,360,618,387"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="349,436,415,463"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="527,461,617,488"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="885,563,979,589"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="549,512,595,539"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="857,41,1007,82"/>
<area shape="rect" href="synch_8c.html#a343f11e4ce80e077a18e565b6d9ac180" title="Tries to acquires LOCK and returns true if successful or false on failure." alt="" coords="689,107,807,133"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="874,309,990,336"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="687,461,809,488"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="883,664,981,691"/>
<area shape="rect" href="thread_8c.html#a7425a4395bacbf7d3e50ba10ff42f5b6" title="Returns the current thread&#39;s priority." alt="" coords="505,208,639,235"/>
<area shape="rect" href="thread_8c.html#a85a867dd25d3133aa461b3decb225db6" title="Returns the name of the running thread." alt="" coords="698,867,798,893"/>
<area shape="rect" href="thread_8c.html#a9956c9159ed8901839fa5581c41fcf4f" title="Sets the current thread&#39;s priority to NEW_PRIORITY." alt="" coords="866,715,998,741"/>
<area shape="rect" href="thread_8c.html#a99b55ae8059d7834cc113334a3fd0c3c" title="Called by the timer interrupt handler at each timer tick." alt="" coords="889,765,975,792"/>
<area shape="rect" href="thread_8c.html#ac4557309ef822a88c742c075ecb16a11" title="Returns the running thread&#39;s tid." alt="" coords="891,816,973,843"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="889,411,975,437"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="695,563,801,589"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="701,512,795,539"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="893,1272,971,1299"/>
<area shape="rect" href="intq_8c.html#a9345e011df7272c05780a74adad48225" title="WAITER must be the address of Q&#39;s not_empty or not_full member, and the associated condition must be ..." alt="" coords="903,1323,961,1349"/>
</map>
</div>

</div>
</div>
<a id="ac40007d0837868671dffa80f581b4723" name="ac40007d0837868671dffa80f581b4723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac40007d0837868671dffa80f581b4723">&#9670;&nbsp;</a></span>kernel_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kernel_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a> *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function used as the basis for a kernel thread. </p>
<p >&lt; The scheduler runs with interrupts off.</p>
<p >&lt; Execute the thread function.</p>
<p >&lt; If function() returns, kill the thread.</p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00419">419</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00088">intr_enable()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, and <a class="el" href="thread_8c_source.html#l00281">thread_exit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00166">thread_create()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_ac40007d0837868671dffa80f581b4723_cgraph.png" border="0" usemap="#athread_8c_ac40007d0837868671dffa80f581b4723_cgraph" alt=""/></div>
<map name="athread_8c_ac40007d0837868671dffa80f581b4723_cgraph" id="athread_8c_ac40007d0837868671dffa80f581b4723_cgraph">
<area shape="rect" title="Function used as the basis for a kernel thread." alt="" coords="5,179,109,206"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="157,128,245,155"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="157,230,245,256"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="297,128,387,155"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="643,27,745,54"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="297,179,387,206"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="829,672,919,699"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="293,458,391,484"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1007,276,1117,303"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="304,230,380,256"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1022,850,1102,876"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="814,508,934,535"/>
<area shape="rect" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="453,711,570,738"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1039,495,1085,522"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1181,495,1297,522"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="632,610,756,636"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="665,762,723,788"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="649,812,739,839"/>
<area shape="rect" href="pte_8h.html#a74bfe6c82c7b9fe6c3d8a95bf720615c" title="Returns a pointer to the page that page table entry PTE points to." alt="" coords="642,711,746,738"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="804,622,944,648"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1021,546,1103,572"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="992,748,1132,775"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1027,647,1097,674"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1003,596,1121,623"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1210,672,1269,699"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1031,799,1093,826"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1180,546,1299,572"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1360,634,1451,660"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1512,710,1588,736"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1512,659,1588,686"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1196,735,1283,762"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1356,684,1455,711"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1356,735,1455,762"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1193,596,1286,623"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="851,774,897,800"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1201,299,1278,326"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1183,154,1295,180"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1347,154,1464,180"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="488,154,535,180"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="443,458,580,484"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="456,255,567,282"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="439,204,584,231"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1021,444,1103,471"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="643,559,745,586"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1200,444,1279,471"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1205,394,1273,420"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="838,559,910,586"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="633,230,755,256"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="831,204,917,231"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_ac40007d0837868671dffa80f581b4723_icgraph.png" border="0" usemap="#athread_8c_ac40007d0837868671dffa80f581b4723_icgraph" alt=""/></div>
<map name="athread_8c_ac40007d0837868671dffa80f581b4723_icgraph" id="athread_8c_ac40007d0837868671dffa80f581b4723_icgraph">
<area shape="rect" title="Function used as the basis for a kernel thread." alt="" coords="739,107,843,133"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="587,107,691,133"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="416,5,539,32"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="421,56,533,83"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="423,107,532,133"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="436,157,519,184"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="275,132,368,159"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="285,16,358,43"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,25,227,52"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,69,88,96"/>
</map>
</div>

</div>
</div>
<a id="ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" name="ace7a46dcf0f5c9c4cbb8f47a5b3c76f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5">&#9670;&nbsp;</a></span>next_thread_to_run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structthread.html">thread</a> * next_thread_to_run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Chooses and returns the next thread to be scheduled. </p>
<p >Should return a thread from the run queue, unless the run queue is empty. (If the running thread can continue running, then it will be in the run queue.) If the run queue is empty, return idle_thread. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00491">491</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8h_source.html#l00094">thread::elem</a>, <a class="el" href="thread_8c_source.html#l00032">idle_thread</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00310">list_empty()</a>, <a class="el" href="list_8h_source.html#l00108">list_entry</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00260">list_pop_front()</a>, and <a class="el" href="thread_8c_source.html#l00025">ready_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00553">schedule()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_ace7a46dcf0f5c9c4cbb8f47a5b3c76f5_cgraph.png" border="0" usemap="#athread_8c_ace7a46dcf0f5c9c4cbb8f47a5b3c76f5_cgraph" alt=""/></div>
<map name="athread_8c_ace7a46dcf0f5c9c4cbb8f47a5b3c76f5_cgraph" id="athread_8c_ace7a46dcf0f5c9c4cbb8f47a5b3c76f5_cgraph">
<area shape="rect" title="Chooses and returns the next thread to be scheduled." alt="" coords="5,31,143,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="480,31,563,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="191,56,293,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="611,5,689,32"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="616,56,684,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="351,56,423,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="341,107,432,133"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="481,107,561,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_ace7a46dcf0f5c9c4cbb8f47a5b3c76f5_icgraph.png" border="0" usemap="#athread_8c_ace7a46dcf0f5c9c4cbb8f47a5b3c76f5_icgraph" alt=""/></div>
<map name="athread_8c_ace7a46dcf0f5c9c4cbb8f47a5b3c76f5_icgraph" id="athread_8c_ace7a46dcf0f5c9c4cbb8f47a5b3c76f5_icgraph">
<area shape="rect" title="Chooses and returns the next thread to be scheduled." alt="" coords="1323,1094,1460,1121"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1199,1094,1275,1121"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1052,677,1151,704"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="745,1373,833,1400"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="742,1094,837,1121"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="936,702,979,729"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="911,398,1004,425"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="935,652,980,678"/>
<area shape="rect" href="synch_8c.html#a408896d5b2af213dc2a8da984c696419" title="Atomically releases LOCK and waits for COND to be signaled by some other piece of code." alt="" coords="551,233,634,260"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="556,841,629,868"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="555,892,631,918"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="721,30,857,57"/>
<area shape="rect" href="priority-donate-sema_8c.html#aeb0f97fa3c6d25534de6a11bf3532aa3" title=" " alt="" coords="541,182,644,209"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="741,562,838,589"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="141,1006,253,1033"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="151,956,244,982"/>
<area shape="rect" href="priority-donate-sema_8c.html#a4dc51b1476966c227801513da4bd6b84" title=" " alt="" coords="734,373,845,400"/>
<area shape="rect" href="priority-sema_8c.html#a256435362d935640e9ba8007e76794d0" title=" " alt="" coords="716,424,863,450"/>
<area shape="rect" href="synch_8c.html#a57b7a9021b4a9c32f00065da020e96cd" title="Thread function used by sema_self_test()." alt="" coords="725,980,853,1006"/>
<area shape="rect" href="priority-condvar_8c.html#a0a388ce73d55720aac505642bc72ce37" title=" " alt="" coords="307,334,469,361"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="165,468,229,494"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,1221,88,1248"/>
<area shape="rect" href="priority-donate-multiple_8c.html#a56379b758fb21b5a67de1a87d2a74672" title=" " alt="" coords="539,689,646,716"/>
<area shape="rect" href="priority-donate-one_8c.html#adbcd765439b4d960f0db9ba4a47d421f" title=" " alt="" coords="517,284,668,310"/>
<area shape="rect" href="priority-donate-one_8c.html#aae18eed8351e7789ef848517a96284a5" title=" " alt="" coords="517,334,668,361"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="533,385,652,412"/>
<area shape="rect" href="priority-donate-lower_8c.html#ab955dabdbbfc7a7a188317e70b95ef04" title=" " alt="" coords="521,486,665,513"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="548,790,637,817"/>
<area shape="rect" href="priority-donate-multiple_8c.html#af257d61c4fea017f52981dbe2a40534b" title=" " alt="" coords="539,537,646,564"/>
<area shape="rect" href="mlfqs-block_8c.html#afae0754a3b814ae247351cc6ee14276c" title="Checks that recent_cpu and priorities are updated for blocked threads." alt="" coords="543,588,642,614"/>
<area shape="rect" href="priority-donate-chain_8c.html#af3ea65daade3a57b9afbfaf87d187dfd" title=" " alt="" coords="526,638,659,665"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="365,841,411,868"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="519,993,666,1020"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="523,942,662,969"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="336,1044,440,1070"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="136,1348,259,1374"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="143,1246,252,1273"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="156,1069,239,1096"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="541,1196,645,1222"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="573,1500,612,1526"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="337,1398,439,1425"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="536,1348,649,1374"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="145,1500,249,1526"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="346,1500,430,1526"/>
<area shape="rect" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers." alt="" coords="547,1145,639,1172"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="355,1094,421,1121"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="547,1246,638,1273"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="314,1348,462,1374"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="342,1297,434,1324"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="330,1196,446,1222"/>
</map>
</div>

</div>
</div>
<a id="a42e628208d70ba10d79c26d902b60650" name="a42e628208d70ba10d79c26d902b60650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e628208d70ba10d79c26d902b60650">&#9670;&nbsp;</a></span>running_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthread.html">thread</a> * running_thread </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the running thread. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00430">430</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="vaddr_8h_source.html#l00039">pg_round_down()</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00553">schedule()</a>, <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>, and <a class="el" href="thread_8c_source.html#l00516">thread_schedule_tail()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a42e628208d70ba10d79c26d902b60650_cgraph.png" border="0" usemap="#athread_8c_a42e628208d70ba10d79c26d902b60650_cgraph" alt=""/></div>
<map name="athread_8c_a42e628208d70ba10d79c26d902b60650_cgraph" id="athread_8c_a42e628208d70ba10d79c26d902b60650_cgraph">
<area shape="rect" title="Returns the running thread." alt="" coords="5,5,117,32"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="165,5,283,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a42e628208d70ba10d79c26d902b60650_icgraph.png" border="0" usemap="#athread_8c_a42e628208d70ba10d79c26d902b60650_icgraph" alt=""/></div>
<map name="athread_8c_a42e628208d70ba10d79c26d902b60650_icgraph" id="athread_8c_a42e628208d70ba10d79c26d902b60650_icgraph">
<area shape="rect" title="Returns the running thread." alt="" coords="1577,196,1689,223"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="741,272,817,299"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1420,551,1529,577"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="876,272,1021,299"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="583,95,682,121"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="589,753,677,780"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="585,323,680,349"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="439,5,481,32"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="413,145,507,172"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="437,69,483,96"/>
<area shape="rect" href="synch_8c.html#a408896d5b2af213dc2a8da984c696419" title="Atomically releases LOCK and waits for COND to be signaled by some other piece of code." alt="" coords="39,145,122,172"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="44,95,117,121"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="222,449,319,476"/>
<area shape="rect" href="priority-donate-multiple_8c.html#a56379b758fb21b5a67de1a87d2a74672" title=" " alt="" coords="27,601,134,628"/>
<area shape="rect" href="priority-donate-one_8c.html#adbcd765439b4d960f0db9ba4a47d421f" title=" " alt="" coords="5,652,156,679"/>
<area shape="rect" href="priority-donate-one_8c.html#aae18eed8351e7789ef848517a96284a5" title=" " alt="" coords="5,703,156,729"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="21,804,140,831"/>
<area shape="rect" href="priority-donate-lower_8c.html#ab955dabdbbfc7a7a188317e70b95ef04" title=" " alt="" coords="9,247,153,273"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="36,297,125,324"/>
<area shape="rect" href="priority-donate-multiple_8c.html#af257d61c4fea017f52981dbe2a40534b" title=" " alt="" coords="27,348,134,375"/>
<area shape="rect" href="mlfqs-block_8c.html#afae0754a3b814ae247351cc6ee14276c" title="Checks that recent_cpu and priorities are updated for blocked threads." alt="" coords="31,399,130,425"/>
<area shape="rect" href="priority-donate-chain_8c.html#af3ea65daade3a57b9afbfaf87d187dfd" title=" " alt="" coords="14,855,147,881"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="58,449,103,476"/>
<area shape="rect" href="priority-donate-sema_8c.html#a85675782bf8084df44707dfcfd2d7ae8" title=" " alt="" coords="27,500,134,527"/>
<area shape="rect" href="priority-donate-nest_8c.html#acc1e53225c07946f00921d331e5736c5" title=" " alt="" coords="18,551,143,577"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="7,753,154,780"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="11,196,150,223"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="408,804,512,831"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="441,905,479,932"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="419,703,501,729"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="409,855,511,881"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="403,753,517,780"/>
<area shape="rect" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers." alt="" coords="414,323,506,349"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="238,297,303,324"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="415,373,505,400"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="1259,905,1353,932"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="925,855,972,881"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="385,637,535,678"/>
<area shape="rect" href="synch_8c.html#a343f11e4ce80e077a18e565b6d9ac180" title="Tries to acquires LOCK and returns true if successful or false on failure." alt="" coords="211,905,330,932"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="1248,804,1364,831"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1069,583,1192,609"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="731,753,828,780"/>
<area shape="rect" href="thread_8c.html#a7425a4395bacbf7d3e50ba10ff42f5b6" title="Returns the current thread&#39;s priority." alt="" coords="204,753,337,780"/>
<area shape="rect" href="thread_8c.html#a85a867dd25d3133aa461b3decb225db6" title="Returns the name of the running thread." alt="" coords="583,1007,683,1033"/>
<area shape="rect" href="thread_8c.html#a9956c9159ed8901839fa5581c41fcf4f" title="Sets the current thread&#39;s priority to NEW_PRIORITY." alt="" coords="1240,1057,1372,1084"/>
<area shape="rect" href="thread_8c.html#a99b55ae8059d7834cc113334a3fd0c3c" title="Called by the timer interrupt handler at each timer tick." alt="" coords="1263,399,1349,425"/>
<area shape="rect" href="thread_8c.html#ac4557309ef822a88c742c075ecb16a11" title="Returns the running thread&#39;s tid." alt="" coords="1265,297,1347,324"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1263,551,1349,577"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="1078,905,1183,932"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="1084,855,1177,881"/>
</map>
</div>

</div>
</div>
<a id="a63e3ec45b7bf0028e55f2b9ab1603306" name="a63e3ec45b7bf0028e55f2b9ab1603306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63e3ec45b7bf0028e55f2b9ab1603306">&#9670;&nbsp;</a></span>schedule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void schedule </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Schedules a new process. </p>
<p >At entry, interrupts must be off and the running process's state must have been changed from running to some other state. This function finds another thread to run and switches to it.</p>
<p >It's not safe to call <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> until <a class="el" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ...">thread_schedule_tail()</a> has completed. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00553">553</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00065">intr_get_level()</a>, <a class="el" href="interrupt_8h_source.html#l00010">INTR_OFF</a>, <a class="el" href="thread_8c_source.html#l00068">is_thread()</a>, <a class="el" href="intq_8c_source.html#l00079">next()</a>, <a class="el" href="thread_8c_source.html#l00491">next_thread_to_run()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="thread_8c_source.html#l00430">running_thread()</a>, <a class="el" href="thread_8h_source.html#l00087">thread::status</a>, <a class="el" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98">switch_threads()</a>, <a class="el" href="thread_8h_source.html#l00011">THREAD_RUNNING</a>, and <a class="el" href="thread_8c_source.html#l00516">thread_schedule_tail()</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00214">thread_block()</a>, <a class="el" href="thread_8c_source.html#l00281">thread_exit()</a>, and <a class="el" href="thread_8c_source.html#l00302">thread_yield()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a63e3ec45b7bf0028e55f2b9ab1603306_cgraph.png" border="0" usemap="#athread_8c_a63e3ec45b7bf0028e55f2b9ab1603306_cgraph" alt=""/></div>
<map name="athread_8c_a63e3ec45b7bf0028e55f2b9ab1603306_cgraph" id="athread_8c_a63e3ec45b7bf0028e55f2b9ab1603306_cgraph">
<area shape="rect" title="Schedules a new process." alt="" coords="5,245,81,272"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="334,43,435,69"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="891,169,969,196"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="179,296,225,323"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="133,372,271,399"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="874,43,986,69"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="147,423,257,449"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="129,144,275,171"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="711,587,794,613"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="333,587,436,613"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="891,637,969,664"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="896,587,964,613"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="529,587,601,613"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="519,637,610,664"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="713,637,793,664"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1037,43,1155,69"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="323,371,447,397"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="323,144,446,171"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="495,384,635,411"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="711,435,794,461"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="683,384,823,411"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="718,333,787,360"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="693,485,812,512"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="901,536,959,563"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="721,283,784,309"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="871,435,989,461"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1051,435,1141,461"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1203,409,1279,436"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1203,359,1279,385"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="887,384,973,411"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1047,333,1145,360"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1047,384,1145,411"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="883,485,977,512"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="505,93,625,120"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="698,156,807,183"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="521,144,608,171"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="729,93,776,120"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="872,93,988,120"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a63e3ec45b7bf0028e55f2b9ab1603306_icgraph.png" border="0" usemap="#athread_8c_a63e3ec45b7bf0028e55f2b9ab1603306_icgraph" alt=""/></div>
<map name="athread_8c_a63e3ec45b7bf0028e55f2b9ab1603306_icgraph" id="athread_8c_a63e3ec45b7bf0028e55f2b9ab1603306_icgraph">
<area shape="rect" title="Schedules a new process." alt="" coords="1199,1171,1275,1197"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1052,259,1151,285"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="745,1171,833,1197"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="742,1449,837,1476"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="936,233,979,260"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="911,284,1004,311"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="935,183,980,209"/>
<area shape="rect" href="synch_8c.html#a408896d5b2af213dc2a8da984c696419" title="Atomically releases LOCK and waits for COND to be signaled by some other piece of code." alt="" coords="551,461,634,488"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="556,309,629,336"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="555,360,631,387"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="721,5,857,32"/>
<area shape="rect" href="priority-donate-sema_8c.html#aeb0f97fa3c6d25534de6a11bf3532aa3" title=" " alt="" coords="541,411,644,437"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="741,715,838,741"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="141,639,253,665"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="151,588,244,615"/>
<area shape="rect" href="priority-donate-sema_8c.html#a4dc51b1476966c227801513da4bd6b84" title=" " alt="" coords="734,56,845,83"/>
<area shape="rect" href="priority-sema_8c.html#a256435362d935640e9ba8007e76794d0" title=" " alt="" coords="716,107,863,133"/>
<area shape="rect" href="synch_8c.html#a57b7a9021b4a9c32f00065da020e96cd" title="Thread function used by sema_self_test()." alt="" coords="725,259,853,285"/>
<area shape="rect" href="priority-condvar_8c.html#a0a388ce73d55720aac505642bc72ce37" title=" " alt="" coords="307,487,469,513"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="165,297,229,324"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,867,88,893"/>
<area shape="rect" href="priority-donate-multiple_8c.html#a56379b758fb21b5a67de1a87d2a74672" title=" " alt="" coords="539,917,646,944"/>
<area shape="rect" href="priority-donate-one_8c.html#adbcd765439b4d960f0db9ba4a47d421f" title=" " alt="" coords="517,968,668,995"/>
<area shape="rect" href="priority-donate-one_8c.html#aae18eed8351e7789ef848517a96284a5" title=" " alt="" coords="517,563,668,589"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="533,613,652,640"/>
<area shape="rect" href="priority-donate-lower_8c.html#ab955dabdbbfc7a7a188317e70b95ef04" title=" " alt="" coords="521,664,665,691"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="548,1019,637,1045"/>
<area shape="rect" href="priority-donate-multiple_8c.html#af257d61c4fea017f52981dbe2a40534b" title=" " alt="" coords="539,715,646,741"/>
<area shape="rect" href="mlfqs-block_8c.html#afae0754a3b814ae247351cc6ee14276c" title="Checks that recent_cpu and priorities are updated for blocked threads." alt="" coords="543,765,642,792"/>
<area shape="rect" href="priority-donate-chain_8c.html#af3ea65daade3a57b9afbfaf87d187dfd" title=" " alt="" coords="526,816,659,843"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="365,1272,411,1299"/>
<area shape="rect" href="priority-donate-sema_8c.html#a85675782bf8084df44707dfcfd2d7ae8" title=" " alt="" coords="539,867,646,893"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="519,1323,666,1349"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="523,1424,662,1451"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="336,1044,440,1071"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="136,1069,259,1096"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="143,1576,252,1603"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="156,1297,239,1324"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="541,1069,645,1096"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="573,1171,612,1197"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="337,1095,439,1121"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="536,1272,649,1299"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="145,1145,249,1172"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="346,1145,430,1172"/>
<area shape="rect" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers." alt="" coords="547,1525,639,1552"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="355,1424,421,1451"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="547,1576,638,1603"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="314,1525,462,1552"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="342,1677,434,1704"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="330,1627,446,1653"/>
</map>
</div>

</div>
</div>
<a id="ad70c4eeb51cd5b0ce2abb939924c7469" name="ad70c4eeb51cd5b0ce2abb939924c7469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad70c4eeb51cd5b0ce2abb939924c7469">&#9670;&nbsp;</a></span>thread_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_block </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts the current thread to sleep. </p>
<p >It will not be scheduled again until awoken by <a class="el" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready-to-run state.">thread_unblock()</a>.</p>
<p >This function must be called with interrupts turned off. It is usually a better idea to use one of the synchronization primitives in <a class="el" href="synch_8h.html">synch.h</a>. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00214">214</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00212">intr_context()</a>, <a class="el" href="interrupt_8c_source.html#l00065">intr_get_level()</a>, <a class="el" href="interrupt_8h_source.html#l00010">INTR_OFF</a>, <a class="el" href="thread_8c_source.html#l00553">schedule()</a>, <a class="el" href="thread_8h_source.html#l00087">thread::status</a>, <a class="el" href="thread_8h_source.html#l00013">THREAD_BLOCKED</a>, and <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00389">idle()</a>, <a class="el" href="synch_8c_source.html#l00061">sema_down()</a>, and <a class="el" href="intq_8c_source.html#l00087">wait()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_ad70c4eeb51cd5b0ce2abb939924c7469_cgraph.png" border="0" usemap="#athread_8c_ad70c4eeb51cd5b0ce2abb939924c7469_cgraph" alt=""/></div>
<map name="athread_8c_ad70c4eeb51cd5b0ce2abb939924c7469_cgraph" id="athread_8c_ad70c4eeb51cd5b0ce2abb939924c7469_cgraph">
<area shape="rect" title="Puts the current thread to sleep." alt="" coords="5,233,104,260"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="152,5,243,32"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="495,512,597,539"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="159,436,235,463"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="859,259,969,285"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1053,309,1130,336"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="340,411,387,437"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="295,727,432,753"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1035,157,1147,184"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="308,563,419,589"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="291,461,436,488"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="873,777,955,804"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="495,727,597,753"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1052,727,1131,753"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1057,777,1125,804"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="690,752,762,779"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="681,701,771,728"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="874,715,954,741"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1199,157,1316,184"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="484,461,608,488"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="485,284,607,311"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="656,512,796,539"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="873,461,955,488"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="844,664,984,691"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="879,512,949,539"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="855,613,973,640"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1062,563,1121,589"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="883,411,945,437"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1032,487,1151,513"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1212,563,1303,589"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1364,588,1440,615"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1364,639,1440,665"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1048,664,1135,691"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1208,664,1307,691"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1208,613,1307,640"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1045,613,1138,640"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="666,208,786,235"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="683,309,769,336"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="891,208,937,235"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1033,208,1149,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_ad70c4eeb51cd5b0ce2abb939924c7469_icgraph.png" border="0" usemap="#athread_8c_ad70c4eeb51cd5b0ce2abb939924c7469_icgraph" alt=""/></div>
<map name="athread_8c_ad70c4eeb51cd5b0ce2abb939924c7469_icgraph" id="athread_8c_ad70c4eeb51cd5b0ce2abb939924c7469_icgraph">
<area shape="rect" title="Puts the current thread to sleep." alt="" coords="1041,1272,1140,1299"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="925,1221,968,1248"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="900,1272,993,1299"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="924,1323,969,1349"/>
<area shape="rect" href="synch_8c.html#a408896d5b2af213dc2a8da984c696419" title="Atomically releases LOCK and waits for COND to be signaled by some other piece of code." alt="" coords="541,5,623,32"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="545,56,619,83"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="544,107,620,133"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="711,1475,847,1501"/>
<area shape="rect" href="priority-donate-sema_8c.html#aeb0f97fa3c6d25534de6a11bf3532aa3" title=" " alt="" coords="531,157,633,184"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="730,639,827,665"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="136,1323,248,1349"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="145,1424,239,1451"/>
<area shape="rect" href="priority-donate-sema_8c.html#a4dc51b1476966c227801513da4bd6b84" title=" " alt="" coords="723,1525,834,1552"/>
<area shape="rect" href="priority-sema_8c.html#a256435362d935640e9ba8007e76794d0" title=" " alt="" coords="705,1576,852,1603"/>
<area shape="rect" href="synch_8c.html#a57b7a9021b4a9c32f00065da020e96cd" title="Thread function used by sema_self_test()." alt="" coords="715,1272,843,1299"/>
<area shape="rect" href="priority-condvar_8c.html#a0a388ce73d55720aac505642bc72ce37" title=" " alt="" coords="296,107,459,133"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="160,1475,224,1501"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,1449,88,1476"/>
<area shape="rect" href="priority-donate-multiple_8c.html#a56379b758fb21b5a67de1a87d2a74672" title=" " alt="" coords="529,664,635,691"/>
<area shape="rect" href="priority-donate-one_8c.html#adbcd765439b4d960f0db9ba4a47d421f" title=" " alt="" coords="507,715,657,741"/>
<area shape="rect" href="priority-donate-one_8c.html#aae18eed8351e7789ef848517a96284a5" title=" " alt="" coords="507,765,657,792"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="523,816,641,843"/>
<area shape="rect" href="priority-donate-lower_8c.html#ab955dabdbbfc7a7a188317e70b95ef04" title=" " alt="" coords="510,917,654,944"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="537,1373,627,1400"/>
<area shape="rect" href="priority-donate-multiple_8c.html#af257d61c4fea017f52981dbe2a40534b" title=" " alt="" coords="529,968,635,995"/>
<area shape="rect" href="mlfqs-block_8c.html#afae0754a3b814ae247351cc6ee14276c" title="Checks that recent_cpu and priorities are updated for blocked threads." alt="" coords="533,1019,631,1045"/>
<area shape="rect" href="priority-donate-chain_8c.html#af3ea65daade3a57b9afbfaf87d187dfd" title=" " alt="" coords="515,1069,649,1096"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="559,1171,605,1197"/>
<area shape="rect" href="priority-donate-sema_8c.html#a85675782bf8084df44707dfcfd2d7ae8" title=" " alt="" coords="529,259,635,285"/>
<area shape="rect" href="priority-donate-nest_8c.html#acc1e53225c07946f00921d331e5736c5" title=" " alt="" coords="519,309,645,336"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="544,360,620,387"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="544,411,620,437"/>
<area shape="rect" href="malloc_8c.html#a9c36d0fe3ec4675cbffdc9b52f5fb399" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="347,867,407,893"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="509,461,655,488"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="514,867,650,893"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="513,512,651,539"/>
<area shape="rect" href="alarm-wait_8c.html#a208a74d5680b1bc8dab4e3978fc23d98" title="Sleeper thread." alt="" coords="549,613,615,640"/>
<area shape="rect" href="alarm-wait_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="336,588,419,615"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="348,715,407,741"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="344,765,411,792"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="354,816,401,843"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="348,664,407,691"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="325,1373,429,1400"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="139,892,245,919"/>
<area shape="rect" href="bitmap_8c.html#adacf8862f49d7e7ceb1ba2368dd76698" title="Destroys bitmap B, freeing its storage." alt="" coords="321,968,434,995"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="339,1019,415,1045"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="341,1069,414,1096"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="339,1171,416,1197"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="141,1171,243,1197"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="339,1120,415,1147"/>
</map>
</div>

</div>
</div>
<a id="a8f7759a71c1c49fc8761ef92aa90a36d" name="a8f7759a71c1c49fc8761ef92aa90a36d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7759a71c1c49fc8761ef92aa90a36d">&#9670;&nbsp;</a></span>thread_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="thread_8h.html#a7a78d8e6bd74b48dbd812f553678d9a5">tid_t</a> thread_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a> *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passing AUX as the argument, and adds it to the ready queue. </p>
<p >Returns the thread identifier for the new thread, or TID_ERROR if creation fails.</p>
<p >If <a class="el" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts.">thread_start()</a> has been called, then the new thread may be scheduled before <a class="el" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi...">thread_create()</a> returns. It could even exit before <a class="el" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi...">thread_create()</a> returns. Contrariwise, the original thread may run for any amount of time before the new thread is scheduled. Use a semaphore or some other form of synchronization if you need to ensure ordering.</p>
<p >The code provided sets the new thread's &lsquo;priority&rsquo; member to PRIORITY, but no actual priority scheduling is implemented. Priority scheduling is the goal of Problem 1-3. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00166">166</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8c_source.html#l00475">alloc_frame()</a>, <a class="el" href="thread_8c_source.html#l00570">allocate_tid()</a>, <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="thread_8c_source.html#l00045">kernel_thread_frame::aux</a>, <a class="el" href="switch_8h_source.html#l00010">switch_threads_frame::ebp</a>, <a class="el" href="switch_8h_source.html#l00012">switch_threads_frame::eip</a>, <a class="el" href="switch_8h_source.html#l00025">switch_entry_frame::eip</a>, <a class="el" href="thread_8c_source.html#l00043">kernel_thread_frame::eip</a>, <a class="el" href="thread_8c_source.html#l00044">kernel_thread_frame::function</a>, <a class="el" href="thread_8c_source.html#l00452">init_thread()</a>, <a class="el" href="thread_8c_source.html#l00419">kernel_thread()</a>, <a class="el" href="insult_8c_source.html#l00047">name</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="palloc_8h_source.html#l00010">PAL_ZERO</a>, <a class="el" href="palloc_8c_source.html#l00111">palloc_get_page()</a>, <a class="el" href="switch_8h.html#a77fa63aafbf21cce19006cb6bfcd3fa6">switch_entry()</a>, <a class="el" href="thread_8c_source.html#l00232">thread_unblock()</a>, <a class="el" href="thread_8h_source.html#l00086">thread::tid</a>, and <a class="el" href="thread_8h_source.html#l00020">TID_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="process_8c_source.html#l00029">process_execute()</a>, <a class="el" href="synch_8c_source.html#l00129">sema_self_test()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00066">test_mlfqs_fair()</a>, <a class="el" href="alarm-simultaneous_8c_source.html#l00033">test_sleep()</a>, and <a class="el" href="thread_8c_source.html#l00106">thread_start()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a8f7759a71c1c49fc8761ef92aa90a36d_cgraph.png" border="0" usemap="#athread_8c_a8f7759a71c1c49fc8761ef92aa90a36d_cgraph" alt=""/></div>
<map name="athread_8c_a8f7759a71c1c49fc8761ef92aa90a36d_cgraph" id="athread_8c_a8f7759a71c1c49fc8761ef92aa90a36d_cgraph">
<area shape="rect" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="5,777,109,804"/>
<area shape="rect" href="thread_8c.html#a19de4720e289bc3e7202be2b1a059549" title="Allocates a SIZE&#45;byte frame at the top of thread T&#39;s stack and returns a pointer to the frame&#39;s base." alt="" coords="348,553,439,580"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="349,604,438,631"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="907,803,1020,829"/>
<area shape="rect" href="thread_8c.html#a34a9d4a5ab1bf577041f4c3f1b8f6c89" title="Does basic initialization of T as a blocked thread named NAME." alt="" coords="921,1056,1005,1083"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="533,655,637,681"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="157,828,277,855"/>
<area shape="rect" href="switch_8h.html#a77fa63aafbf21cce19006cb6bfcd3fa6" title=" " alt="" coords="169,955,265,981"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1270,245,1347,272"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="537,495,634,521"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="537,604,634,631"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1440,296,1531,323"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="709,433,859,474"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1073,195,1183,221"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="737,549,831,576"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1429,397,1541,424"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1589,397,1707,424"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1263,853,1354,880"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1078,803,1178,829"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1073,1056,1183,1083"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="914,448,1013,475"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1435,651,1536,677"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1265,752,1353,779"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1891,1081,1959,1108"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1269,1005,1348,1032"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1756,867,1836,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1457,993,1513,1020"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1090,499,1166,525"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1285,499,1332,525"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="1240,803,1377,829"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="1253,549,1364,576"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1236,448,1381,475"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1755,1019,1837,1045"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1434,867,1537,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1885,1019,1964,1045"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1612,993,1684,1020"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1603,841,1693,868"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="745,853,823,880"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1093,1157,1163,1184"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="1098,1107,1158,1133"/>
<area shape="rect" href="string_8c.html#a75301dc67774ade574b3b3205ee4f39e" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="1273,1107,1345,1133"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="1281,1157,1336,1184"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="740,499,828,525"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="915,347,1012,373"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1068,245,1188,272"/>
<area shape="rect" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="1069,296,1187,323"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="325,828,461,855"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="509,1259,661,1285"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="735,1309,833,1336"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="714,1259,854,1285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a8f7759a71c1c49fc8761ef92aa90a36d_icgraph.png" border="0" usemap="#athread_8c_a8f7759a71c1c49fc8761ef92aa90a36d_icgraph" alt=""/></div>
<map name="athread_8c_a8f7759a71c1c49fc8761ef92aa90a36d_icgraph" id="athread_8c_a8f7759a71c1c49fc8761ef92aa90a36d_icgraph">
<area shape="rect" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="587,107,691,133"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="416,5,539,32"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="421,56,533,83"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="423,107,532,133"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="436,157,519,184"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="275,132,368,159"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="285,16,358,43"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,25,227,52"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,69,88,96"/>
</map>
</div>

</div>
</div>
<a id="a0032becedd11c8a8e10a0a6955c90d66" name="a0032becedd11c8a8e10a0a6955c90d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0032becedd11c8a8e10a0a6955c90d66">&#9670;&nbsp;</a></span>thread_current()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthread.html">thread</a> * thread_current </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the running thread. </p>
<p >This is <a class="el" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread.">running_thread()</a> plus a couple of sanity checks. See the big comment at the top of <a class="el" href="thread_8h.html">thread.h</a> for details. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00256">256</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="thread_8c_source.html#l00068">is_thread()</a>, <a class="el" href="thread_8c_source.html#l00430">running_thread()</a>, <a class="el" href="thread_8h_source.html#l00087">thread::status</a>, and <a class="el" href="thread_8h_source.html#l00011">THREAD_RUNNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00389">idle()</a>, <a class="el" href="process_8c_source.html#l00457">install_page()</a>, <a class="el" href="process_8c_source.html#l00209">load()</a>, <a class="el" href="synch_8c_source.html#l00193">lock_acquire()</a>, <a class="el" href="synch_8c_source.html#l00242">lock_held_by_current_thread()</a>, <a class="el" href="synch_8c_source.html#l00210">lock_try_acquire()</a>, <a class="el" href="kernel_2debug_8c_source.html#l00056">print_stacktrace()</a>, <a class="el" href="process_8c_source.html#l00123">process_activate()</a>, <a class="el" href="process_8c_source.html#l00096">process_exit()</a>, <a class="el" href="synch_8c_source.html#l00061">sema_down()</a>, <a class="el" href="thread_8c_source.html#l00214">thread_block()</a>, <a class="el" href="thread_8c_source.html#l00281">thread_exit()</a>, <a class="el" href="thread_8c_source.html#l00343">thread_get_priority()</a>, <a class="el" href="thread_8c_source.html#l00247">thread_name()</a>, <a class="el" href="thread_8c_source.html#l00336">thread_set_priority()</a>, <a class="el" href="thread_8c_source.html#l00123">thread_tick()</a>, <a class="el" href="thread_8c_source.html#l00273">thread_tid()</a>, <a class="el" href="thread_8c_source.html#l00302">thread_yield()</a>, <a class="el" href="tss_8c_source.html#l00102">tss_update()</a>, and <a class="el" href="intq_8c_source.html#l00087">wait()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a0032becedd11c8a8e10a0a6955c90d66_cgraph.png" border="0" usemap="#athread_8c_a0032becedd11c8a8e10a0a6955c90d66_cgraph" alt=""/></div>
<map name="athread_8c_a0032becedd11c8a8e10a0a6955c90d66_cgraph" id="athread_8c_a0032becedd11c8a8e10a0a6955c90d66_cgraph">
<area shape="rect" title="Returns the running thread." alt="" coords="5,31,115,57"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="180,5,257,32"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="163,56,275,83"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="323,56,440,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a0032becedd11c8a8e10a0a6955c90d66_icgraph.png" border="0" usemap="#athread_8c_a0032becedd11c8a8e10a0a6955c90d66_icgraph" alt=""/></div>
<map name="athread_8c_a0032becedd11c8a8e10a0a6955c90d66_icgraph" id="athread_8c_a0032becedd11c8a8e10a0a6955c90d66_icgraph">
<area shape="rect" title="Returns the running thread." alt="" coords="973,1132,1083,1159"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="649,809,692,836"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="813,1208,906,1235"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="458,1259,505,1285"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="433,664,530,691"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="596,515,745,557"/>
<area shape="rect" href="synch_8c.html#a343f11e4ce80e077a18e565b6d9ac180" title="Tries to acquires LOCK and returns true if successful or false on failure." alt="" coords="422,563,541,589"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="801,1461,917,1488"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="609,1309,732,1336"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="811,1411,908,1437"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="627,1360,715,1387"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="624,929,717,956"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="810,853,909,880"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="648,867,693,893"/>
<area shape="rect" href="thread_8c.html#a7425a4395bacbf7d3e50ba10ff42f5b6" title="Returns the current thread&#39;s priority." alt="" coords="415,1132,548,1159"/>
<area shape="rect" href="thread_8c.html#a85a867dd25d3133aa461b3decb225db6" title="Returns the name of the running thread." alt="" coords="431,1081,531,1108"/>
<area shape="rect" href="thread_8c.html#a9956c9159ed8901839fa5581c41fcf4f" title="Sets the current thread&#39;s priority to NEW_PRIORITY." alt="" coords="793,1512,925,1539"/>
<area shape="rect" href="thread_8c.html#a99b55ae8059d7834cc113334a3fd0c3c" title="Called by the timer interrupt handler at each timer tick." alt="" coords="816,1563,903,1589"/>
<area shape="rect" href="thread_8c.html#ac4557309ef822a88c742c075ecb16a11" title="Returns the running thread&#39;s tid." alt="" coords="819,1613,900,1640"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="434,1183,529,1209"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="816,1309,903,1336"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="618,1208,723,1235"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="624,1259,717,1285"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="240,1323,343,1349"/>
<area shape="rect" href="priority-donate-multiple_8c.html#a56379b758fb21b5a67de1a87d2a74672" title=" " alt="" coords="238,715,345,741"/>
<area shape="rect" href="priority-donate-one_8c.html#adbcd765439b4d960f0db9ba4a47d421f" title=" " alt="" coords="216,765,367,792"/>
<area shape="rect" href="priority-donate-one_8c.html#aae18eed8351e7789ef848517a96284a5" title=" " alt="" coords="216,816,367,843"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="232,5,351,32"/>
<area shape="rect" href="priority-donate-lower_8c.html#ab955dabdbbfc7a7a188317e70b95ef04" title=" " alt="" coords="219,867,363,893"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="247,917,336,944"/>
<area shape="rect" href="priority-donate-multiple_8c.html#af257d61c4fea017f52981dbe2a40534b" title=" " alt="" coords="238,107,345,133"/>
<area shape="rect" href="mlfqs-block_8c.html#afae0754a3b814ae247351cc6ee14276c" title="Checks that recent_cpu and priorities are updated for blocked threads." alt="" coords="242,157,341,184"/>
<area shape="rect" href="synch_8c.html#a408896d5b2af213dc2a8da984c696419" title="Atomically releases LOCK and waits for COND to be signaled by some other piece of code." alt="" coords="250,56,333,83"/>
<area shape="rect" href="priority-condvar_8c.html#a0a388ce73d55720aac505642bc72ce37" title=" " alt="" coords="5,664,168,691"/>
<area shape="rect" href="priority-donate-chain_8c.html#af3ea65daade3a57b9afbfaf87d187dfd" title=" " alt="" coords="225,1120,358,1147"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="269,208,314,235"/>
<area shape="rect" href="priority-donate-sema_8c.html#a85675782bf8084df44707dfcfd2d7ae8" title=" " alt="" coords="238,259,345,285"/>
<area shape="rect" href="priority-donate-nest_8c.html#acc1e53225c07946f00921d331e5736c5" title=" " alt="" coords="229,309,354,336"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="255,1019,328,1045"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="253,1069,329,1096"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="253,360,329,387"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="253,411,329,437"/>
<area shape="rect" href="priority-donate-sema_8c.html#aeb0f97fa3c6d25534de6a11bf3532aa3" title=" " alt="" coords="240,968,343,995"/>
<area shape="rect" href="malloc_8c.html#a9c36d0fe3ec4675cbffdc9b52f5fb399" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="57,500,117,527"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="218,1272,365,1299"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="223,461,359,488"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="222,1171,361,1197"/>
<area shape="rect" href="alarm-wait_8c.html#a208a74d5680b1bc8dab4e3978fc23d98" title="Sleeper thread." alt="" coords="259,613,324,640"/>
<area shape="rect" href="alarm-wait_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="45,576,128,603"/>
<area shape="rect" href="synch_8c.html#a4534660eba2b75a5e5e34590d743f685" title="If any threads are waiting on COND (protected by LOCK), then this function signals one of them to wak..." alt="" coords="435,512,528,539"/>
</map>
</div>

</div>
</div>
<a id="a87c2438941819bb3cc31658aa9eb66fe" name="a87c2438941819bb3cc31658aa9eb66fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c2438941819bb3cc31658aa9eb66fe">&#9670;&nbsp;</a></span>thread_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deschedules the current thread and destroys it. </p>
<p >Never returns to the caller. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00281">281</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8h_source.html#l00091">thread::allelem</a>, <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00212">intr_context()</a>, <a class="el" href="interrupt_8c_source.html#l00104">intr_disable()</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00249">list_remove()</a>, <a class="el" href="debug_8h_source.html#l00035">NOT_REACHED</a>, <a class="el" href="process_8c_source.html#l00096">process_exit()</a>, <a class="el" href="thread_8c_source.html#l00553">schedule()</a>, <a class="el" href="thread_8h_source.html#l00087">thread::status</a>, <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>, and <a class="el" href="thread_8h_source.html#l00014">THREAD_DYING</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00419">kernel_thread()</a>, <a class="el" href="exception_8c_source.html#l00072">kill()</a>, <a class="el" href="init_8c_source.html#l00073">pintos_init()</a>, <a class="el" href="process_8c_source.html#l00051">start_process()</a>, and <a class="el" href="userprog_2syscall_8c_source.html#l00016">syscall_handler()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a87c2438941819bb3cc31658aa9eb66fe_cgraph.png" border="0" usemap="#athread_8c_a87c2438941819bb3cc31658aa9eb66fe_cgraph" alt=""/></div>
<map name="athread_8c_a87c2438941819bb3cc31658aa9eb66fe_cgraph" id="athread_8c_a87c2438941819bb3cc31658aa9eb66fe_cgraph">
<area shape="rect" title="Deschedules the current thread and destroys it." alt="" coords="5,290,93,316"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="145,138,235,164"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="145,188,235,215"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="677,746,767,772"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="141,442,239,468"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="855,239,965,266"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="152,239,228,266"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="491,36,593,63"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="870,847,950,874"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="662,391,782,418"/>
<area shape="rect" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="301,644,418,671"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="887,391,933,418"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1029,391,1145,418"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="480,543,604,570"/>
<area shape="rect" href="pte_8h.html#ab6096b535a162bafc551af35b9ec411b" title="Obtains page directory index from a virtual address." alt="" coords="513,644,571,671"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="497,796,587,823"/>
<area shape="rect" href="pte_8h.html#a74bfe6c82c7b9fe6c3d8a95bf720615c" title="Returns a pointer to the page that page table entry PTE points to." alt="" coords="490,695,594,722"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="652,644,792,671"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="869,543,951,570"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="840,594,980,620"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="875,644,945,671"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="851,695,969,722"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1058,746,1117,772"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="879,796,941,823"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1028,543,1147,570"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1208,543,1299,570"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1360,568,1436,595"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1360,619,1436,646"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1044,594,1131,620"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1204,594,1303,620"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1204,644,1303,671"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1041,695,1134,722"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="699,796,745,823"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1049,138,1126,164"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1031,239,1143,266"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1195,239,1312,266"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="336,138,383,164"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="291,442,428,468"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="304,188,415,215"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="287,239,432,266"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="869,492,951,519"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="491,594,593,620"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1048,492,1127,519"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1053,442,1121,468"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="686,568,758,595"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="481,239,603,266"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="679,188,765,215"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a87c2438941819bb3cc31658aa9eb66fe_icgraph.png" border="0" usemap="#athread_8c_a87c2438941819bb3cc31658aa9eb66fe_icgraph" alt=""/></div>
<map name="athread_8c_a87c2438941819bb3cc31658aa9eb66fe_icgraph" id="athread_8c_a87c2438941819bb3cc31658aa9eb66fe_icgraph">
<area shape="rect" title="Deschedules the current thread and destroys it." alt="" coords="900,144,988,171"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="743,144,847,171"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,68,88,95"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="776,220,815,247"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="587,55,690,82"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="739,271,852,298"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="587,144,691,171"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="416,43,539,70"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="421,144,533,171"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="423,195,532,222"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="436,246,519,272"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="275,94,368,120"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="285,43,358,70"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,43,227,70"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="425,296,529,323"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="597,290,681,316"/>
</map>
</div>

</div>
</div>
<a id="af8e1023bfbf318808dcb220a6596eea5" name="af8e1023bfbf318808dcb220a6596eea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8e1023bfbf318808dcb220a6596eea5">&#9670;&nbsp;</a></span>thread_foreach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_foreach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="thread_8h.html#a43748f2a97a0a0ebbbfe04add10a3bd3">thread_action_func</a> *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoke function 'func' on all threads, passing along 'aux'. </p>
<p >This function must be called with interrupts off. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00320">320</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8c_source.html#l00029">all_list</a>, <a class="el" href="thread_8h_source.html#l00091">thread::allelem</a>, <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00065">intr_get_level()</a>, <a class="el" href="interrupt_8h_source.html#l00010">INTR_OFF</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00072">list_begin()</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00094">list_end()</a>, <a class="el" href="list_8h_source.html#l00108">list_entry</a>, and <a class="el" href="lib_2kernel_2list_8c_source.html#l00082">list_next()</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2debug_8c_source.html#l00117">debug_backtrace_all()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_af8e1023bfbf318808dcb220a6596eea5_cgraph.png" border="0" usemap="#athread_8c_af8e1023bfbf318808dcb220a6596eea5_cgraph" alt=""/></div>
<map name="athread_8c_af8e1023bfbf318808dcb220a6596eea5_cgraph" id="athread_8c_af8e1023bfbf318808dcb220a6596eea5_cgraph">
<area shape="rect" title="Invoke function &#39;func&#39; on all threads, passing along &#39;aux&#39;." alt="" coords="5,81,117,108"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="165,5,267,32"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="177,56,255,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="182,107,250,133"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#abd2f8e3cf912b8f9ba5e592d32f11ff3" title="Returns the element after ELEM in its list." alt="" coords="181,157,251,184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#aee78fb1351519ad20686f6eaf9018b4c" title="Returns true if ELEM is a head, false otherwise." alt="" coords="320,132,389,159"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="315,183,395,209"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_af8e1023bfbf318808dcb220a6596eea5_icgraph.png" border="0" usemap="#athread_8c_af8e1023bfbf318808dcb220a6596eea5_icgraph" alt=""/></div>
<map name="athread_8c_af8e1023bfbf318808dcb220a6596eea5_icgraph" id="athread_8c_af8e1023bfbf318808dcb220a6596eea5_icgraph">
<area shape="rect" title="Invoke function &#39;func&#39; on all threads, passing along &#39;aux&#39;." alt="" coords="199,5,311,32"/>
<area shape="rect" href="kernel_2debug_8c.html#a3236587de5c28bedd8e07c003f58374e" title="Prints call stack of all threads." alt="" coords="5,5,151,32"/>
</map>
</div>

</div>
</div>
<a id="af2f1c7f0796b3d91e5734dac094a4d0c" name="af2f1c7f0796b3d91e5734dac094a4d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f1c7f0796b3d91e5734dac094a4d0c">&#9670;&nbsp;</a></span>thread_get_load_avg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int thread_get_load_avg </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns 100 times the system load average. </p>
<p ><a class="el" href="thread_8h.html">threads/thread.h</a> </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00365">365</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

</div>
</div>
<a id="a259e6ba0590380f004167b5570c8dbd3" name="a259e6ba0590380f004167b5570c8dbd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a259e6ba0590380f004167b5570c8dbd3">&#9670;&nbsp;</a></span>thread_get_nice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int thread_get_nice </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current thread's nice value. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00357">357</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

</div>
</div>
<a id="a7425a4395bacbf7d3e50ba10ff42f5b6" name="a7425a4395bacbf7d3e50ba10ff42f5b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7425a4395bacbf7d3e50ba10ff42f5b6">&#9670;&nbsp;</a></span>thread_get_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int thread_get_priority </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current thread's priority. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00343">343</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8h_source.html#l00090">thread::priority</a>, and <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>.</p>

<p class="reference">Referenced by <a class="el" href="priority-donate-chain_8c_source.html#l00086">donor_thread_func()</a>, and <a class="el" href="priority-donate-nest_8c_source.html#l00064">medium_thread_func()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a7425a4395bacbf7d3e50ba10ff42f5b6_cgraph.png" border="0" usemap="#athread_8c_a7425a4395bacbf7d3e50ba10ff42f5b6_cgraph" alt=""/></div>
<map name="athread_8c_a7425a4395bacbf7d3e50ba10ff42f5b6_cgraph" id="athread_8c_a7425a4395bacbf7d3e50ba10ff42f5b6_cgraph">
<area shape="rect" title="Returns the current thread&#39;s priority." alt="" coords="5,31,139,57"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="187,31,296,57"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="361,5,439,32"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="344,56,456,83"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="504,56,621,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a7425a4395bacbf7d3e50ba10ff42f5b6_icgraph.png" border="0" usemap="#athread_8c_a7425a4395bacbf7d3e50ba10ff42f5b6_icgraph" alt=""/></div>
<map name="athread_8c_a7425a4395bacbf7d3e50ba10ff42f5b6_icgraph" id="athread_8c_a7425a4395bacbf7d3e50ba10ff42f5b6_icgraph">
<area shape="rect" title="Returns the current thread&#39;s priority." alt="" coords="200,31,333,57"/>
<area shape="rect" href="priority-donate-chain_8c.html#af3ea65daade3a57b9afbfaf87d187dfd" title=" " alt="" coords="12,5,145,32"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="5,56,152,83"/>
</map>
</div>

</div>
</div>
<a id="a92a544b3630afc87e7bb176ddcb68dac" name="a92a544b3630afc87e7bb176ddcb68dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92a544b3630afc87e7bb176ddcb68dac">&#9670;&nbsp;</a></span>thread_get_recent_cpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int thread_get_recent_cpu </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns 100 times the current thread's recent_cpu value. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00373">373</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

</div>
</div>
<a id="a85a867dd25d3133aa461b3decb225db6" name="a85a867dd25d3133aa461b3decb225db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85a867dd25d3133aa461b3decb225db6">&#9670;&nbsp;</a></span>thread_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * thread_name </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the running thread. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00247">247</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8h_source.html#l00088">thread::name</a>, and <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>.</p>

<p class="reference">Referenced by <a class="el" href="alarm-priority_8c_source.html#l00042">alarm_priority_thread()</a>, <a class="el" href="priority-donate-chain_8c_source.html#l00086">donor_thread_func()</a>, <a class="el" href="priority-donate-chain_8c_source.html#l00109">interloper_thread_func()</a>, <a class="el" href="exception_8c_source.html#l00072">kill()</a>, <a class="el" href="priority-condvar_8c_source.html#l00046">priority_condvar_thread()</a>, <a class="el" href="priority-sema_8c_source.html#l00041">priority_sema_thread()</a>, and <a class="el" href="priority-preempt_8c_source.html#l00031">simple_thread_func()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a85a867dd25d3133aa461b3decb225db6_cgraph.png" border="0" usemap="#athread_8c_a85a867dd25d3133aa461b3decb225db6_cgraph" alt=""/></div>
<map name="athread_8c_a85a867dd25d3133aa461b3decb225db6_cgraph" id="athread_8c_a85a867dd25d3133aa461b3decb225db6_cgraph">
<area shape="rect" title="Returns the name of the running thread." alt="" coords="5,31,105,57"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="153,31,263,57"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="328,5,405,32"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="311,56,423,83"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="471,56,588,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a85a867dd25d3133aa461b3decb225db6_icgraph.png" border="0" usemap="#athread_8c_a85a867dd25d3133aa461b3decb225db6_icgraph" alt=""/></div>
<map name="athread_8c_a85a867dd25d3133aa461b3decb225db6_icgraph" id="athread_8c_a85a867dd25d3133aa461b3decb225db6_icgraph">
<area shape="rect" title="Returns the name of the running thread." alt="" coords="631,157,731,184"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="427,5,575,32"/>
<area shape="rect" href="priority-donate-chain_8c.html#af3ea65daade3a57b9afbfaf87d187dfd" title=" " alt="" coords="435,56,568,83"/>
<area shape="rect" href="priority-donate-chain_8c.html#afb7cb99917afbc421fc294d9d10acc28" title=" " alt="" coords="423,107,579,133"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="482,157,521,184"/>
<area shape="rect" href="priority-condvar_8c.html#a0a388ce73d55720aac505642bc72ce37" title=" " alt="" coords="420,208,583,235"/>
<area shape="rect" href="priority-sema_8c.html#a256435362d935640e9ba8007e76794d0" title=" " alt="" coords="428,259,575,285"/>
<area shape="rect" href="priority-preempt_8c.html#a4d6318b8966df2b464a457e4b74b1447" title=" " alt="" coords="432,309,571,336"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="136,157,240,184"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="288,183,372,209"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,157,88,184"/>
</map>
</div>

</div>
</div>
<a id="af5c30c6492da5ef4a6a787c7da893370" name="af5c30c6492da5ef4a6a787c7da893370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5c30c6492da5ef4a6a787c7da893370">&#9670;&nbsp;</a></span>thread_print_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_print_stats </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints thread statistics. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00144">144</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8c_source.html#l00049">idle_ticks</a>, <a class="el" href="thread_8c_source.html#l00050">kernel_ticks</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, and <a class="el" href="thread_8c_source.html#l00051">user_ticks</a>.</p>

<p class="reference">Referenced by <a class="el" href="shutdown_8c_source.html#l00129">print_stats()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_af5c30c6492da5ef4a6a787c7da893370_cgraph.png" border="0" usemap="#athread_8c_af5c30c6492da5ef4a6a787c7da893370_cgraph" alt=""/></div>
<map name="athread_8c_af5c30c6492da5ef4a6a787c7da893370_cgraph" id="athread_8c_af5c30c6492da5ef4a6a787c7da893370_cgraph">
<area shape="rect" title="Prints thread statistics." alt="" coords="5,284,135,311"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="183,284,235,311"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="283,284,341,311"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="404,157,477,184"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1025,309,1144,336"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="859,259,977,285"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="389,783,492,809"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="573,208,640,235"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="553,5,661,32"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="557,56,657,83"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="543,107,670,133"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="575,157,638,184"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="721,31,811,57"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="738,107,794,133"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1948,395,2039,421"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1235,563,1333,589"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1424,395,1573,437"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1780,597,1889,624"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1452,699,1545,725"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1955,699,2032,725"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1937,623,2049,649"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1789,1053,1880,1080"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1627,1003,1727,1029"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1621,800,1732,827"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1627,699,1726,725"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1943,1180,2044,1207"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1791,1003,1879,1029"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1801,800,1869,827"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1795,851,1874,877"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1797,699,1873,725"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1036,512,1133,539"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1245,888,1323,915"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1457,775,1540,801"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1447,863,1550,889"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1442,913,1555,940"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="540,995,673,1021"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1192,294,1376,335"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="723,1205,809,1232"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1461,1496,1537,1523"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="885,1205,951,1232"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="1051,1357,1119,1384"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="880,512,956,539"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="880,981,956,1008"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="1047,1307,1123,1333"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="1248,1408,1320,1435"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1657,1560,1696,1587"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1785,1535,1884,1561"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1657,1611,1696,1637"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1643,1661,1710,1688"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1623,1459,1730,1485"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_af5c30c6492da5ef4a6a787c7da893370_icgraph.png" border="0" usemap="#athread_8c_af5c30c6492da5ef4a6a787c7da893370_icgraph" alt=""/></div>
<map name="athread_8c_af5c30c6492da5ef4a6a787c7da893370_icgraph" id="athread_8c_af5c30c6492da5ef4a6a787c7da893370_icgraph">
<area shape="rect" title="Prints thread statistics." alt="" coords="741,81,871,108"/>
<area shape="rect" href="shutdown_8c.html#ab00adda36155b238b8c39dcd96f13cd9" title="Print statistics about Pintos execution." alt="" coords="609,81,693,108"/>
<area shape="rect" href="shutdown_8c.html#a4cc4519942eb3292f9ee3702330ebd07" title="Powers down the machine we&#39;re running on, as long as we&#39;re running on Bochs or QEMU." alt="" coords="416,81,561,108"/>
<area shape="rect" href="shutdown_8c.html#a1c9d5e29ad8899afe0c34571ddee18f9" title="Shuts down the machine in the way configured by shutdown_configure()." alt="" coords="289,56,368,83"/>
<area shape="rect" href="init_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title="Prints a kernel command line help message and powers off the machine." alt="" coords="299,107,358,133"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="139,5,238,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,81,88,108"/>
<area shape="rect" href="init_8c.html#a598c2f3a0a33552aa203aa847dc265b6" title="Parses options in ARGV[] and returns the first non&#45;option argument." alt="" coords="136,107,241,133"/>
</map>
</div>

</div>
</div>
<a id="acbbd25908c41e62d44a179cfbc3962e2" name="acbbd25908c41e62d44a179cfbc3962e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbbd25908c41e62d44a179cfbc3962e2">&#9670;&nbsp;</a></span>thread_schedule_tail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_schedule_tail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>prev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Completes a thread switch by activating the new thread's page tables, and, if the previous thread is dying, destroying it. </p>
<p >At this function's invocation, we just switched from thread PREV, the new thread is already running, and interrupts are still disabled. This function is normally invoked by thread_schedule() as its final action before returning, but the first time a thread is scheduled it is called by <a class="el" href="switch_8h.html#a77fa63aafbf21cce19006cb6bfcd3fa6">switch_entry()</a> (see switch.S).</p>
<p >It's not safe to call <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> until the thread switch is complete. In practice that means that <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a>s should be added at the end of the function.</p>
<p >After this function and its caller returns, the thread switch is complete. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00516">516</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="thread_8c_source.html#l00035">initial_thread</a>, <a class="el" href="interrupt_8c_source.html#l00065">intr_get_level()</a>, <a class="el" href="interrupt_8h_source.html#l00010">INTR_OFF</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="palloc_8c_source.html#l00146">palloc_free_page()</a>, <a class="el" href="process_8c_source.html#l00123">process_activate()</a>, <a class="el" href="thread_8c_source.html#l00430">running_thread()</a>, <a class="el" href="thread_8h_source.html#l00087">thread::status</a>, <a class="el" href="thread_8h_source.html#l00014">THREAD_DYING</a>, <a class="el" href="thread_8h_source.html#l00011">THREAD_RUNNING</a>, and <a class="el" href="thread_8c_source.html#l00055">thread_ticks</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00553">schedule()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_acbbd25908c41e62d44a179cfbc3962e2_cgraph.png" border="0" usemap="#athread_8c_acbbd25908c41e62d44a179cfbc3962e2_cgraph" alt=""/></div>
<map name="athread_8c_acbbd25908c41e62d44a179cfbc3962e2_cgraph" id="athread_8c_acbbd25908c41e62d44a179cfbc3962e2_cgraph">
<area shape="rect" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="5,309,151,336"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="210,233,311,260"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="199,284,323,311"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="199,335,322,361"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="750,436,862,463"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="371,157,511,184"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="587,208,670,235"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="559,157,699,184"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="594,259,663,285"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="569,5,688,32"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="777,56,835,83"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="597,107,660,133"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="747,208,865,235"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="927,208,1017,235"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1079,132,1155,159"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1079,183,1155,209"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="763,157,849,184"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="923,107,1021,133"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="923,157,1021,184"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="759,5,853,32"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="381,284,501,311"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="574,385,683,412"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="397,385,484,412"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="605,309,652,336"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="748,309,864,336"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="767,385,845,412"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="913,436,1031,463"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_acbbd25908c41e62d44a179cfbc3962e2_icgraph.png" border="0" usemap="#athread_8c_acbbd25908c41e62d44a179cfbc3962e2_icgraph" alt=""/></div>
<map name="athread_8c_acbbd25908c41e62d44a179cfbc3962e2_icgraph" id="athread_8c_acbbd25908c41e62d44a179cfbc3962e2_icgraph">
<area shape="rect" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1323,1094,1468,1121"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1199,1094,1275,1121"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1052,677,1151,704"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="745,1373,833,1400"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="742,1094,837,1121"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="936,702,979,729"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="911,398,1004,425"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="935,652,980,678"/>
<area shape="rect" href="synch_8c.html#a408896d5b2af213dc2a8da984c696419" title="Atomically releases LOCK and waits for COND to be signaled by some other piece of code." alt="" coords="551,233,634,260"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="556,841,629,868"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="555,892,631,918"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="721,30,857,57"/>
<area shape="rect" href="priority-donate-sema_8c.html#aeb0f97fa3c6d25534de6a11bf3532aa3" title=" " alt="" coords="541,182,644,209"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="741,562,838,589"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="141,1006,253,1033"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="151,956,244,982"/>
<area shape="rect" href="priority-donate-sema_8c.html#a4dc51b1476966c227801513da4bd6b84" title=" " alt="" coords="734,373,845,400"/>
<area shape="rect" href="priority-sema_8c.html#a256435362d935640e9ba8007e76794d0" title=" " alt="" coords="716,424,863,450"/>
<area shape="rect" href="synch_8c.html#a57b7a9021b4a9c32f00065da020e96cd" title="Thread function used by sema_self_test()." alt="" coords="725,980,853,1006"/>
<area shape="rect" href="priority-condvar_8c.html#a0a388ce73d55720aac505642bc72ce37" title=" " alt="" coords="307,334,469,361"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="165,468,229,494"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,1221,88,1248"/>
<area shape="rect" href="priority-donate-multiple_8c.html#a56379b758fb21b5a67de1a87d2a74672" title=" " alt="" coords="539,689,646,716"/>
<area shape="rect" href="priority-donate-one_8c.html#adbcd765439b4d960f0db9ba4a47d421f" title=" " alt="" coords="517,284,668,310"/>
<area shape="rect" href="priority-donate-one_8c.html#aae18eed8351e7789ef848517a96284a5" title=" " alt="" coords="517,334,668,361"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="533,385,652,412"/>
<area shape="rect" href="priority-donate-lower_8c.html#ab955dabdbbfc7a7a188317e70b95ef04" title=" " alt="" coords="521,486,665,513"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="548,790,637,817"/>
<area shape="rect" href="priority-donate-multiple_8c.html#af257d61c4fea017f52981dbe2a40534b" title=" " alt="" coords="539,537,646,564"/>
<area shape="rect" href="mlfqs-block_8c.html#afae0754a3b814ae247351cc6ee14276c" title="Checks that recent_cpu and priorities are updated for blocked threads." alt="" coords="543,588,642,614"/>
<area shape="rect" href="priority-donate-chain_8c.html#af3ea65daade3a57b9afbfaf87d187dfd" title=" " alt="" coords="526,638,659,665"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="365,841,411,868"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="519,993,666,1020"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="523,942,662,969"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="336,1044,440,1070"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="136,1348,259,1374"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="143,1246,252,1273"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="156,1069,239,1096"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="541,1196,645,1222"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="573,1500,612,1526"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="337,1398,439,1425"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="536,1348,649,1374"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="145,1500,249,1526"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="346,1500,430,1526"/>
<area shape="rect" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers." alt="" coords="547,1145,639,1172"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="355,1094,421,1121"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="547,1246,638,1273"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="314,1348,462,1374"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="342,1297,434,1324"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="330,1196,446,1222"/>
</map>
</div>

</div>
</div>
<a id="ab732fcf33c6ea951e0c0d0f9d2e5d6e9" name="ab732fcf33c6ea951e0c0d0f9d2e5d6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab732fcf33c6ea951e0c0d0f9d2e5d6e9">&#9670;&nbsp;</a></span>thread_set_nice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_set_nice </td>
          <td>(</td>
          <td class="paramtype">int nice&#160;</td>
          <td class="paramname"><em>UNUSED</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the current thread's nice value to NICE. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00350">350</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="mlfqs-fair_8c_source.html#l00108">load_thread()</a>, and <a class="el" href="mlfqs-fair_8c_source.html#l00066">test_mlfqs_fair()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_ab732fcf33c6ea951e0c0d0f9d2e5d6e9_icgraph.png" border="0" usemap="#athread_8c_ab732fcf33c6ea951e0c0d0f9d2e5d6e9_icgraph" alt=""/></div>
<map name="athread_8c_ab732fcf33c6ea951e0c0d0f9d2e5d6e9_icgraph" id="athread_8c_ab732fcf33c6ea951e0c0d0f9d2e5d6e9_icgraph">
<area shape="rect" title="Sets the current thread&#39;s nice value to NICE." alt="" coords="303,31,420,57"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="163,5,255,32"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="5,31,115,57"/>
</map>
</div>

</div>
</div>
<a id="a9956c9159ed8901839fa5581c41fcf4f" name="a9956c9159ed8901839fa5581c41fcf4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9956c9159ed8901839fa5581c41fcf4f">&#9670;&nbsp;</a></span>thread_set_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_set_priority </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_priority</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the current thread's priority to NEW_PRIORITY. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00336">336</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8h_source.html#l00090">thread::priority</a>, and <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>.</p>

<p class="reference">Referenced by <a class="el" href="priority-change_8c_source.html#l00026">changing_thread()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a9956c9159ed8901839fa5581c41fcf4f_cgraph.png" border="0" usemap="#athread_8c_a9956c9159ed8901839fa5581c41fcf4f_cgraph" alt=""/></div>
<map name="athread_8c_a9956c9159ed8901839fa5581c41fcf4f_cgraph" id="athread_8c_a9956c9159ed8901839fa5581c41fcf4f_cgraph">
<area shape="rect" title="Sets the current thread&#39;s priority to NEW_PRIORITY." alt="" coords="5,31,137,57"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="185,31,295,57"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="360,5,437,32"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="343,56,455,83"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="503,56,620,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a9956c9159ed8901839fa5581c41fcf4f_icgraph.png" border="0" usemap="#athread_8c_a9956c9159ed8901839fa5581c41fcf4f_icgraph" alt=""/></div>
<map name="athread_8c_a9956c9159ed8901839fa5581c41fcf4f_icgraph" id="athread_8c_a9956c9159ed8901839fa5581c41fcf4f_icgraph">
<area shape="rect" title="Sets the current thread&#39;s priority to NEW_PRIORITY." alt="" coords="175,5,307,32"/>
<area shape="rect" href="priority-change_8c.html#a516a72750bc055a8da5aae1734afc045" title=" " alt="" coords="5,5,127,32"/>
</map>
</div>

</div>
</div>
<a id="a07e468d365e1799676192b95b2067f59" name="a07e468d365e1799676192b95b2067f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07e468d365e1799676192b95b2067f59">&#9670;&nbsp;</a></span>thread_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts preemptive thread scheduling by enabling interrupts. </p>
<p >Also creates the idle thread. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00106">106</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8c.html#a563c47d80a1f39ea3d9b6a76a28b2d5e">idle()</a>, <a class="el" href="interrupt_8c_source.html#l00088">intr_enable()</a>, <a class="el" href="thread_8h_source.html#l00023">PRI_MIN</a>, <a class="el" href="synch_8c_source.html#l00061">sema_down()</a>, <a class="el" href="synch_8c_source.html#l00045">sema_init()</a>, and <a class="el" href="thread_8c_source.html#l00166">thread_create()</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8c_source.html#l00073">pintos_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a07e468d365e1799676192b95b2067f59_cgraph.png" border="0" usemap="#athread_8c_a07e468d365e1799676192b95b2067f59_cgraph" alt=""/></div>
<map name="athread_8c_a07e468d365e1799676192b95b2067f59_cgraph" id="athread_8c_a07e468d365e1799676192b95b2067f59_cgraph">
<area shape="rect" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="5,549,99,576"/>
<area shape="rect" href="thread_8c.html#a563c47d80a1f39ea3d9b6a76a28b2d5e" title=" " alt="" coords="177,397,220,424"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1397,499,1485,525"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="879,549,972,576"/>
<area shape="rect" href="synch_8c.html#a1349a31f4880cf4eae026761f0ab3343" title="This file is derived from source code for the Nachos instructional operating system." alt="" coords="159,1411,238,1437"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="147,1183,251,1209"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1578,549,1669,576"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1573,397,1674,424"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1395,1107,1486,1133"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1215,1157,1315,1184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1209,1360,1320,1387"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1055,245,1154,272"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1733,397,1843,424"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1754,1233,1822,1260"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1401,1411,1480,1437"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1907,1360,1987,1387"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1595,1411,1651,1437"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1227,347,1303,373"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1908,777,1985,804"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1417,296,1464,323"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="1372,1056,1509,1083"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1891,93,2003,120"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="1385,347,1496,373"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1368,144,1513,171"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1582,1056,1665,1083"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1572,1157,1675,1184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1743,1157,1833,1184"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="2051,93,2168,120"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1561,245,1685,272"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1562,195,1685,221"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a8aa862d10f52f7b0348fce990c7c12db" title="Initializes LIST as an empty list." alt="" coords="327,1512,390,1539"/>
<area shape="rect" href="thread_8c.html#a19de4720e289bc3e7202be2b1a059549" title="Allocates a SIZE&#45;byte frame at the top of thread T&#39;s stack and returns a pointer to the frame&#39;s base." alt="" coords="489,1487,580,1513"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="490,1107,579,1133"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1048,1259,1161,1285"/>
<area shape="rect" href="thread_8c.html#a34a9d4a5ab1bf577041f4c3f1b8f6c89" title="Does basic initialization of T as a blocked thread named NAME." alt="" coords="1063,1411,1147,1437"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="873,499,977,525"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="299,1259,419,1285"/>
<area shape="rect" href="switch_8h.html#a77fa63aafbf21cce19006cb6bfcd3fa6" title=" " alt="" coords="311,1157,407,1184"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="678,955,775,981"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="678,1119,775,1145"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="851,998,1000,1039"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="887,1132,964,1159"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1230,1411,1299,1437"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="1235,1563,1295,1589"/>
<area shape="rect" href="string_8c.html#a75301dc67774ade574b3b3205ee4f39e" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="1405,1613,1477,1640"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="1413,1563,1468,1589"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="1061,701,1149,728"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="1216,752,1313,779"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="467,1259,603,1285"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="651,1259,803,1285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a07e468d365e1799676192b95b2067f59_icgraph.png" border="0" usemap="#athread_8c_a07e468d365e1799676192b95b2067f59_icgraph" alt=""/></div>
<map name="athread_8c_a07e468d365e1799676192b95b2067f59_icgraph" id="athread_8c_a07e468d365e1799676192b95b2067f59_icgraph">
<area shape="rect" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="136,5,229,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,88,32"/>
</map>
</div>

</div>
</div>
<a id="a99b55ae8059d7834cc113334a3fd0c3c" name="a99b55ae8059d7834cc113334a3fd0c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99b55ae8059d7834cc113334a3fd0c3c">&#9670;&nbsp;</a></span>thread_tick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_tick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by the timer interrupt handler at each timer tick. </p>
<p >Thus, this function runs in an external interrupt context. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00123">123</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8c_source.html#l00032">idle_thread</a>, <a class="el" href="thread_8c_source.html#l00049">idle_ticks</a>, <a class="el" href="interrupt_8c_source.html#l00222">intr_yield_on_return()</a>, <a class="el" href="thread_8c_source.html#l00050">kernel_ticks</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>, <a class="el" href="thread_8c_source.html#l00055">thread_ticks</a>, <a class="el" href="thread_8c_source.html#l00054">TIME_SLICE</a>, and <a class="el" href="thread_8c_source.html#l00051">user_ticks</a>.</p>

<p class="reference">Referenced by <a class="el" href="timer_8c_source.html#l00171">timer_interrupt()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a99b55ae8059d7834cc113334a3fd0c3c_cgraph.png" border="0" usemap="#athread_8c_a99b55ae8059d7834cc113334a3fd0c3c_cgraph" alt=""/></div>
<map name="athread_8c_a99b55ae8059d7834cc113334a3fd0c3c_cgraph" id="athread_8c_a99b55ae8059d7834cc113334a3fd0c3c_cgraph">
<area shape="rect" title="Called by the timer interrupt handler at each timer tick." alt="" coords="5,31,92,57"/>
<area shape="rect" href="interrupt_8c.html#a55213985fa8103301b86b15509d78243" title="During processing of an external interrupt, directs the interrupt handler to yield to a new process j..." alt="" coords="140,5,280,32"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="155,56,265,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="339,5,429,32"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="345,56,423,83"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="328,107,440,133"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="488,107,605,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a99b55ae8059d7834cc113334a3fd0c3c_icgraph.png" border="0" usemap="#athread_8c_a99b55ae8059d7834cc113334a3fd0c3c_icgraph" alt=""/></div>
<map name="athread_8c_a99b55ae8059d7834cc113334a3fd0c3c_icgraph" id="athread_8c_a99b55ae8059d7834cc113334a3fd0c3c_icgraph">
<area shape="rect" title="Called by the timer interrupt handler at each timer tick." alt="" coords="161,5,248,32"/>
<area shape="rect" href="timer_8c.html#abcfdd7470d8ed5b76f25a2eefdb90fa8" title="Timer interrupt handler." alt="" coords="5,5,113,32"/>
</map>
</div>

</div>
</div>
<a id="ac4557309ef822a88c742c075ecb16a11" name="ac4557309ef822a88c742c075ecb16a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4557309ef822a88c742c075ecb16a11">&#9670;&nbsp;</a></span>thread_tid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="thread_8h.html#a7a78d8e6bd74b48dbd812f553678d9a5">tid_t</a> thread_tid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the running thread's tid. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00273">273</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>, and <a class="el" href="thread_8h_source.html#l00086">thread::tid</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_ac4557309ef822a88c742c075ecb16a11_cgraph.png" border="0" usemap="#athread_8c_ac4557309ef822a88c742c075ecb16a11_cgraph" alt=""/></div>
<map name="athread_8c_ac4557309ef822a88c742c075ecb16a11_cgraph" id="athread_8c_ac4557309ef822a88c742c075ecb16a11_cgraph">
<area shape="rect" title="Returns the running thread&#39;s tid." alt="" coords="5,31,87,57"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="135,31,244,57"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="309,5,387,32"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="292,56,404,83"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="452,56,569,83"/>
</map>
</div>

</div>
</div>
<a id="a0cd30c260607aec4597c5b613c5e013f" name="a0cd30c260607aec4597c5b613c5e013f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cd30c260607aec4597c5b613c5e013f">&#9670;&nbsp;</a></span>thread_unblock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_unblock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transitions a blocked thread T to the ready-to-run state. </p>
<p >This is an error if T is not blocked. (Use <a class="el" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU.">thread_yield()</a> to make the running thread ready.)</p>
<p >This function does not preempt the running thread. This can be important: if the caller had disabled interrupts itself, it may expect that it can atomically unblock a thread and update other data. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00232">232</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="thread_8h_source.html#l00094">thread::elem</a>, <a class="el" href="interrupt_8c_source.html#l00104">intr_disable()</a>, <a class="el" href="interrupt_8c_source.html#l00081">intr_set_level()</a>, <a class="el" href="thread_8c_source.html#l00068">is_thread()</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00217">list_push_back()</a>, <a class="el" href="thread_8c_source.html#l00025">ready_list</a>, <a class="el" href="thread_8h_source.html#l00087">thread::status</a>, <a class="el" href="thread_8h_source.html#l00013">THREAD_BLOCKED</a>, and <a class="el" href="thread_8h_source.html#l00012">THREAD_READY</a>.</p>

<p class="reference">Referenced by <a class="el" href="synch_8c_source.html#l00109">sema_up()</a>, <a class="el" href="intq_8c_source.html#l00103">signal()</a>, and <a class="el" href="thread_8c_source.html#l00166">thread_create()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a0cd30c260607aec4597c5b613c5e013f_cgraph.png" border="0" usemap="#athread_8c_a0cd30c260607aec4597c5b613c5e013f_cgraph" alt=""/></div>
<map name="athread_8c_a0cd30c260607aec4597c5b613c5e013f_cgraph" id="athread_8c_a0cd30c260607aec4597c5b613c5e013f_cgraph">
<area shape="rect" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="5,81,119,108"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="325,5,416,32"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="172,56,272,83"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="183,107,261,133"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="167,157,277,184"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="464,5,565,32"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="327,56,415,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="469,56,560,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="337,107,405,133"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="331,157,410,184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="475,132,555,159"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="487,183,543,209"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_a0cd30c260607aec4597c5b613c5e013f_icgraph.png" border="0" usemap="#athread_8c_a0cd30c260607aec4597c5b613c5e013f_icgraph" alt=""/></div>
<map name="athread_8c_a0cd30c260607aec4597c5b613c5e013f_icgraph" id="athread_8c_a0cd30c260607aec4597c5b613c5e013f_icgraph">
<area shape="rect" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1037,1405,1151,1432"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="912,620,989,646"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="336,1405,440,1432"/>
<area shape="rect" href="intq_8c.html#a9345e011df7272c05780a74adad48225" title="WAITER must be the address of Q&#39;s not_empty or not_full member, and the associated condition must be ..." alt="" coords="922,1456,979,1482"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="716,468,864,494"/>
<area shape="rect" href="synch_8c.html#a4534660eba2b75a5e5e34590d743f685" title="If any threads are waiting on COND (protected by LOCK), then this function signals one of them to wak..." alt="" coords="743,518,837,545"/>
<area shape="rect" href="priority-donate-sema_8c.html#a85675782bf8084df44707dfcfd2d7ae8" title=" " alt="" coords="539,88,646,114"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="769,620,811,646"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="729,202,851,229"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="741,670,839,697"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="141,1304,253,1330"/>
<area shape="rect" href="synch_8c.html#a57b7a9021b4a9c32f00065da020e96cd" title="Thread function used by sema_self_test()." alt="" coords="726,1354,854,1381"/>
<area shape="rect" href="synch_8c.html#abd647748214f5f33ba24336941ffeb11" title="Wakes up all threads, if any, waiting on COND (protected by LOCK)." alt="" coords="534,37,651,64"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="165,316,229,342"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,1000,88,1026"/>
<area shape="rect" href="priority-donate-multiple_8c.html#a56379b758fb21b5a67de1a87d2a74672" title=" " alt="" coords="539,442,646,469"/>
<area shape="rect" href="priority-donate-one_8c.html#adbcd765439b4d960f0db9ba4a47d421f" title=" " alt="" coords="517,493,668,520"/>
<area shape="rect" href="priority-donate-one_8c.html#aae18eed8351e7789ef848517a96284a5" title=" " alt="" coords="517,544,668,570"/>
<area shape="rect" href="priority-donate-lower_8c.html#ab955dabdbbfc7a7a188317e70b95ef04" title=" " alt="" coords="521,594,665,621"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="548,1253,637,1280"/>
<area shape="rect" href="priority-donate-multiple_8c.html#af257d61c4fea017f52981dbe2a40534b" title=" " alt="" coords="539,696,646,722"/>
<area shape="rect" href="synch_8c.html#a408896d5b2af213dc2a8da984c696419" title="Atomically releases LOCK and waits for COND to be signaled by some other piece of code." alt="" coords="551,392,634,418"/>
<area shape="rect" href="priority-condvar_8c.html#a0a388ce73d55720aac505642bc72ce37" title=" " alt="" coords="307,366,469,393"/>
<area shape="rect" href="priority-donate-chain_8c.html#af3ea65daade3a57b9afbfaf87d187dfd" title=" " alt="" coords="526,848,659,874"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="570,797,615,824"/>
<area shape="rect" href="priority-donate-nest_8c.html#acc1e53225c07946f00921d331e5736c5" title=" " alt="" coords="530,898,655,925"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="556,949,629,976"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="555,1000,631,1026"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="555,1050,631,1077"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="555,1101,631,1128"/>
<area shape="rect" href="priority-donate-sema_8c.html#aeb0f97fa3c6d25534de6a11bf3532aa3" title=" " alt="" coords="541,1152,644,1178"/>
<area shape="rect" href="malloc_8c.html#a9c36d0fe3ec4675cbffdc9b52f5fb399" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="358,645,418,672"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="519,1202,666,1229"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="525,746,661,773"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="533,240,652,266"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="523,290,662,317"/>
<area shape="rect" href="alarm-wait_8c.html#a208a74d5680b1bc8dab4e3978fc23d98" title="Sleeper thread." alt="" coords="560,189,625,216"/>
<area shape="rect" href="alarm-wait_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="347,164,429,190"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="136,1456,259,1482"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="143,1405,252,1432"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="156,949,239,976"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="151,1354,244,1381"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="10,1456,83,1482"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="144,797,251,824"/>
<area shape="rect" href="bitmap_8c.html#adacf8862f49d7e7ceb1ba2368dd76698" title="Destroys bitmap B, freeing its storage." alt="" coords="331,1000,445,1026"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="350,1050,426,1077"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="351,797,425,824"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="349,746,427,773"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="147,696,248,722"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="350,898,426,925"/>
</map>
</div>

</div>
</div>
<a id="aaa9229e0f462f60bb9550919fa3d7699" name="aaa9229e0f462f60bb9550919fa3d7699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9229e0f462f60bb9550919fa3d7699">&#9670;&nbsp;</a></span>thread_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_yield </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Yields the CPU. </p>
<p >The current thread is not put to sleep and may be scheduled again immediately at the scheduler's whim. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00302">302</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="thread_8h_source.html#l00094">thread::elem</a>, <a class="el" href="thread_8c_source.html#l00032">idle_thread</a>, <a class="el" href="interrupt_8c_source.html#l00212">intr_context()</a>, <a class="el" href="interrupt_8c_source.html#l00104">intr_disable()</a>, <a class="el" href="interrupt_8c_source.html#l00081">intr_set_level()</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00217">list_push_back()</a>, <a class="el" href="thread_8c_source.html#l00025">ready_list</a>, <a class="el" href="thread_8c_source.html#l00553">schedule()</a>, <a class="el" href="thread_8h_source.html#l00087">thread::status</a>, <a class="el" href="thread_8c_source.html#l00256">thread_current()</a>, and <a class="el" href="thread_8h_source.html#l00012">THREAD_READY</a>.</p>

<p class="reference">Referenced by <a class="el" href="interrupt_8c_source.html#l00345">intr_handler()</a>, <a class="el" href="priority-donate-nest_8c_source.html#l00064">medium_thread_func()</a>, <a class="el" href="priority-fifo_8c_source.html#l00087">simple_thread_func()</a>, <a class="el" href="alarm-simultaneous_8c_source.html#l00079">sleeper()</a>, and <a class="el" href="timer_8c_source.html#l00090">timer_sleep()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_aaa9229e0f462f60bb9550919fa3d7699_cgraph.png" border="0" usemap="#athread_8c_aaa9229e0f462f60bb9550919fa3d7699_cgraph" alt=""/></div>
<map name="athread_8c_aaa9229e0f462f60bb9550919fa3d7699_cgraph" id="athread_8c_aaa9229e0f462f60bb9550919fa3d7699_cgraph">
<area shape="rect" title="Yields the CPU." alt="" coords="5,157,100,183"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="506,106,597,133"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="323,182,414,209"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="148,131,248,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="496,30,607,57"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="160,359,236,386"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="865,638,974,665"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="501,182,602,209"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="325,131,413,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1063,30,1131,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="692,30,771,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="879,81,959,107"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="891,30,947,57"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1058,663,1135,690"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="345,283,392,310"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="300,334,437,361"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1041,587,1153,614"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="313,385,424,411"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="296,435,441,462"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="878,131,961,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="500,233,603,259"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1057,131,1136,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="695,207,767,234"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="686,106,777,133"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1204,587,1321,614"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="489,359,613,386"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="490,511,613,538"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="661,334,801,361"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="878,385,961,411"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="849,283,989,310"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="885,435,954,462"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="860,182,979,209"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1067,233,1126,259"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="888,334,951,361"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1037,385,1156,411"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1217,385,1308,411"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1369,309,1445,335"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1369,359,1445,386"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1053,283,1140,310"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1213,334,1312,361"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1213,283,1312,310"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1050,182,1143,209"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="671,486,791,513"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="688,537,775,563"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="896,537,943,563"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1039,537,1155,563"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="thread_8c_aaa9229e0f462f60bb9550919fa3d7699_icgraph.png" border="0" usemap="#athread_8c_aaa9229e0f462f60bb9550919fa3d7699_icgraph" alt=""/></div>
<map name="athread_8c_aaa9229e0f462f60bb9550919fa3d7699_icgraph" id="athread_8c_aaa9229e0f462f60bb9550919fa3d7699_icgraph">
<area shape="rect" title="Yields the CPU." alt="" coords="2231,157,2325,184"/>
<area shape="rect" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers." alt="" coords="2063,56,2155,83"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="2036,107,2183,133"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="2040,157,2179,184"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="1881,183,1947,209"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="2064,284,2155,311"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="1696,183,1779,209"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="1840,436,1988,463"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="1868,385,1960,412"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="1683,461,1792,488"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="1856,284,1972,311"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="1686,284,1789,311"/>
<area shape="rect" href="timer_8c.html#a5d4df9c9580a97f5eee2e70ae8ad43a0" title="Sleeps for approximately NS nanoseconds." alt="" coords="1532,5,1631,32"/>
<area shape="rect" href="timer_8c.html#ac386900a4e0ba0d6f338b8c5534776d1" title="Sleeps for approximately US microseconds." alt="" coords="819,208,917,235"/>
<area shape="rect" href="ide_8c.html#a03eb0d9954faefcc1634f76a286f78f5" title="Resets an ATA channel and waits for any devices present on it to finish the reset." alt="" coords="458,107,563,133"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1528,284,1635,311"/>
<area shape="rect" href="ide_8c.html#a32d318073c2235e9b03bd77ed17ae580" title="Wait up to 30 seconds for disk D to clear BSY, and then return the status of the DRQ bit." alt="" coords="639,157,757,184"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="142,139,206,165"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,392,88,419"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1404,284,1480,311"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1223,284,1356,311"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="1094,208,1153,235"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="835,867,901,893"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="1100,259,1147,285"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1072,309,1175,336"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="679,816,717,843"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="675,867,721,893"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="675,917,721,944"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="472,917,549,944"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="475,765,546,792"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="291,715,365,741"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="303,917,353,944"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="965,461,1024,488"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="649,259,747,285"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="842,473,894,500"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="669,765,727,792"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="636,461,760,488"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="466,487,555,513"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="625,563,771,589"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="655,715,741,741"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="637,411,759,437"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="458,309,563,336"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="260,233,396,260"/>
<area shape="rect" href="ide_8c.html#ac51161a8c0b58de728cb08a3ff722b0f" title="Low&#45;level ATA primitives." alt="" coords="645,208,751,235"/>
<area shape="rect" href="ide_8c.html#a5d8393ec752f120abb30d97b14a69600" title="Select disk D in its channel, as select_device(), but wait for the channel to become idle before and ..." alt="" coords="444,259,577,285"/>
<area shape="rect" href="ide_8c.html#ad7c31783f9f455b20c35d43f46ee03d8" title="Selects device D, waiting for it to become ready, and then writes SEC_NO to the disk&#39;s sector selecti..." alt="" coords="278,284,378,311"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="137,252,211,279"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="136,373,212,400"/>
<area shape="rect" href="ide_8c.html#a7252ab4c28b6aed431703ba2b124e05e" title="Program D&#39;s channel so that D is now the selected disk." alt="" coords="647,5,749,32"/>
<area shape="rect" href="ide_8c.html#afb1b543e585d7b5757bf9406b8705349" title="Checks whether device D is an ATA disk and sets D&#39;s is_ata member appropriately." alt="" coords="260,44,396,71"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa9571ed633535fe10c374d9dccf71d44" name="aa9571ed633535fe10c374d9dccf71d44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9571ed633535fe10c374d9dccf71d44">&#9670;&nbsp;</a></span>all_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist.html">list</a> all_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of all processes. </p>
<p >Processes are added to this list when they are first scheduled and removed when they exit. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00029">29</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00452">init_thread()</a>, and <a class="el" href="thread_8c_source.html#l00320">thread_foreach()</a>.</p>

</div>
</div>
<a id="a482931135be5fd8571be345dbf44a0f0" name="a482931135be5fd8571be345dbf44a0f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a482931135be5fd8571be345dbf44a0f0">&#9670;&nbsp;</a></span>idle_thread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthread.html">thread</a>* idle_thread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Idle thread. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00032">32</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00389">idle()</a>, <a class="el" href="thread_8c_source.html#l00491">next_thread_to_run()</a>, <a class="el" href="thread_8c_source.html#l00123">thread_tick()</a>, and <a class="el" href="thread_8c_source.html#l00302">thread_yield()</a>.</p>

</div>
</div>
<a id="a44dbee7bd337b2707a40725504f68356" name="a44dbee7bd337b2707a40725504f68356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44dbee7bd337b2707a40725504f68356">&#9670;&nbsp;</a></span>idle_ticks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long idle_ticks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Statistics. </p>
<h1><a class="anchor" id="autotoc_md0"></a>
of timer ticks spent idle.</h1>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00049">49</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00144">thread_print_stats()</a>, and <a class="el" href="thread_8c_source.html#l00123">thread_tick()</a>.</p>

</div>
</div>
<a id="ad88c38fc74f5be307d723d4a2757e51a" name="ad88c38fc74f5be307d723d4a2757e51a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad88c38fc74f5be307d723d4a2757e51a">&#9670;&nbsp;</a></span>initial_thread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthread.html">thread</a>* initial_thread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initial thread, the thread running <a class="el" href="init_8c.html">init.c</a>:<a class="el" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main()</a>. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00035">35</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00516">thread_schedule_tail()</a>.</p>

</div>
</div>
<a id="ac55490f0819a5765b6ef900ebd250fa9" name="ac55490f0819a5765b6ef900ebd250fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac55490f0819a5765b6ef900ebd250fa9">&#9670;&nbsp;</a></span>kernel_ticks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long kernel_ticks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h1><a class="anchor" id="autotoc_md1"></a>
of timer ticks in kernel threads.</h1>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00050">50</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00144">thread_print_stats()</a>, and <a class="el" href="thread_8c_source.html#l00123">thread_tick()</a>.</p>

</div>
</div>
<a id="a88aadf03bb4208231cfd3c61881c986f" name="a88aadf03bb4208231cfd3c61881c986f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88aadf03bb4208231cfd3c61881c986f">&#9670;&nbsp;</a></span>ready_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist.html">list</a> ready_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of processes in THREAD_READY state, that is, processes that are ready to run but not actually running. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00025">25</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00491">next_thread_to_run()</a>, <a class="el" href="thread_8c_source.html#l00232">thread_unblock()</a>, and <a class="el" href="thread_8c_source.html#l00302">thread_yield()</a>.</p>

</div>
</div>
<a id="a2f931dea2ffaab0b5b3ece1ae452096b" name="a2f931dea2ffaab0b5b3ece1ae452096b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f931dea2ffaab0b5b3ece1ae452096b">&#9670;&nbsp;</a></span>thread_mlfqs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> thread_mlfqs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If false (default), use round-robin scheduler. </p>
<p >If true, use multi-level feedback queue scheduler. Controlled by kernel command-line option "-o mlfqs". </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00060">60</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8c_source.html#l00233">parse_options()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00066">test_mlfqs_fair()</a>, and <a class="el" href="alarm-simultaneous_8c_source.html#l00033">test_sleep()</a>.</p>

</div>
</div>
<a id="a5ed1c6c7f8515fdbf57e7f8cff07b60e" name="a5ed1c6c7f8515fdbf57e7f8cff07b60e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ed1c6c7f8515fdbf57e7f8cff07b60e">&#9670;&nbsp;</a></span>thread_stack_ofs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> thread_stack_ofs = <a class="el" href="stddef_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a> (struct <a class="el" href="structthread.html">thread</a>, stack)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Offset of &lsquo;stack&rsquo; member within &lsquo;struct thread&rsquo;. </p>
<p >Used by switch.S, which can't figure it out on its own. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00584">584</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

</div>
</div>
<a id="a64d311a883bfe99253b272ed19c2412a" name="a64d311a883bfe99253b272ed19c2412a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d311a883bfe99253b272ed19c2412a">&#9670;&nbsp;</a></span>thread_ticks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned thread_ticks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h1><a class="anchor" id="autotoc_md4"></a>
of timer ticks since last yield.</h1>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00055">55</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00516">thread_schedule_tail()</a>, and <a class="el" href="thread_8c_source.html#l00123">thread_tick()</a>.</p>

</div>
</div>
<a id="ae471430c451936d31ba424c182390cd0" name="ae471430c451936d31ba424c182390cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae471430c451936d31ba424c182390cd0">&#9670;&nbsp;</a></span>tid_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlock.html">lock</a> tid_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock used by <a class="el" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread.">allocate_tid()</a>. </p>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00038">38</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00570">allocate_tid()</a>.</p>

</div>
</div>
<a id="a0f3fc65151bc60c1531f2cef261397ec" name="a0f3fc65151bc60c1531f2cef261397ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f3fc65151bc60c1531f2cef261397ec">&#9670;&nbsp;</a></span>user_ticks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long user_ticks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h1><a class="anchor" id="autotoc_md2"></a>
of timer ticks in user programs.</h1>

<p class="definition">Definition at line <a class="el" href="thread_8c_source.html#l00051">51</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="thread_8c_source.html#l00144">thread_print_stats()</a>, and <a class="el" href="thread_8c_source.html#l00123">thread_tick()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 4 2021 19:31:07 for PKUOS - Pintos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
