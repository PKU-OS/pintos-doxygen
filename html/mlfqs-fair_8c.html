<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PKUOS - Pintos: src/tests/threads/mlfqs-fair.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PKUOS - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for PKU Operating System course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d93a1d4020dea85bb71b237545b5e722.html">tests</a></li><li class="navelem"><a class="el" href="dir_b46f1ee853d0c75eee4c005ee305d2d8.html">threads</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">mlfqs-fair.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;<a class="el" href="inttypes_8h_source.html">inttypes.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="tests_8h_source.html">tests/threads/tests.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="init_8h_source.html">threads/init.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="malloc_8h_source.html">threads/malloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="palloc_8h_source.html">threads/palloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="synch_8h_source.html">threads/synch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thread_8h_source.html">threads/thread.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="timer_8h_source.html">devices/timer.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mlfqs-fair.c:</div>
<div class="dyncontent">
<div class="center"><img src="mlfqs-fair_8c__incl.png" border="0" usemap="#asrc_2tests_2threads_2mlfqs-fair_8c" alt=""/></div>
<map name="asrc_2tests_2threads_2mlfqs-fair_8c" id="asrc_2tests_2threads_2mlfqs-fair_8c">
<area shape="rect" title=" " alt="" coords="293,5,449,47"/>
<area shape="rect" title=" " alt="" coords="5,95,67,121"/>
<area shape="rect" href="inttypes_8h.html" title=" " alt="" coords="806,169,885,196"/>
<area shape="rect" href="tests_8h.html" title=" " alt="" coords="141,95,283,121"/>
<area shape="rect" href="init_8h.html" title=" " alt="" coords="365,169,464,196"/>
<area shape="rect" href="malloc_8h.html" title=" " alt="" coords="29,169,149,196"/>
<area shape="rect" href="palloc_8h.html" title=" " alt="" coords="174,169,290,196"/>
<area shape="rect" href="synch_8h.html" title=" " alt="" coords="551,95,667,121"/>
<area shape="rect" href="thread_8h.html" title=" " alt="" coords="409,95,527,121"/>
<area shape="rect" href="timer_8h.html" title=" " alt="" coords="692,95,804,121"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="574,244,639,271"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="285,244,355,271"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="474,244,550,271"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="380,244,449,271"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="489,169,538,196"/>
<area shape="rect" href="round_8h.html" title=" " alt="" coords="715,169,781,196"/>
</map>
</div>
</div>
<p><a href="mlfqs-fair_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structthread__info.html">thread_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a34cc81202cd801b7be9a045cbe6e04e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mlfqs-fair_8c.html#a34cc81202cd801b7be9a045cbe6e04e8">MAX_THREAD_CNT</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a34cc81202cd801b7be9a045cbe6e04e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5c0bb7da290ed5c6c31e55eb73e1cbe6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6">test_mlfqs_fair</a> (int thread_cnt, int nice_min, int nice_step)</td></tr>
<tr class="memdesc:a5c0bb7da290ed5c6c31e55eb73e1cbe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measures the correctness of the "nice" implementation.  <a href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6">More...</a><br /></td></tr>
<tr class="separator:a5c0bb7da290ed5c6c31e55eb73e1cbe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28451b5c52ad566800c04f1d48bb61de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mlfqs-fair_8c.html#a28451b5c52ad566800c04f1d48bb61de">test_mlfqs_fair_2</a> (void)</td></tr>
<tr class="separator:a28451b5c52ad566800c04f1d48bb61de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd0a69be2bce871d166452e2302b323"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mlfqs-fair_8c.html#a0fd0a69be2bce871d166452e2302b323">test_mlfqs_fair_20</a> (void)</td></tr>
<tr class="separator:a0fd0a69be2bce871d166452e2302b323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8fc7e7b3081e7e7e1e23d7d64215d61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mlfqs-fair_8c.html#ad8fc7e7b3081e7e7e1e23d7d64215d61">test_mlfqs_nice_2</a> (void)</td></tr>
<tr class="separator:ad8fc7e7b3081e7e7e1e23d7d64215d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c25efe9229c510f743312d4b52eba0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mlfqs-fair_8c.html#a0c25efe9229c510f743312d4b52eba0a">test_mlfqs_nice_10</a> (void)</td></tr>
<tr class="separator:a0c25efe9229c510f743312d4b52eba0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac167cc111091b60761c3bb6d1e63371e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e">load_thread</a> (void *aux)</td></tr>
<tr class="separator:ac167cc111091b60761c3bb6d1e63371e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a34cc81202cd801b7be9a045cbe6e04e8" name="a34cc81202cd801b7be9a045cbe6e04e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34cc81202cd801b7be9a045cbe6e04e8">&#9670;&nbsp;</a></span>MAX_THREAD_CNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_THREAD_CNT&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mlfqs-fair_8c_source.html#l00054">54</a> of file <a class="el" href="mlfqs-fair_8c_source.html">mlfqs-fair.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac167cc111091b60761c3bb6d1e63371e" name="ac167cc111091b60761c3bb6d1e63371e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac167cc111091b60761c3bb6d1e63371e">&#9670;&nbsp;</a></span>load_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void load_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mlfqs-fair_8c_source.html#l00108">108</a> of file <a class="el" href="mlfqs-fair_8c_source.html">mlfqs-fair.c</a>.</p>

<p class="reference">References <a class="el" href="mlfqs-fair_8c_source.html#l00060">thread_info::nice</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00058">thread_info::start_time</a>, <a class="el" href="thread_8c_source.html#l00350">thread_set_nice()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00059">thread_info::tick_count</a>, <a class="el" href="timer_8c_source.html#l00082">timer_elapsed()</a>, <a class="el" href="timer_8h_source.html#l00008">TIMER_FREQ</a>, <a class="el" href="timer_8c_source.html#l00090">timer_sleep()</a>, and <a class="el" href="timer_8c_source.html#l00071">timer_ticks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mlfqs-fair_8c_source.html#l00066">test_mlfqs_fair()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mlfqs-fair_8c_ac167cc111091b60761c3bb6d1e63371e_cgraph.png" border="0" usemap="#amlfqs-fair_8c_ac167cc111091b60761c3bb6d1e63371e_cgraph" alt=""/></div>
<map name="amlfqs-fair_8c_ac167cc111091b60761c3bb6d1e63371e_cgraph" id="amlfqs-fair_8c_ac167cc111091b60761c3bb6d1e63371e_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,97,108"/>
<area shape="rect" href="thread_8c.html#ab732fcf33c6ea951e0c0d0f9d2e5d6e9" title="Sets the current thread&#39;s nice value to NICE." alt="" coords="145,5,263,32"/>
<area shape="rect" href="timer_8c.html#a58f1f79abf9bc0515a305ba89c58b9fa" title="Returns the number of timer ticks elapsed since THEN, which should be a value once returned by timer_..." alt="" coords="311,107,416,133"/>
<area shape="rect" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted." alt="" coords="469,208,554,235"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="159,157,249,184"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="782,259,873,285"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="607,309,707,336"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="959,272,1061,299"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="783,309,871,336"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="965,323,1055,349"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="464,360,559,387"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="955,373,1065,400"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="619,588,695,615"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1323,816,1433,843"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1521,309,1589,336"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1151,348,1229,375"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1338,360,1418,387"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1350,309,1406,336"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1517,791,1594,817"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="804,512,851,539"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="759,563,896,589"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1499,917,1611,944"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="772,613,883,640"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="755,715,900,741"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1337,411,1419,437"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="959,449,1061,476"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1516,411,1595,437"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1154,449,1226,476"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1145,399,1235,425"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1663,917,1780,944"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="948,715,1072,741"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="949,765,1071,792"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1120,613,1260,640"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1337,613,1419,640"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1308,563,1448,589"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1343,715,1413,741"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1319,461,1437,488"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1526,512,1585,539"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1347,664,1409,691"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1496,613,1615,640"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1676,613,1767,640"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1828,563,1904,589"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1512,563,1599,589"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1672,563,1771,589"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1672,512,1771,539"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1509,461,1602,488"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1130,867,1250,893"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1147,715,1233,741"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1355,867,1401,893"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1497,867,1613,893"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mlfqs-fair_8c_ac167cc111091b60761c3bb6d1e63371e_icgraph.png" border="0" usemap="#amlfqs-fair_8c_ac167cc111091b60761c3bb6d1e63371e_icgraph" alt=""/></div>
<map name="amlfqs-fair_8c_ac167cc111091b60761c3bb6d1e63371e_icgraph" id="amlfqs-fair_8c_ac167cc111091b60761c3bb6d1e63371e_icgraph">
<area shape="rect" title=" " alt="" coords="163,5,255,32"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="5,5,115,32"/>
</map>
</div>

</div>
</div>
<a id="a5c0bb7da290ed5c6c31e55eb73e1cbe6" name="a5c0bb7da290ed5c6c31e55eb73e1cbe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c0bb7da290ed5c6c31e55eb73e1cbe6">&#9670;&nbsp;</a></span>test_mlfqs_fair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_mlfqs_fair </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thread_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nice_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nice_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Measures the correctness of the "nice" implementation. </p>
<p >The "fair" tests run either 2 or 20 threads all niced to 0. The threads should all receive approximately the same number of ticks. Each test runs for 30 seconds, so the ticks should also sum to approximately 30 * 100 == 3000 ticks.</p>
<p >The mlfqs-nice-2 test runs 2 threads, one with nice 0, the other with nice 5, which should receive 1,904 and 1,096 ticks, respectively, over 30 seconds.</p>
<p >The mlfqs-nice-10 test runs 10 threads with nice 0 through 9. They should receive 672, 588, 492, 408, 316, 232, 152, 92, 40, and 8 ticks, respectively, over 30 seconds.</p>
<p >(The above are computed via simulation in mlfqs.pm.) </p>

<p class="definition">Definition at line <a class="el" href="mlfqs-fair_8c_source.html#l00066">66</a> of file <a class="el" href="mlfqs-fair_8c_source.html">mlfqs-fair.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00108">load_thread()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00054">MAX_THREAD_CNT</a>, <a class="el" href="lib_8c_source.html#l00028">msg()</a>, <a class="el" href="insult_8c_source.html#l00047">name</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00060">thread_info::nice</a>, <a class="el" href="thread_8h_source.html#l00024">PRI_DEFAULT</a>, <a class="el" href="inttypes_8h_source.html#l00027">PRId64</a>, <a class="el" href="lib_2stdio_8c_source.html#l00062">snprintf()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00058">thread_info::start_time</a>, <a class="el" href="mlfqs-load-60_8c_source.html#l00108">start_time</a>, <a class="el" href="thread_8c_source.html#l00166">thread_create()</a>, <a class="el" href="thread_8c_source.html#l00060">thread_mlfqs</a>, <a class="el" href="thread_8c_source.html#l00350">thread_set_nice()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00059">thread_info::tick_count</a>, <a class="el" href="timer_8c_source.html#l00082">timer_elapsed()</a>, <a class="el" href="timer_8h_source.html#l00008">TIMER_FREQ</a>, <a class="el" href="timer_8c_source.html#l00090">timer_sleep()</a>, and <a class="el" href="timer_8c_source.html#l00071">timer_ticks()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mlfqs-fair_8c_a5c0bb7da290ed5c6c31e55eb73e1cbe6_cgraph.png" border="0" usemap="#amlfqs-fair_8c_a5c0bb7da290ed5c6c31e55eb73e1cbe6_cgraph" alt=""/></div>
<map name="amlfqs-fair_8c_a5c0bb7da290ed5c6c31e55eb73e1cbe6_cgraph" id="amlfqs-fair_8c_a5c0bb7da290ed5c6c31e55eb73e1cbe6_cgraph">
<area shape="rect" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="5,892,115,919"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="169,968,261,995"/>
<area shape="rect" href="thread_8c.html#ab732fcf33c6ea951e0c0d0f9d2e5d6e9" title="Sets the current thread&#39;s nice value to NICE." alt="" coords="316,917,433,944"/>
<area shape="rect" href="timer_8c.html#a58f1f79abf9bc0515a305ba89c58b9fa" title="Returns the number of timer ticks elapsed since THEN, which should be a value once returned by timer_..." alt="" coords="498,1019,603,1045"/>
<area shape="rect" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted." alt="" coords="673,1069,758,1096"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="329,1120,420,1147"/>
<area shape="rect" href="lib_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title=" " alt="" coords="191,361,238,388"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="683,108,748,135"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="163,684,267,711"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1336,943,1427,969"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1175,917,1275,944"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1475,867,1576,893"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1337,740,1425,767"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1480,461,1571,488"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="991,765,1086,792"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1169,816,1280,843"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1187,664,1263,691"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1170,411,1279,437"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1347,892,1415,919"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1342,841,1421,868"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1343,563,1420,589"/>
<area shape="rect" href="lib_8c.html#a3844191cdd54f12ebfa3eee6d1a79ea1" title=" " alt="" coords="524,235,577,261"/>
<area shape="rect" href="lib_2stdio_8c.html#a1286c6b071007938f54e9b859109f89d" title="Like vprintf(), except that output is stored into BUFFER, which must have space for BUF_SIZE characte..." alt="" coords="828,120,900,147"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="685,311,745,337"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="837,260,891,287"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="690,209,741,236"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="1002,83,1075,109"/>
<area shape="rect" href="lib_2stdio_8c.html#acdff2b19969329b7777564346ac98c5d" title="Helper function for vsnprintf()." alt="" coords="980,133,1097,160"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="1191,5,1258,32"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="1171,56,1279,83"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="1175,107,1275,133"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="1161,157,1288,184"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="1193,208,1256,235"/>
<area shape="rect" href="string_8c.html#a75301dc67774ade574b3b3205ee4f39e" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="828,311,900,337"/>
<area shape="rect" href="thread_8c.html#a19de4720e289bc3e7202be2b1a059549" title="Allocates a SIZE&#45;byte frame at the top of thread T&#39;s stack and returns a pointer to the frame&#39;s base." alt="" coords="505,397,596,424"/>
<area shape="rect" href="thread_8c.html#a382e72d5d2fb4cfe2b5034eb62a887c8" title="Returns a tid to use for a new thread." alt="" coords="506,557,595,584"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="982,968,1095,995"/>
<area shape="rect" href="thread_8c.html#a34a9d4a5ab1bf577041f4c3f1b8f6c89" title="Does basic initialization of T as a blocked thread named NAME." alt="" coords="509,761,593,788"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="812,629,916,656"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="315,608,435,635"/>
<area shape="rect" href="switch_8h.html#a77fa63aafbf21cce19006cb6bfcd3fa6" title=" " alt="" coords="327,709,423,736"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="815,499,913,525"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="667,557,764,584"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="964,411,1113,453"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="992,579,1085,605"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="825,917,903,944"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="681,735,750,761"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="995,629,1083,656"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1179,613,1270,640"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="483,608,619,635"/>
</map>
</div>

</div>
</div>
<a id="a28451b5c52ad566800c04f1d48bb61de" name="a28451b5c52ad566800c04f1d48bb61de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28451b5c52ad566800c04f1d48bb61de">&#9670;&nbsp;</a></span>test_mlfqs_fair_2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void test_mlfqs_fair_2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mlfqs-fair_8c_source.html#l00031">31</a> of file <a class="el" href="mlfqs-fair_8c_source.html">mlfqs-fair.c</a>.</p>

</div>
</div>
<a id="a0fd0a69be2bce871d166452e2302b323" name="a0fd0a69be2bce871d166452e2302b323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd0a69be2bce871d166452e2302b323">&#9670;&nbsp;</a></span>test_mlfqs_fair_20()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void test_mlfqs_fair_20 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mlfqs-fair_8c_source.html#l00037">37</a> of file <a class="el" href="mlfqs-fair_8c_source.html">mlfqs-fair.c</a>.</p>

</div>
</div>
<a id="a0c25efe9229c510f743312d4b52eba0a" name="a0c25efe9229c510f743312d4b52eba0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c25efe9229c510f743312d4b52eba0a">&#9670;&nbsp;</a></span>test_mlfqs_nice_10()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void test_mlfqs_nice_10 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mlfqs-fair_8c_source.html#l00049">49</a> of file <a class="el" href="mlfqs-fair_8c_source.html">mlfqs-fair.c</a>.</p>

</div>
</div>
<a id="ad8fc7e7b3081e7e7e1e23d7d64215d61" name="ad8fc7e7b3081e7e7e1e23d7d64215d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8fc7e7b3081e7e7e1e23d7d64215d61">&#9670;&nbsp;</a></span>test_mlfqs_nice_2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void test_mlfqs_nice_2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mlfqs-fair_8c_source.html#l00043">43</a> of file <a class="el" href="mlfqs-fair_8c_source.html">mlfqs-fair.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 4 2021 19:31:05 for PKUOS - Pintos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
