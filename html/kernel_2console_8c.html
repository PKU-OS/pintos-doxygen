<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PKUOS - Pintos: src/lib/kernel/console.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PKUOS - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for PKU Operating System course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="dir_aacc57352be93005f1637def10ec3f77.html">kernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">console.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="console_8h_source.html">console.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stdarg_8h_source.html">stdarg.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="kernel_2stdio_8h_source.html">stdio.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="serial_8h_source.html">devices/serial.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vga_8h_source.html">devices/vga.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="init_8h_source.html">threads/init.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="interrupt_8h_source.html">threads/interrupt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="synch_8h_source.html">threads/synch.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for console.c:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c__incl.png" border="0" usemap="#asrc_2lib_2kernel_2console_8c" alt=""/></div>
<map name="asrc_2lib_2kernel_2console_8c" id="asrc_2lib_2kernel_2console_8c">
<area shape="rect" title=" " alt="" coords="249,5,406,32"/>
<area shape="rect" href="console_8h.html" title=" " alt="" coords="5,80,84,107"/>
<area shape="rect" href="stdarg_8h.html" title=" " alt="" coords="108,80,179,107"/>
<area shape="rect" href="kernel_2stdio_8h.html" title=" " alt="" coords="203,80,265,107"/>
<area shape="rect" href="serial_8h.html" title=" " alt="" coords="61,155,175,181"/>
<area shape="rect" href="vga_8h.html" title=" " alt="" coords="583,80,687,107"/>
<area shape="rect" href="init_8h.html" title=" " alt="" coords="354,155,453,181"/>
<area shape="rect" href="interrupt_8h.html" title=" " alt="" coords="199,155,330,181"/>
<area shape="rect" href="synch_8h.html" title=" " alt="" coords="443,80,559,107"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="232,229,297,256"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="321,229,392,256"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="511,229,587,256"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="417,229,486,256"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="477,155,527,181"/>
</map>
</div>
</div>
<p><a href="kernel_2console_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ada83ac3a119c57c68d54ab7a5c805de3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3">vprintf_helper</a> (char c, void *char_cnt_)</td></tr>
<tr class="memdesc:ada83ac3a119c57c68d54ab7a5c805de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a>.  <a href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3">More...</a><br /></td></tr>
<tr class="separator:ada83ac3a119c57c68d54ab7a5c805de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d98987075545c56db87c51597a04bdd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd">putchar_have_lock</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> c)</td></tr>
<tr class="memdesc:a5d98987075545c56db87c51597a04bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes C to the vga display and serial port.  <a href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd">More...</a><br /></td></tr>
<tr class="separator:a5d98987075545c56db87c51597a04bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acadd2a5d99d952e55a4580dbc8f8739d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#acadd2a5d99d952e55a4580dbc8f8739d">console_init</a> (void)</td></tr>
<tr class="memdesc:acadd2a5d99d952e55a4580dbc8f8739d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable console locking.  <a href="kernel_2console_8c.html#acadd2a5d99d952e55a4580dbc8f8739d">More...</a><br /></td></tr>
<tr class="separator:acadd2a5d99d952e55a4580dbc8f8739d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8866fa73f5cbadd81cd251891d5f20f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a8866fa73f5cbadd81cd251891d5f20f6">console_panic</a> (void)</td></tr>
<tr class="memdesc:a8866fa73f5cbadd81cd251891d5f20f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the console that a kernel panic is underway, which warns it to avoid trying to take the console lock from now on.  <a href="kernel_2console_8c.html#a8866fa73f5cbadd81cd251891d5f20f6">More...</a><br /></td></tr>
<tr class="separator:a8866fa73f5cbadd81cd251891d5f20f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0535ab189f0f409b481df0df4a4e460b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b">console_print_stats</a> (void)</td></tr>
<tr class="memdesc:a0535ab189f0f409b481df0df4a4e460b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints console statistics.  <a href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b">More...</a><br /></td></tr>
<tr class="separator:a0535ab189f0f409b481df0df4a4e460b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b6a57a329ae666df343a081a51e7a5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5">acquire_console</a> (void)</td></tr>
<tr class="memdesc:a69b6a57a329ae666df343a081a51e7a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires the console lock.  <a href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5">More...</a><br /></td></tr>
<tr class="separator:a69b6a57a329ae666df343a081a51e7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2f2e53045fdaa51273a6e45cc63044"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044">release_console</a> (void)</td></tr>
<tr class="memdesc:ace2f2e53045fdaa51273a6e45cc63044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the console lock.  <a href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044">More...</a><br /></td></tr>
<tr class="separator:ace2f2e53045fdaa51273a6e45cc63044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9311ca129f215c0c8c07cd095a72f2f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f">console_locked_by_current_thread</a> (void)</td></tr>
<tr class="memdesc:ac9311ca129f215c0c8c07cd095a72f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the current thread has the console lock, false otherwise.  <a href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f">More...</a><br /></td></tr>
<tr class="separator:ac9311ca129f215c0c8c07cd095a72f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4ab8b56862ed0a04505cafb8a05112"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112">vprintf</a> (const char *format, <a class="el" href="stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> args)</td></tr>
<tr class="memdesc:aae4ab8b56862ed0a04505cafb8a05112"><td class="mdescLeft">&#160;</td><td class="mdescRight">The standard <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a> function, which is like <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> but uses a va_list.  <a href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112">More...</a><br /></td></tr>
<tr class="separator:aae4ab8b56862ed0a04505cafb8a05112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41876f99f190c7488e64ef39c50a23f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f">puts</a> (const char *<a class="el" href="random_8c.html#affc3a5a328a5817ad2aa41ef50241b6c">s</a>)</td></tr>
<tr class="memdesc:ad41876f99f190c7488e64ef39c50a23f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes string S to the console, followed by a new-line character.  <a href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f">More...</a><br /></td></tr>
<tr class="separator:ad41876f99f190c7488e64ef39c50a23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6912abfdc7e2b2345da944f82cb8305b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b">putbuf</a> (const char *<a class="el" href="input_8c.html#a02352b0fa3692f7c9029b2e12edcdbb6">buffer</a>, <a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> n)</td></tr>
<tr class="memdesc:a6912abfdc7e2b2345da944f82cb8305b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the N characters in BUFFER to the console.  <a href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b">More...</a><br /></td></tr>
<tr class="separator:a6912abfdc7e2b2345da944f82cb8305b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4de2514b7778805db3815e8dd6cf09a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a">putchar</a> (int c)</td></tr>
<tr class="memdesc:af4de2514b7778805db3815e8dd6cf09a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes C to the vga display and serial port.  <a href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a">More...</a><br /></td></tr>
<tr class="separator:af4de2514b7778805db3815e8dd6cf09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7fb5294408703b8fe8fd28fade1c7e97"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlock.html">lock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a7fb5294408703b8fe8fd28fade1c7e97">console_lock</a></td></tr>
<tr class="memdesc:a7fb5294408703b8fe8fd28fade1c7e97"><td class="mdescLeft">&#160;</td><td class="mdescRight">The console lock.  <a href="kernel_2console_8c.html#a7fb5294408703b8fe8fd28fade1c7e97">More...</a><br /></td></tr>
<tr class="separator:a7fb5294408703b8fe8fd28fade1c7e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b18e6072b6f8c7e909b2cd99ed0baf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a11b18e6072b6f8c7e909b2cd99ed0baf">use_console_lock</a></td></tr>
<tr class="memdesc:a11b18e6072b6f8c7e909b2cd99ed0baf"><td class="mdescLeft">&#160;</td><td class="mdescRight">True in ordinary circumstances: we want to use the console lock to avoid mixing output between threads, as explained above.  <a href="kernel_2console_8c.html#a11b18e6072b6f8c7e909b2cd99ed0baf">More...</a><br /></td></tr>
<tr class="separator:a11b18e6072b6f8c7e909b2cd99ed0baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4ae2e6366de8f8f54ff63baed8efef"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a7b4ae2e6366de8f8f54ff63baed8efef">console_lock_depth</a></td></tr>
<tr class="memdesc:a7b4ae2e6366de8f8f54ff63baed8efef"><td class="mdescLeft">&#160;</td><td class="mdescRight">It's possible, if you add enough debug output to Pintos, to try to recursively grab console_lock from a single thread.  <a href="kernel_2console_8c.html#a7b4ae2e6366de8f8f54ff63baed8efef">More...</a><br /></td></tr>
<tr class="separator:a7b4ae2e6366de8f8f54ff63baed8efef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc7814fee36c7b7b592b43533653435"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#aacc7814fee36c7b7b592b43533653435">write_cnt</a></td></tr>
<tr class="memdesc:aacc7814fee36c7b7b592b43533653435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of characters written to console.  <a href="kernel_2console_8c.html#aacc7814fee36c7b7b592b43533653435">More...</a><br /></td></tr>
<tr class="separator:aacc7814fee36c7b7b592b43533653435"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a69b6a57a329ae666df343a081a51e7a5" name="a69b6a57a329ae666df343a081a51e7a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b6a57a329ae666df343a081a51e7a5">&#9670;&nbsp;</a></span>acquire_console()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void acquire_console </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquires the console lock. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00088">88</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00018">console_lock</a>, <a class="el" href="kernel_2console_8c_source.html#l00057">console_lock_depth</a>, <a class="el" href="interrupt_8c_source.html#l00212">intr_context()</a>, <a class="el" href="synch_8c_source.html#l00193">lock_acquire()</a>, <a class="el" href="synch_8c_source.html#l00242">lock_held_by_current_thread()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00153">putbuf()</a>, <a class="el" href="kernel_2console_8c_source.html#l00163">putchar()</a>, <a class="el" href="kernel_2console_8c_source.html#l00140">puts()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00126">vprintf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_cgraph.png" border="0" usemap="#akernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_cgraph" alt=""/></div>
<map name="akernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_cgraph" id="akernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_cgraph">
<area shape="rect" title="Acquires the console lock." alt="" coords="5,293,124,319"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="829,571,919,598"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="172,293,269,319"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="317,5,467,47"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1370,191,1479,218"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="345,571,439,598"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1563,141,1641,167"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1546,318,1658,345"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1709,318,1827,345"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="663,723,753,750"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="515,673,615,699"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1001,850,1112,877"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="515,521,614,547"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1006,673,1107,699"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="664,673,752,699"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1568,875,1636,902"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1197,850,1276,877"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1385,825,1465,851"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1397,875,1453,902"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="670,318,746,345"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="851,369,897,395"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="805,470,943,497"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="819,267,929,294"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="801,419,947,446"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1383,774,1466,801"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1005,622,1108,649"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1563,774,1641,801"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1201,749,1273,775"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1191,799,1282,826"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="995,521,1119,547"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="995,394,1118,421"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1167,521,1307,547"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1383,521,1466,547"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1355,470,1495,497"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1390,723,1459,750"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1365,571,1484,598"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1573,622,1631,649"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1393,673,1456,699"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1543,521,1661,547"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1723,521,1813,547"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1875,445,1951,471"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1875,495,1951,522"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1559,470,1645,497"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1719,419,1817,446"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1719,470,1817,497"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1555,571,1649,598"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1177,419,1297,446"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1193,369,1280,395"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1401,419,1448,446"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1544,419,1660,446"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_icgraph.png" border="0" usemap="#akernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_icgraph" alt=""/></div>
<map name="akernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_icgraph" id="akernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_icgraph">
<area shape="rect" title="Acquires the console lock." alt="" coords="1015,233,1133,260"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="908,157,967,184"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="793,107,860,133"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="914,309,961,336"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="908,259,967,285"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="633,107,671,133"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="629,157,675,184"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="629,5,675,32"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="399,81,477,108"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="403,157,473,184"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="224,81,275,108"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="389,613,487,640"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="801,1120,853,1147"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="623,2133,681,2160"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="376,728,500,755"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="205,728,294,755"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="5,917,133,944"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="365,867,511,893"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="609,208,695,235"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="591,1069,713,1096"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="385,1449,491,1476"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="194,1360,305,1387"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="181,1652,317,1679"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="622,1373,682,1400"/>
<area shape="rect" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b" title="Prints console statistics." alt="" coords="583,1424,721,1451"/>
<area shape="rect" href="debug_8c.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="590,613,714,640"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="611,1475,693,1501"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="616,1019,688,1045"/>
<area shape="rect" href="exception_8c.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="Prints exception statistics." alt="" coords="578,1525,726,1552"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="601,1576,703,1603"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="401,2007,475,2033"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="603,1728,701,1755"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="619,1779,685,1805"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="616,1829,688,1856"/>
<area shape="rect" href="lib_2stdio_8c.html#af29b397e488c767a37e2f44c787b4746" title="Dumps the SIZE bytes in BUF to the console as hex bytes arranged 16 per line." alt="" coords="610,1981,694,2008"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="616,1880,688,1907"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="591,1931,713,1957"/>
<area shape="rect" href="interrupt_8c.html#aad193c7a44c7bea286a77a590b7fa194" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="591,1171,713,1197"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="419,1171,457,1197"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="207,1196,291,1223"/>
<area shape="rect" href="kbd_8c.html#ab7e600f1f09328e0f6e6e2052cd64181" title="Prints keyboard statistics." alt="" coords="596,360,708,387"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="622,411,682,437"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="629,461,675,488"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="627,512,677,539"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="385,1677,491,1704"/>
<area shape="rect" href="tests_8c.html#a660b914e4f3ad8cb93d763839e89ff6d" title="Prints a message indicating the current test passed." alt="" coords="627,563,677,589"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="397,791,479,817"/>
<area shape="rect" href="lib_2stdio_8c.html#a225f673cc2251206f9da043c5a55a80b" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="559,1627,745,1653"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="594,968,710,995"/>
<area shape="rect" href="init_8c.html#ae58b8c3dee90e04a151d5f9ee45799c5" title="Breaks the kernel command line into words and returns them as an argv&#45;like array." alt="" coords="581,765,723,792"/>
</map>
</div>

</div>
</div>
<a id="acadd2a5d99d952e55a4580dbc8f8739d" name="acadd2a5d99d952e55a4580dbc8f8739d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acadd2a5d99d952e55a4580dbc8f8739d">&#9670;&nbsp;</a></span>console_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void console_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable console locking. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00064">64</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00018">console_lock</a>, <a class="el" href="synch_8c_source.html#l00176">lock_init()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8c_source.html#l00073">pintos_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_cgraph.png" border="0" usemap="#akernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_cgraph" alt=""/></div>
<map name="akernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_cgraph" id="akernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_cgraph">
<area shape="rect" title="Enable console locking." alt="" coords="5,5,97,32"/>
<area shape="rect" href="synch_8c.html#aa760472aa4916bba476b2165ea25b411" title="Initializes LOCK." alt="" coords="145,5,216,32"/>
<area shape="rect" href="synch_8c.html#a1349a31f4880cf4eae026761f0ab3343" title="This file is derived from source code for the Nachos instructional operating system." alt="" coords="264,5,343,32"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a8aa862d10f52f7b0348fce990c7c12db" title="Initializes LIST as an empty list." alt="" coords="391,5,453,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_icgraph.png" border="0" usemap="#akernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_icgraph" alt=""/></div>
<map name="akernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_icgraph" id="akernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_icgraph">
<area shape="rect" title="Enable console locking." alt="" coords="136,5,228,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,88,32"/>
</map>
</div>

</div>
</div>
<a id="ac9311ca129f215c0c8c07cd095a72f2f" name="ac9311ca129f215c0c8c07cd095a72f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9311ca129f215c0c8c07cd095a72f2f">&#9670;&nbsp;</a></span>console_locked_by_current_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> console_locked_by_current_thread </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the current thread has the console lock, false otherwise. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00115">115</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00018">console_lock</a>, <a class="el" href="interrupt_8c_source.html#l00212">intr_context()</a>, <a class="el" href="synch_8c_source.html#l00242">lock_held_by_current_thread()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_cgraph.png" border="0" usemap="#akernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_cgraph" alt=""/></div>
<map name="akernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_cgraph" id="akernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_cgraph">
<area shape="rect" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="5,27,189,69"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="267,5,357,32"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="237,57,387,98"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="435,64,544,91"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="609,39,687,65"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="592,89,704,116"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="752,89,869,116"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_icgraph.png" border="0" usemap="#akernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_icgraph" alt=""/></div>
<map name="akernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_icgraph" id="akernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_icgraph">
<area shape="rect" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1261,81,1445,122"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1080,88,1213,115"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="951,12,1010,39"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="708,56,775,83"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="957,113,1004,140"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="929,176,1032,203"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="567,107,605,133"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="563,157,609,184"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="563,5,609,32"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="353,171,430,197"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="356,233,427,260"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="189,247,263,273"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="201,171,251,197"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="823,201,881,228"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="342,613,441,640"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="715,1069,767,1096"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="557,259,615,285"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="329,765,453,792"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="181,765,271,792"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="5,867,133,893"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="319,816,464,843"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="543,309,629,336"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="525,917,647,944"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="533,1019,639,1045"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="336,993,447,1020"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="323,1069,459,1096"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="556,1120,616,1147"/>
<area shape="rect" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b" title="Prints console statistics." alt="" coords="517,1171,655,1197"/>
<area shape="rect" href="debug_8c.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="524,664,648,691"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="545,1272,627,1299"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="550,867,622,893"/>
<area shape="rect" href="exception_8c.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="Prints exception statistics." alt="" coords="512,1373,660,1400"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="535,1424,637,1451"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="354,1576,429,1603"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="537,1525,635,1552"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="553,1576,619,1603"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="550,1627,622,1653"/>
<area shape="rect" href="lib_2stdio_8c.html#af29b397e488c767a37e2f44c787b4746" title="Dumps the SIZE bytes in BUF to the console as hex bytes arranged 16 per line." alt="" coords="544,1475,628,1501"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="550,1728,622,1755"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="525,1779,647,1805"/>
<area shape="rect" href="interrupt_8c.html#aad193c7a44c7bea286a77a590b7fa194" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="525,1880,647,1907"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="372,1880,411,1907"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="184,1905,268,1932"/>
<area shape="rect" href="kbd_8c.html#ab7e600f1f09328e0f6e6e2052cd64181" title="Prints keyboard statistics." alt="" coords="530,1981,642,2008"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="556,2032,616,2059"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="563,411,609,437"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="561,461,611,488"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="533,1221,639,1248"/>
<area shape="rect" href="tests_8c.html#a660b914e4f3ad8cb93d763839e89ff6d" title="Prints a message indicating the current test passed." alt="" coords="561,512,611,539"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="545,563,627,589"/>
</map>
</div>

</div>
</div>
<a id="a8866fa73f5cbadd81cd251891d5f20f6" name="a8866fa73f5cbadd81cd251891d5f20f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8866fa73f5cbadd81cd251891d5f20f6">&#9670;&nbsp;</a></span>console_panic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void console_panic </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notifies the console that a kernel panic is underway, which warns it to avoid trying to take the console lock from now on. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00074">74</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2debug_8c_source.html#l00019">debug_panic()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a8866fa73f5cbadd81cd251891d5f20f6_icgraph.png" border="0" usemap="#akernel_2console_8c_a8866fa73f5cbadd81cd251891d5f20f6_icgraph" alt=""/></div>
<map name="akernel_2console_8c_a8866fa73f5cbadd81cd251891d5f20f6_icgraph" id="akernel_2console_8c_a8866fa73f5cbadd81cd251891d5f20f6_icgraph">
<area shape="rect" title="Notifies the console that a kernel panic is underway, which warns it to avoid trying to take the cons..." alt="" coords="152,5,259,32"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="5,5,104,32"/>
</map>
</div>

</div>
</div>
<a id="a0535ab189f0f409b481df0df4a4e460b" name="a0535ab189f0f409b481df0df4a4e460b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0535ab189f0f409b481df0df4a4e460b">&#9670;&nbsp;</a></span>console_print_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void console_print_stats </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints console statistics. </p>
<p ><a class="el" href="console_8h.html">lib/kernel/console.h</a> </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00081">81</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00060">write_cnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="shutdown_8c_source.html#l00129">print_stats()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_cgraph.png" border="0" usemap="#akernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_cgraph" alt=""/></div>
<map name="akernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_cgraph" id="akernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_cgraph">
<area shape="rect" title="Prints console statistics." alt="" coords="5,284,143,311"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="191,284,243,311"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="291,284,349,311"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="412,157,485,184"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1033,309,1152,336"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="867,259,985,285"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="397,783,500,809"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="581,208,648,235"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="561,5,669,32"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="565,56,665,83"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="551,107,678,133"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="583,157,646,184"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="729,31,819,57"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="746,107,802,133"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1956,395,2047,421"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1243,563,1341,589"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1432,395,1581,437"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1788,597,1897,624"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1460,699,1553,725"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1963,699,2040,725"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1945,623,2057,649"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1797,1053,1888,1080"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1635,1003,1735,1029"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1629,800,1740,827"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1635,699,1734,725"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1951,1180,2052,1207"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1799,1003,1887,1029"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1809,800,1877,827"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1803,851,1882,877"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1805,699,1881,725"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1044,512,1141,539"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1253,888,1331,915"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1465,775,1548,801"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1455,863,1558,889"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1450,913,1563,940"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="548,995,681,1021"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1200,294,1384,335"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="731,1205,817,1232"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1469,1496,1545,1523"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="893,1205,959,1232"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="1059,1357,1127,1384"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="888,512,964,539"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="888,981,964,1008"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="1055,1307,1131,1333"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="1256,1408,1328,1435"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1665,1560,1704,1587"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1793,1535,1892,1561"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1665,1611,1704,1637"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1651,1661,1718,1688"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1631,1459,1738,1485"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_icgraph.png" border="0" usemap="#akernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_icgraph" alt=""/></div>
<map name="akernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_icgraph" id="akernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_icgraph">
<area shape="rect" title="Prints console statistics." alt="" coords="741,81,879,108"/>
<area shape="rect" href="shutdown_8c.html#ab00adda36155b238b8c39dcd96f13cd9" title="Print statistics about Pintos execution." alt="" coords="609,81,693,108"/>
<area shape="rect" href="shutdown_8c.html#a4cc4519942eb3292f9ee3702330ebd07" title="Powers down the machine we&#39;re running on, as long as we&#39;re running on Bochs or QEMU." alt="" coords="416,81,561,108"/>
<area shape="rect" href="shutdown_8c.html#a1c9d5e29ad8899afe0c34571ddee18f9" title="Shuts down the machine in the way configured by shutdown_configure()." alt="" coords="289,56,368,83"/>
<area shape="rect" href="init_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title="Prints a kernel command line help message and powers off the machine." alt="" coords="299,107,358,133"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="139,5,238,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,81,88,108"/>
<area shape="rect" href="init_8c.html#a598c2f3a0a33552aa203aa847dc265b6" title="Parses options in ARGV[] and returns the first non&#45;option argument." alt="" coords="136,107,241,133"/>
</map>
</div>

</div>
</div>
<a id="a6912abfdc7e2b2345da944f82cb8305b" name="a6912abfdc7e2b2345da944f82cb8305b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6912abfdc7e2b2345da944f82cb8305b">&#9670;&nbsp;</a></span>putbuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void putbuf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the N characters in BUFFER to the console. </p>
<p ><a class="el" href="kernel_2stdio_8h.html">lib/kernel/stdio.h</a> </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00153">153</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="input_8c_source.html#l00007">buffer</a>, <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a6912abfdc7e2b2345da944f82cb8305b_cgraph.png" border="0" usemap="#akernel_2console_8c_a6912abfdc7e2b2345da944f82cb8305b_cgraph" alt=""/></div>
<map name="akernel_2console_8c_a6912abfdc7e2b2345da944f82cb8305b_cgraph" id="akernel_2console_8c_a6912abfdc7e2b2345da944f82cb8305b_cgraph">
<area shape="rect" title="Writes the N characters in BUFFER to the console." alt="" coords="5,316,64,343"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="428,65,547,92"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="112,657,245,684"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="428,316,547,343"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1351,245,1441,272"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="638,397,735,424"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="827,297,976,338"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1183,499,1292,525"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="855,549,948,576"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1357,524,1435,551"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1340,473,1452,500"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1192,1005,1283,1032"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1029,955,1129,981"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1024,499,1135,525"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1030,600,1129,627"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1345,1005,1447,1032"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1193,955,1281,981"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="595,195,779,237"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="293,904,380,931"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="299,1791,375,1817"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="653,1183,720,1209"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="867,853,935,880"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="449,701,525,728"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="449,549,525,576"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="863,1664,939,1691"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="451,1360,523,1387"/>
<area shape="rect" href="intq_8c.html#a74912dc0f8bf3b5cfeecab5630ed3f89" title="Initializes interrupt queue Q." alt="" coords="867,1157,935,1184"/>
<area shape="rect" href="io_8h.html#a903c588b94e0e8386c8a6f8caa4a5a72" title="Writes byte DATA to PORT." alt="" coords="1055,1411,1103,1437"/>
<area shape="rect" href="serial_8c.html#aedccb1dc6702ff87426404495a2a05ea" title="Configures the serial port for BPS bits per second." alt="" coords="862,1259,941,1285"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1056,853,1103,880"/>
<area shape="rect" href="intq_8c.html#a34e623157a6c4f53ae29eda5d65b7395" title="Returns true if Q is empty, false otherwise." alt="" coords="643,1512,730,1539"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="638,499,735,525"/>
<area shape="rect" href="intq_8c.html#addd2664c1fa7444e1467b99e41e7192b" title=" " alt="" coords="658,701,715,728"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="664,651,709,677"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="863,701,940,728"/>
<area shape="rect" href="io_8h.html#a0223c8898dfec29069879dc51076e28a" title="Reads and returns a byte from PORT." alt="" coords="1059,1576,1099,1603"/>
<area shape="rect" href="input_8c.html#a60ec5bbf4a98fbdb4fae3124870ef055" title="Returns true if the input buffer is full, false otherwise." alt="" coords="649,1107,725,1133"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="468,1968,507,1995"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="637,2019,736,2045"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="667,1816,706,1843"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="454,1917,521,1944"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="434,1765,541,1792"/>
<area shape="rect" href="vga_8c.html#a45e9968eec2281219a9fdb355c77930e" title="Clears row Y to spaces." alt="" coords="647,1968,727,1995"/>
<area shape="rect" href="io_8h.html#a1b48739bd493432acaca70a8d4e103cb" title="Writes the 16&#45;bit DATA to PORT." alt="" coords="876,2019,927,2045"/>
<area shape="rect" href="vga_8c.html#a9b860c306805e85629292c4ab39f0b14" title="Reads the current hardware cursor position into (*X,*Y)." alt="" coords="857,1563,945,1589"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="878,1816,925,1843"/>
<area shape="rect" href="string_8c.html#a5f1044208aaec0cf4e40beca9c5bef9c" title="Copies SIZE bytes from SRC to DST, which are allowed to overlap." alt="" coords="645,1917,729,1944"/>
<area shape="rect" href="speaker_8c.html#a073f7570ba87d9cbf510616817c60b41" title="Turn off the PC speaker, by disconnecting the timer channel&#39;s output from the speaker." alt="" coords="855,1461,947,1488"/>
<area shape="rect" href="speaker_8c.html#a7ae6bbf92a40862ee9523cd43e69f925" title="Sets the PC speaker to emit a tone at the given FREQUENCY, in Hz." alt="" coords="641,1461,733,1488"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="635,1765,738,1792"/>
</map>
</div>

</div>
</div>
<a id="af4de2514b7778805db3815e8dd6cf09a" name="af4de2514b7778805db3815e8dd6cf09a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4de2514b7778805db3815e8dd6cf09a">&#9670;&nbsp;</a></span>putchar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int putchar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes C to the vga display and serial port. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00163">163</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tests_8c_source.html#l00083">fail()</a>, <a class="el" href="tests_8c_source.html#l00067">msg()</a>, <a class="el" href="user_2console_8c_source.html#l00031">puts()</a>, and <a class="el" href="shell_8c_source.html#l00052">read_line()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_cgraph.png" border="0" usemap="#akernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_cgraph" alt=""/></div>
<map name="akernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_cgraph" id="akernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_cgraph">
<area shape="rect" title="Writes C to the vga display and serial port." alt="" coords="5,316,72,343"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="436,65,555,92"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="120,657,253,684"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="436,316,555,343"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1359,245,1449,272"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="646,397,743,424"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="835,297,984,338"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1191,499,1300,525"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="863,549,956,576"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1365,524,1443,551"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1348,473,1460,500"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1200,1005,1291,1032"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1037,955,1137,981"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1032,499,1143,525"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1038,600,1137,627"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1353,1005,1455,1032"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1201,955,1289,981"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="603,195,787,237"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="301,904,388,931"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="307,1791,383,1817"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="661,1183,728,1209"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="875,853,943,880"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="457,701,533,728"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="457,549,533,576"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="871,1664,947,1691"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="459,1360,531,1387"/>
<area shape="rect" href="intq_8c.html#a74912dc0f8bf3b5cfeecab5630ed3f89" title="Initializes interrupt queue Q." alt="" coords="875,1157,943,1184"/>
<area shape="rect" href="io_8h.html#a903c588b94e0e8386c8a6f8caa4a5a72" title="Writes byte DATA to PORT." alt="" coords="1063,1411,1111,1437"/>
<area shape="rect" href="serial_8c.html#aedccb1dc6702ff87426404495a2a05ea" title="Configures the serial port for BPS bits per second." alt="" coords="870,1259,949,1285"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1064,853,1111,880"/>
<area shape="rect" href="intq_8c.html#a34e623157a6c4f53ae29eda5d65b7395" title="Returns true if Q is empty, false otherwise." alt="" coords="651,1512,738,1539"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="646,499,743,525"/>
<area shape="rect" href="intq_8c.html#addd2664c1fa7444e1467b99e41e7192b" title=" " alt="" coords="666,701,723,728"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="672,651,717,677"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="871,701,948,728"/>
<area shape="rect" href="io_8h.html#a0223c8898dfec29069879dc51076e28a" title="Reads and returns a byte from PORT." alt="" coords="1067,1576,1107,1603"/>
<area shape="rect" href="input_8c.html#a60ec5bbf4a98fbdb4fae3124870ef055" title="Returns true if the input buffer is full, false otherwise." alt="" coords="657,1107,733,1133"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="476,1968,515,1995"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="645,2019,744,2045"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="675,1816,714,1843"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="462,1917,529,1944"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="442,1765,549,1792"/>
<area shape="rect" href="vga_8c.html#a45e9968eec2281219a9fdb355c77930e" title="Clears row Y to spaces." alt="" coords="655,1968,735,1995"/>
<area shape="rect" href="io_8h.html#a1b48739bd493432acaca70a8d4e103cb" title="Writes the 16&#45;bit DATA to PORT." alt="" coords="884,2019,935,2045"/>
<area shape="rect" href="vga_8c.html#a9b860c306805e85629292c4ab39f0b14" title="Reads the current hardware cursor position into (*X,*Y)." alt="" coords="865,1563,953,1589"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="886,1816,933,1843"/>
<area shape="rect" href="string_8c.html#a5f1044208aaec0cf4e40beca9c5bef9c" title="Copies SIZE bytes from SRC to DST, which are allowed to overlap." alt="" coords="653,1917,737,1944"/>
<area shape="rect" href="speaker_8c.html#a073f7570ba87d9cbf510616817c60b41" title="Turn off the PC speaker, by disconnecting the timer channel&#39;s output from the speaker." alt="" coords="863,1461,955,1488"/>
<area shape="rect" href="speaker_8c.html#a7ae6bbf92a40862ee9523cd43e69f925" title="Sets the PC speaker to emit a tone at the given FREQUENCY, in Hz." alt="" coords="649,1461,741,1488"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="643,1765,746,1792"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_icgraph.png" border="0" usemap="#akernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_icgraph" alt=""/></div>
<map name="akernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_icgraph" id="akernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_icgraph">
<area shape="rect" title="Writes C to the vga display and serial port." alt="" coords="640,81,707,108"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="534,5,573,32"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="530,56,577,83"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="530,107,577,133"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="515,157,592,184"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="396,56,467,83"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,56,348,83"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,56,227,83"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,56,88,83"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="406,157,457,184"/>
</map>
</div>

</div>
</div>
<a id="a5d98987075545c56db87c51597a04bdd" name="a5d98987075545c56db87c51597a04bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d98987075545c56db87c51597a04bdd">&#9670;&nbsp;</a></span>putchar_have_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void putchar_have_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes C to the vga display and serial port. </p>
<p >The caller has already acquired the console lock if appropriate. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00185">185</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="kernel_2console_8c_source.html#l00115">console_locked_by_current_thread()</a>, <a class="el" href="serial_8c_source.html#l00099">serial_putc()</a>, <a class="el" href="vga_8c_source.html#l00052">vga_putc()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00060">write_cnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00153">putbuf()</a>, <a class="el" href="kernel_2console_8c_source.html#l00163">putchar()</a>, <a class="el" href="kernel_2console_8c_source.html#l00140">puts()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00174">vprintf_helper()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_cgraph.png" border="0" usemap="#akernel_2console_8c_a5d98987075545c56db87c51597a04bdd_cgraph" alt=""/></div>
<map name="akernel_2console_8c_a5d98987075545c56db87c51597a04bdd_cgraph" id="akernel_2console_8c_a5d98987075545c56db87c51597a04bdd_cgraph">
<area shape="rect" title="Writes C to the vga display and serial port." alt="" coords="5,842,139,869"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="476,28,660,70"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="187,842,273,869"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="192,1754,268,1781"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1243,285,1333,312"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="709,143,859,184"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="908,209,1017,236"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1085,209,1162,236"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1067,158,1179,185"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1229,158,1347,185"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="535,1248,601,1274"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="750,665,818,692"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="337,310,413,337"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1078,994,1169,1021"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="913,994,1013,1021"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="337,462,413,489"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="746,1628,822,1654"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="339,817,411,844"/>
<area shape="rect" href="intq_8c.html#a74912dc0f8bf3b5cfeecab5630ed3f89" title="Initializes interrupt queue Q." alt="" coords="750,1222,818,1249"/>
<area shape="rect" href="io_8h.html#a903c588b94e0e8386c8a6f8caa4a5a72" title="Writes byte DATA to PORT." alt="" coords="939,1336,987,1362"/>
<area shape="rect" href="serial_8c.html#aedccb1dc6702ff87426404495a2a05ea" title="Configures the serial port for BPS bits per second." alt="" coords="745,1273,823,1300"/>
<area shape="rect" href="synch_8c.html#aa760472aa4916bba476b2165ea25b411" title="Initializes LOCK." alt="" coords="927,1222,998,1249"/>
<area shape="rect" href="synch_8c.html#a1349a31f4880cf4eae026761f0ab3343" title="This file is derived from source code for the Nachos instructional operating system." alt="" coords="1084,1222,1163,1249"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1237,766,1339,793"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="939,614,986,641"/>
<area shape="rect" href="intq_8c.html#a34e623157a6c4f53ae29eda5d65b7395" title="Returns true if Q is empty, false otherwise." alt="" coords="525,513,611,540"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="519,158,617,185"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="519,310,617,337"/>
<area shape="rect" href="intq_8c.html#addd2664c1fa7444e1467b99e41e7192b" title=" " alt="" coords="539,361,597,388"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="545,412,591,438"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="737,310,831,337"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1079,614,1167,641"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="745,868,823,894"/>
<area shape="rect" href="io_8h.html#a0223c8898dfec29069879dc51076e28a" title="Reads and returns a byte from PORT." alt="" coords="943,1552,983,1578"/>
<area shape="rect" href="input_8c.html#a60ec5bbf4a98fbdb4fae3124870ef055" title="Returns true if the input buffer is full, false otherwise." alt="" coords="530,766,606,793"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="355,1932,394,1958"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="519,1982,617,2009"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="549,1729,587,1756"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="341,1881,408,1908"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="321,1729,428,1756"/>
<area shape="rect" href="vga_8c.html#a45e9968eec2281219a9fdb355c77930e" title="Clears row Y to spaces." alt="" coords="528,1932,608,1958"/>
<area shape="rect" href="io_8h.html#a1b48739bd493432acaca70a8d4e103cb" title="Writes the 16&#45;bit DATA to PORT." alt="" coords="759,1982,809,2009"/>
<area shape="rect" href="vga_8c.html#a9b860c306805e85629292c4ab39f0b14" title="Reads the current hardware cursor position into (*X,*Y)." alt="" coords="740,1577,828,1604"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="761,1729,807,1756"/>
<area shape="rect" href="string_8c.html#a5f1044208aaec0cf4e40beca9c5bef9c" title="Copies SIZE bytes from SRC to DST, which are allowed to overlap." alt="" coords="526,1881,610,1908"/>
<area shape="rect" href="speaker_8c.html#a073f7570ba87d9cbf510616817c60b41" title="Turn off the PC speaker, by disconnecting the timer channel&#39;s output from the speaker." alt="" coords="738,1425,830,1452"/>
<area shape="rect" href="speaker_8c.html#a7ae6bbf92a40862ee9523cd43e69f925" title="Sets the PC speaker to emit a tone at the given FREQUENCY, in Hz." alt="" coords="522,1337,614,1364"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="517,1780,619,1806"/>
<area shape="rect" href="pit_8c.html#a7dd39bb359cbd638f9134488ab47db4c" title="Configure the given CHANNEL in the PIT." alt="" coords="708,1121,860,1148"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="1065,1780,1181,1806"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_icgraph.png" border="0" usemap="#akernel_2console_8c_a5d98987075545c56db87c51597a04bdd_icgraph" alt=""/></div>
<map name="akernel_2console_8c_a5d98987075545c56db87c51597a04bdd_icgraph" id="akernel_2console_8c_a5d98987075545c56db87c51597a04bdd_icgraph">
<area shape="rect" title="Writes C to the vga display and serial port." alt="" coords="1165,120,1299,147"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="1037,44,1095,71"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="793,56,860,83"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="1043,196,1089,223"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1015,145,1117,172"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="633,157,671,184"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="629,107,675,133"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="629,5,675,32"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="399,360,477,387"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="403,183,473,209"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="213,284,286,311"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="224,360,275,387"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="908,183,967,209"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="389,563,487,589"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="801,1095,853,1121"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="623,259,681,285"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="376,664,500,691"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="205,715,294,741"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="5,816,133,843"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="365,765,511,792"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="609,360,695,387"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="591,1019,713,1045"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="385,1120,491,1147"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="194,1095,305,1121"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="181,1196,317,1223"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="622,1323,682,1349"/>
<area shape="rect" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b" title="Prints console statistics." alt="" coords="583,1373,721,1400"/>
<area shape="rect" href="debug_8c.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="590,613,714,640"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="611,1424,693,1451"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="616,816,688,843"/>
<area shape="rect" href="exception_8c.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="Prints exception statistics." alt="" coords="578,1475,726,1501"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="601,1525,703,1552"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="401,1601,475,1628"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="603,1677,701,1704"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="619,1728,685,1755"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="616,1779,688,1805"/>
<area shape="rect" href="lib_2stdio_8c.html#af29b397e488c767a37e2f44c787b4746" title="Dumps the SIZE bytes in BUF to the console as hex bytes arranged 16 per line." alt="" coords="610,1627,694,1653"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="616,1829,688,1856"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="591,1880,713,1907"/>
<area shape="rect" href="interrupt_8c.html#aad193c7a44c7bea286a77a590b7fa194" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="591,1981,713,2008"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="419,1981,457,2008"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="207,2007,291,2033"/>
<area shape="rect" href="kbd_8c.html#ab7e600f1f09328e0f6e6e2052cd64181" title="Prints keyboard statistics." alt="" coords="596,2083,708,2109"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="622,411,682,437"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="629,461,675,488"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="627,512,677,539"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="385,1272,491,1299"/>
<area shape="rect" href="tests_8c.html#a660b914e4f3ad8cb93d763839e89ff6d" title="Prints a message indicating the current test passed." alt="" coords="627,867,677,893"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="611,917,693,944"/>
<area shape="rect" href="lib_2stdio_8c.html#a225f673cc2251206f9da043c5a55a80b" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="559,1171,745,1197"/>
</map>
</div>

</div>
</div>
<a id="ad41876f99f190c7488e64ef39c50a23f" name="ad41876f99f190c7488e64ef39c50a23f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad41876f99f190c7488e64ef39c50a23f">&#9670;&nbsp;</a></span>puts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int puts </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes string S to the console, followed by a new-line character. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00140">140</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>, <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>, and <a class="el" href="random_8c_source.html#l00017">s</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ad41876f99f190c7488e64ef39c50a23f_cgraph.png" border="0" usemap="#akernel_2console_8c_ad41876f99f190c7488e64ef39c50a23f_cgraph" alt=""/></div>
<map name="akernel_2console_8c_ad41876f99f190c7488e64ef39c50a23f_cgraph" id="akernel_2console_8c_ad41876f99f190c7488e64ef39c50a23f_cgraph">
<area shape="rect" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="5,316,52,343"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="416,65,535,92"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="100,657,233,684"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="416,316,535,343"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1339,245,1429,272"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="626,397,723,424"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="815,297,964,338"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1171,499,1280,525"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="843,549,936,576"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1345,524,1423,551"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1328,473,1440,500"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1180,1005,1271,1032"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1017,955,1117,981"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1012,499,1123,525"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1018,600,1117,627"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1333,1005,1435,1032"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1181,955,1269,981"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="583,195,767,237"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="281,904,368,931"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="287,1791,363,1817"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="641,1183,708,1209"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="855,853,923,880"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="437,701,513,728"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="437,549,513,576"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="851,1664,927,1691"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="439,1360,511,1387"/>
<area shape="rect" href="intq_8c.html#a74912dc0f8bf3b5cfeecab5630ed3f89" title="Initializes interrupt queue Q." alt="" coords="855,1157,923,1184"/>
<area shape="rect" href="io_8h.html#a903c588b94e0e8386c8a6f8caa4a5a72" title="Writes byte DATA to PORT." alt="" coords="1043,1411,1091,1437"/>
<area shape="rect" href="serial_8c.html#aedccb1dc6702ff87426404495a2a05ea" title="Configures the serial port for BPS bits per second." alt="" coords="850,1259,929,1285"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1044,853,1091,880"/>
<area shape="rect" href="intq_8c.html#a34e623157a6c4f53ae29eda5d65b7395" title="Returns true if Q is empty, false otherwise." alt="" coords="631,1512,718,1539"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="626,499,723,525"/>
<area shape="rect" href="intq_8c.html#addd2664c1fa7444e1467b99e41e7192b" title=" " alt="" coords="646,701,703,728"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="652,651,697,677"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="851,701,928,728"/>
<area shape="rect" href="io_8h.html#a0223c8898dfec29069879dc51076e28a" title="Reads and returns a byte from PORT." alt="" coords="1047,1576,1087,1603"/>
<area shape="rect" href="input_8c.html#a60ec5bbf4a98fbdb4fae3124870ef055" title="Returns true if the input buffer is full, false otherwise." alt="" coords="637,1107,713,1133"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="456,1968,495,1995"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="625,2019,724,2045"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="655,1816,694,1843"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="442,1917,509,1944"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="422,1765,529,1792"/>
<area shape="rect" href="vga_8c.html#a45e9968eec2281219a9fdb355c77930e" title="Clears row Y to spaces." alt="" coords="635,1968,715,1995"/>
<area shape="rect" href="io_8h.html#a1b48739bd493432acaca70a8d4e103cb" title="Writes the 16&#45;bit DATA to PORT." alt="" coords="864,2019,915,2045"/>
<area shape="rect" href="vga_8c.html#a9b860c306805e85629292c4ab39f0b14" title="Reads the current hardware cursor position into (*X,*Y)." alt="" coords="845,1563,933,1589"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="866,1816,913,1843"/>
<area shape="rect" href="string_8c.html#a5f1044208aaec0cf4e40beca9c5bef9c" title="Copies SIZE bytes from SRC to DST, which are allowed to overlap." alt="" coords="633,1917,717,1944"/>
<area shape="rect" href="speaker_8c.html#a073f7570ba87d9cbf510616817c60b41" title="Turn off the PC speaker, by disconnecting the timer channel&#39;s output from the speaker." alt="" coords="843,1461,935,1488"/>
<area shape="rect" href="speaker_8c.html#a7ae6bbf92a40862ee9523cd43e69f925" title="Sets the PC speaker to emit a tone at the given FREQUENCY, in Hz." alt="" coords="629,1461,721,1488"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="623,1765,726,1792"/>
</map>
</div>

</div>
</div>
<a id="ace2f2e53045fdaa51273a6e45cc63044" name="ace2f2e53045fdaa51273a6e45cc63044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace2f2e53045fdaa51273a6e45cc63044">&#9670;&nbsp;</a></span>release_console()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void release_console </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases the console lock. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00101">101</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00018">console_lock</a>, <a class="el" href="kernel_2console_8c_source.html#l00057">console_lock_depth</a>, <a class="el" href="interrupt_8c_source.html#l00212">intr_context()</a>, <a class="el" href="synch_8c_source.html#l00229">lock_release()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00153">putbuf()</a>, <a class="el" href="kernel_2console_8c_source.html#l00163">putchar()</a>, <a class="el" href="kernel_2console_8c_source.html#l00140">puts()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00126">vprintf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_cgraph.png" border="0" usemap="#akernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_cgraph" alt=""/></div>
<map name="akernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_cgraph" id="akernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_cgraph">
<area shape="rect" title="Releases the console lock." alt="" coords="5,26,124,53"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1007,123,1097,150"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="172,77,269,103"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="317,69,467,111"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="353,225,431,251"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="517,77,626,103"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="693,98,771,125"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="676,47,788,74"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="836,47,953,74"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="849,199,940,226"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="682,149,782,175"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="853,301,936,327"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="520,351,623,378"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="515,199,628,226"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1001,186,1103,213"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="851,149,939,175"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1013,301,1091,327"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1018,351,1086,378"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="696,351,768,378"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="849,453,940,479"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1012,453,1092,479"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="677,402,787,429"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="855,402,934,429"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1024,402,1080,429"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_icgraph.png" border="0" usemap="#akernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_icgraph" alt=""/></div>
<map name="akernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_icgraph" id="akernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_icgraph">
<area shape="rect" title="Releases the console lock." alt="" coords="1015,233,1133,260"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="908,157,967,184"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="793,107,860,133"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="914,309,961,336"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="908,259,967,285"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="633,107,671,133"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="629,157,675,184"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="629,5,675,32"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="399,81,477,108"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="403,157,473,184"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="224,81,275,108"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="389,613,487,640"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="801,1120,853,1147"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="623,2133,681,2160"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="376,728,500,755"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="205,728,294,755"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="5,917,133,944"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="365,867,511,893"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="609,208,695,235"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="591,1069,713,1096"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="385,1449,491,1476"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="194,1360,305,1387"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="181,1652,317,1679"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="622,1373,682,1400"/>
<area shape="rect" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b" title="Prints console statistics." alt="" coords="583,1424,721,1451"/>
<area shape="rect" href="debug_8c.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="590,613,714,640"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="611,1475,693,1501"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="616,1019,688,1045"/>
<area shape="rect" href="exception_8c.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="Prints exception statistics." alt="" coords="578,1525,726,1552"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="601,1576,703,1603"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="401,2007,475,2033"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="603,1728,701,1755"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="619,1779,685,1805"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="616,1829,688,1856"/>
<area shape="rect" href="lib_2stdio_8c.html#af29b397e488c767a37e2f44c787b4746" title="Dumps the SIZE bytes in BUF to the console as hex bytes arranged 16 per line." alt="" coords="610,1981,694,2008"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="616,1880,688,1907"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="591,1931,713,1957"/>
<area shape="rect" href="interrupt_8c.html#aad193c7a44c7bea286a77a590b7fa194" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="591,1171,713,1197"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="419,1171,457,1197"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="207,1196,291,1223"/>
<area shape="rect" href="kbd_8c.html#ab7e600f1f09328e0f6e6e2052cd64181" title="Prints keyboard statistics." alt="" coords="596,360,708,387"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="622,411,682,437"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="629,461,675,488"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="627,512,677,539"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="385,1677,491,1704"/>
<area shape="rect" href="tests_8c.html#a660b914e4f3ad8cb93d763839e89ff6d" title="Prints a message indicating the current test passed." alt="" coords="627,563,677,589"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="397,791,479,817"/>
<area shape="rect" href="lib_2stdio_8c.html#a225f673cc2251206f9da043c5a55a80b" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="559,1627,745,1653"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="594,968,710,995"/>
<area shape="rect" href="init_8c.html#ae58b8c3dee90e04a151d5f9ee45799c5" title="Breaks the kernel command line into words and returns them as an argv&#45;like array." alt="" coords="581,765,723,792"/>
</map>
</div>

</div>
</div>
<a id="aae4ab8b56862ed0a04505cafb8a05112" name="aae4ab8b56862ed0a04505cafb8a05112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae4ab8b56862ed0a04505cafb8a05112">&#9670;&nbsp;</a></span>vprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vprintf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The standard <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a> function, which is like <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> but uses a va_list. </p>
<p >Writes its output to both vga display and serial port. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00126">126</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="lib_2stdio_8c_source.html#l00157">__vprintf()</a>, <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00174">vprintf_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2debug_8c_source.html#l00019">debug_panic()</a>, <a class="el" href="tests_8c_source.html#l00083">fail()</a>, <a class="el" href="tests_8c_source.html#l00067">msg()</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, and <a class="el" href="insult_8c_source.html#l00249">usage()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_cgraph.png" border="0" usemap="#akernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_cgraph" alt=""/></div>
<map name="akernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_cgraph" id="akernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_cgraph">
<area shape="rect" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="5,284,64,311"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="127,157,200,184"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="748,467,867,493"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="581,309,700,336"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="112,259,215,285"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="296,157,363,184"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="275,208,383,235"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="279,56,379,83"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="266,5,393,32"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="298,107,361,133"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="444,77,533,104"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="461,5,517,32"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1671,440,1761,467"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="958,608,1055,635"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1147,491,1296,533"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1503,693,1612,720"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1175,744,1268,771"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1677,795,1755,821"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1660,719,1772,745"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1820,719,1937,745"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1512,1048,1603,1075"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1349,947,1449,973"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1344,1099,1455,1125"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1350,744,1449,771"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1665,1200,1767,1227"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1513,896,1601,923"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1523,1149,1591,1176"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1518,1099,1597,1125"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1519,795,1595,821"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="759,561,856,588"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="968,1073,1045,1100"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1180,1149,1263,1176"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1170,997,1273,1024"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1165,1099,1278,1125"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1360,1200,1439,1227"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="263,259,396,285"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="915,222,1099,263"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="445,1185,532,1212"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1183,179,1259,205"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="607,1185,674,1212"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="773,1467,841,1493"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="603,612,679,639"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="603,788,679,815"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="769,1416,845,1443"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="971,1555,1043,1581"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1380,85,1419,112"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1508,60,1607,87"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1380,136,1419,163"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1366,187,1433,213"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1504,947,1611,973"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_icgraph.png" border="0" usemap="#akernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_icgraph" alt=""/></div>
<map name="akernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_icgraph" id="akernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_icgraph">
<area shape="rect" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="1217,107,1276,133"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="713,461,811,488"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="957,107,995,133"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="953,5,999,32"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="1117,1196,1169,1223"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="947,2387,1005,2413"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="727,69,797,96"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="549,500,623,527"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="700,1069,824,1096"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="541,1044,631,1071"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="349,1044,477,1071"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="689,968,835,995"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="933,1171,1019,1197"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="915,1221,1037,1248"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="709,1373,815,1400"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="531,1424,641,1451"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="343,1461,483,1488"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="189,1461,295,1488"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="5,1348,141,1375"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="946,1576,1006,1603"/>
<area shape="rect" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b" title="Prints console statistics." alt="" coords="907,1627,1045,1653"/>
<area shape="rect" href="debug_8c.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="914,461,1038,488"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="935,1677,1017,1704"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="940,917,1012,944"/>
<area shape="rect" href="exception_8c.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="Prints exception statistics." alt="" coords="902,1728,1050,1755"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="925,1779,1027,1805"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="725,1855,799,1881"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="927,1931,1025,1957"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="943,1981,1009,2008"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="940,2032,1012,2059"/>
<area shape="rect" href="lib_2stdio_8c.html#af29b397e488c767a37e2f44c787b4746" title="Dumps the SIZE bytes in BUF to the console as hex bytes arranged 16 per line." alt="" coords="934,1880,1018,1907"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="940,2083,1012,2109"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="915,2133,1037,2160"/>
<area shape="rect" href="interrupt_8c.html#aad193c7a44c7bea286a77a590b7fa194" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="915,2285,1037,2312"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="743,2235,781,2261"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="544,2209,628,2236"/>
<area shape="rect" href="kbd_8c.html#ab7e600f1f09328e0f6e6e2052cd64181" title="Prints keyboard statistics." alt="" coords="920,2336,1032,2363"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="946,259,1006,285"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="953,309,999,336"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="951,360,1001,387"/>
<area shape="rect" href="tests_8c.html#a660b914e4f3ad8cb93d763839e89ff6d" title="Prints a message indicating the current test passed." alt="" coords="951,411,1001,437"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="721,183,803,209"/>
<area shape="rect" href="lib_2stdio_8c.html#a225f673cc2251206f9da043c5a55a80b" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="883,1323,1069,1349"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="918,512,1034,539"/>
<area shape="rect" href="init_8c.html#ae58b8c3dee90e04a151d5f9ee45799c5" title="Breaks the kernel command line into words and returns them as an argv&#45;like array." alt="" coords="905,208,1047,235"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="920,563,1032,589"/>
<area shape="rect" href="shutdown_8c.html#a4cc4519942eb3292f9ee3702330ebd07" title="Powers down the machine we&#39;re running on, as long as we&#39;re running on Bochs or QEMU." alt="" coords="903,613,1049,640"/>
<area shape="rect" href="shutdown_8c.html#a4e8c2a9ddd57dd588fd5b7c4464ea4a4" title="Reboots the machine via the keyboard controller." alt="" coords="914,664,1038,691"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="919,715,1033,741"/>
<area shape="rect" href="tests_2internal_2list_8c.html#a708a4c1a4d0c4acc4c447310dd4db27f" title="Test the linked list implementation." alt="" coords="954,816,998,843"/>
</map>
</div>

</div>
</div>
<a id="ada83ac3a119c57c68d54ab7a5c805de3" name="ada83ac3a119c57c68d54ab7a5c805de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada83ac3a119c57c68d54ab7a5c805de3">&#9670;&nbsp;</a></span>vprintf_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vprintf_helper </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>char_cnt_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a>. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00174">174</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00126">vprintf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_cgraph.png" border="0" usemap="#akernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_cgraph" alt=""/></div>
<map name="akernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_cgraph" id="akernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_cgraph">
<area shape="rect" title="Helper function for vprintf()." alt="" coords="5,828,108,855"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="156,828,289,855"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="627,14,811,55"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="337,828,424,855"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="343,1639,419,1665"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1393,187,1484,213"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="860,230,1009,271"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1059,195,1168,221"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1235,195,1313,221"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1218,347,1330,373"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1380,347,1497,373"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="685,1189,752,1216"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="901,651,969,677"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="487,296,563,323"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1229,929,1319,956"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1063,929,1163,956"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="487,448,563,475"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="897,1563,973,1589"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="489,803,561,829"/>
<area shape="rect" href="intq_8c.html#a74912dc0f8bf3b5cfeecab5630ed3f89" title="Initializes interrupt queue Q." alt="" coords="901,1005,969,1032"/>
<area shape="rect" href="io_8h.html#a903c588b94e0e8386c8a6f8caa4a5a72" title="Writes byte DATA to PORT." alt="" coords="1089,1272,1137,1299"/>
<area shape="rect" href="serial_8c.html#aedccb1dc6702ff87426404495a2a05ea" title="Configures the serial port for BPS bits per second." alt="" coords="895,1259,974,1285"/>
<area shape="rect" href="synch_8c.html#aa760472aa4916bba476b2165ea25b411" title="Initializes LOCK." alt="" coords="1078,1005,1149,1032"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1388,701,1489,728"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1090,600,1137,627"/>
<area shape="rect" href="intq_8c.html#a34e623157a6c4f53ae29eda5d65b7395" title="Returns true if Q is empty, false otherwise." alt="" coords="675,549,762,576"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="670,144,767,171"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="670,347,767,373"/>
<area shape="rect" href="intq_8c.html#addd2664c1fa7444e1467b99e41e7192b" title=" " alt="" coords="690,296,747,323"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="696,397,741,424"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="888,296,981,323"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1230,600,1318,627"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="896,803,973,829"/>
<area shape="rect" href="io_8h.html#a0223c8898dfec29069879dc51076e28a" title="Reads and returns a byte from PORT." alt="" coords="1093,1487,1133,1513"/>
<area shape="rect" href="input_8c.html#a60ec5bbf4a98fbdb4fae3124870ef055" title="Returns true if the input buffer is full, false otherwise." alt="" coords="681,752,757,779"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="506,1816,545,1843"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="669,1816,768,1843"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="699,1715,738,1741"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="492,1867,559,1893"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="472,1563,579,1589"/>
<area shape="rect" href="vga_8c.html#a45e9968eec2281219a9fdb355c77930e" title="Clears row Y to spaces." alt="" coords="679,1867,759,1893"/>
<area shape="rect" href="io_8h.html#a1b48739bd493432acaca70a8d4e103cb" title="Writes the 16&#45;bit DATA to PORT." alt="" coords="909,1816,960,1843"/>
<area shape="rect" href="vga_8c.html#a9b860c306805e85629292c4ab39f0b14" title="Reads the current hardware cursor position into (*X,*Y)." alt="" coords="891,1461,979,1488"/>
<area shape="rect" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="911,1715,958,1741"/>
<area shape="rect" href="string_8c.html#a5f1044208aaec0cf4e40beca9c5bef9c" title="Copies SIZE bytes from SRC to DST, which are allowed to overlap." alt="" coords="677,1917,761,1944"/>
<area shape="rect" href="speaker_8c.html#a073f7570ba87d9cbf510616817c60b41" title="Turn off the PC speaker, by disconnecting the timer channel&#39;s output from the speaker." alt="" coords="889,1360,981,1387"/>
<area shape="rect" href="speaker_8c.html#a7ae6bbf92a40862ee9523cd43e69f925" title="Sets the PC speaker to emit a tone at the given FREQUENCY, in Hz." alt="" coords="673,1360,765,1387"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="667,1664,770,1691"/>
<area shape="rect" href="pit_8c.html#a7dd39bb359cbd638f9134488ab47db4c" title="Configure the given CHANNEL in the PIT." alt="" coords="859,1107,1011,1133"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="1216,1664,1332,1691"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_icgraph.png" border="0" usemap="#akernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_icgraph" alt=""/></div>
<map name="akernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_icgraph" id="akernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_icgraph">
<area shape="rect" title="Helper function for vprintf()." alt="" coords="1324,107,1427,133"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="1217,107,1276,133"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="713,461,811,488"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="957,107,995,133"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="953,5,999,32"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="1117,1171,1169,1197"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="947,2336,1005,2363"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="727,69,797,96"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="549,512,623,539"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="700,1069,824,1096"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="541,1044,631,1071"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="349,1044,477,1071"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="689,968,835,995"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="933,1171,1019,1197"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="915,1221,1037,1248"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="709,1373,815,1400"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="531,1424,641,1451"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="343,1461,483,1488"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="189,1461,295,1488"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="5,1348,141,1375"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="946,1576,1006,1603"/>
<area shape="rect" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b" title="Prints console statistics." alt="" coords="907,1627,1045,1653"/>
<area shape="rect" href="debug_8c.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="914,563,1038,589"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="935,1677,1017,1704"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="940,917,1012,944"/>
<area shape="rect" href="exception_8c.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="Prints exception statistics." alt="" coords="902,1728,1050,1755"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="925,1779,1027,1805"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="725,1855,799,1881"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="927,1931,1025,1957"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="943,1981,1009,2008"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="940,2032,1012,2059"/>
<area shape="rect" href="lib_2stdio_8c.html#af29b397e488c767a37e2f44c787b4746" title="Dumps the SIZE bytes in BUF to the console as hex bytes arranged 16 per line." alt="" coords="934,1829,1018,1856"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="940,2083,1012,2109"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="915,2133,1037,2160"/>
<area shape="rect" href="interrupt_8c.html#aad193c7a44c7bea286a77a590b7fa194" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="915,2235,1037,2261"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="743,2235,781,2261"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="544,2209,628,2236"/>
<area shape="rect" href="kbd_8c.html#ab7e600f1f09328e0f6e6e2052cd64181" title="Prints keyboard statistics." alt="" coords="920,259,1032,285"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="946,309,1006,336"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="953,360,999,387"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="951,411,1001,437"/>
<area shape="rect" href="tests_8c.html#a660b914e4f3ad8cb93d763839e89ff6d" title="Prints a message indicating the current test passed." alt="" coords="951,512,1001,539"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="721,183,803,209"/>
<area shape="rect" href="lib_2stdio_8c.html#a225f673cc2251206f9da043c5a55a80b" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="883,1323,1069,1349"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="918,613,1034,640"/>
<area shape="rect" href="init_8c.html#ae58b8c3dee90e04a151d5f9ee45799c5" title="Breaks the kernel command line into words and returns them as an argv&#45;like array." alt="" coords="905,157,1047,184"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="920,664,1032,691"/>
<area shape="rect" href="shutdown_8c.html#a4cc4519942eb3292f9ee3702330ebd07" title="Powers down the machine we&#39;re running on, as long as we&#39;re running on Bochs or QEMU." alt="" coords="903,715,1049,741"/>
<area shape="rect" href="shutdown_8c.html#a4e8c2a9ddd57dd588fd5b7c4464ea4a4" title="Reboots the machine via the keyboard controller." alt="" coords="914,765,1038,792"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="919,816,1033,843"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7fb5294408703b8fe8fd28fade1c7e97" name="a7fb5294408703b8fe8fd28fade1c7e97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb5294408703b8fe8fd28fade1c7e97">&#9670;&nbsp;</a></span>console_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlock.html">lock</a> console_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The console lock. </p>
<p >Both the vga and serial layers do their own locking, so it's safe to call them at any time. But this lock is useful to prevent simultaneous <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> calls from mixing their output, which looks confusing. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00018">18</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="kernel_2console_8c_source.html#l00064">console_init()</a>, <a class="el" href="kernel_2console_8c_source.html#l00115">console_locked_by_current_thread()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>.</p>

</div>
</div>
<a id="a7b4ae2e6366de8f8f54ff63baed8efef" name="a7b4ae2e6366de8f8f54ff63baed8efef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4ae2e6366de8f8f54ff63baed8efef">&#9670;&nbsp;</a></span>console_lock_depth</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int console_lock_depth</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It's possible, if you add enough debug output to Pintos, to try to recursively grab console_lock from a single thread. </p>
<p >As a real example, I added a <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> call to palloc_free(). Here's a real backtrace that resulted:</p>
<p >lock_console() <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a> <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> - palloc() tries to grab the lock again palloc_free() <br  />
 <a class="el" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ...">thread_schedule_tail()</a> - another thread dying as we switch threads <a class="el" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process.">schedule()</a> <a class="el" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU.">thread_yield()</a> <a class="el" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers.">intr_handler()</a> - timer interrupt <a class="el" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status.">intr_set_level()</a> <a class="el" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port.">serial_putc()</a> <a class="el" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port.">putchar_have_lock()</a> <a class="el" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console.">putbuf()</a> sys_write() - one process writing to the console <a class="el" href="userprog_2syscall_8c.html#a0677570f8106abb0eea0902bda5b6a41">syscall_handler()</a> <a class="el" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers.">intr_handler()</a></p>
<p >This kind of thing is very difficult to debug, so we avoid the problem by simulating a recursive lock with a depth counter. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00057">57</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>.</p>

</div>
</div>
<a id="a11b18e6072b6f8c7e909b2cd99ed0baf" name="a11b18e6072b6f8c7e909b2cd99ed0baf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11b18e6072b6f8c7e909b2cd99ed0baf">&#9670;&nbsp;</a></span>use_console_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> use_console_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True in ordinary circumstances: we want to use the console lock to avoid mixing output between threads, as explained above. </p>
<p >False in early boot before the point that locks are functional or the console lock has been initialized, or after a kernel panics. In the former case, taking the lock would cause an assertion failure, which in turn would cause a panic, turning it into the latter case. In the latter case, if it is a buggy <a class="el" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary.">lock_acquire()</a> implementation that caused the panic, we'll likely just recurse. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00031">31</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="kernel_2console_8c_source.html#l00064">console_init()</a>, <a class="el" href="kernel_2console_8c_source.html#l00115">console_locked_by_current_thread()</a>, <a class="el" href="kernel_2console_8c_source.html#l00074">console_panic()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>.</p>

</div>
</div>
<a id="aacc7814fee36c7b7b592b43533653435" name="aacc7814fee36c7b7b592b43533653435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacc7814fee36c7b7b592b43533653435">&#9670;&nbsp;</a></span>write_cnt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> write_cnt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of characters written to console. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00060">60</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00081">console_print_stats()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 4 2021 19:31:04 for PKUOS - Pintos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
