<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PKUOS - Pintos: src/threads/vaddr.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PKUOS - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for PKU Operating System course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3454632d1a606e9a309cdaae2c26d5ae.html">threads</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">vaddr.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="debug_8h_source.html">debug.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stdint_8h_source.html">stdint.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stdbool_8h_source.html">stdbool.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="loader_8h_source.html">threads/loader.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vaddr.h:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h__incl.png" border="0" usemap="#asrc_2threads_2vaddr_8h" alt=""/></div>
<map name="asrc_2threads_2vaddr_8h" id="asrc_2threads_2vaddr_8h">
<area shape="rect" title=" " alt="" coords="83,5,219,32"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="5,80,76,107"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="180,155,245,181"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="152,80,228,107"/>
<area shape="rect" href="loader_8h.html" title=" " alt="" coords="252,80,371,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h__dep__incl.png" border="0" usemap="#asrc_2threads_2vaddr_8hdep" alt=""/></div>
<map name="asrc_2threads_2vaddr_8hdep" id="asrc_2threads_2vaddr_8hdep">
<area shape="rect" title=" " alt="" coords="813,5,949,32"/>
<area shape="rect" href="vga_8c.html" title=" " alt="" coords="5,80,129,107"/>
<area shape="rect" href="fsutil_8c.html" title=" " alt="" coords="154,80,277,107"/>
<area shape="rect" href="kernel_2debug_8c.html" title=" " alt="" coords="301,80,449,107"/>
<area shape="rect" href="interrupt_8c.html" title=" " alt="" coords="473,80,624,107"/>
<area shape="rect" href="malloc_8c.html" title=" " alt="" coords="648,80,788,107"/>
<area shape="rect" href="palloc_8c.html" title=" " alt="" coords="812,80,949,107"/>
<area shape="rect" href="pte_8h.html" title=" " alt="" coords="973,80,1095,107"/>
<area shape="rect" href="thread_8c.html" title=" " alt="" coords="1119,80,1259,107"/>
<area shape="rect" href="gdt_8c.html" title=" " alt="" coords="1283,80,1412,107"/>
<area shape="rect" href="process_8c.html" title=" " alt="" coords="1437,80,1594,107"/>
<area shape="rect" href="tss_8c.html" title=" " alt="" coords="1619,80,1745,107"/>
<area shape="rect" href="init_8c.html" title=" " alt="" coords="893,155,1012,181"/>
<area shape="rect" href="pagedir_8c.html" title=" " alt="" coords="1037,155,1191,181"/>
</map>
</div>
</div>
<p><a href="vaddr_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a041ba558b78270e7c648a238468415d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#a041ba558b78270e7c648a238468415d7">BITMASK</a>(SHIFT,  CNT)&#160;&#160;&#160;(((1ul &lt;&lt; (CNT)) - 1) &lt;&lt; (SHIFT))</td></tr>
<tr class="memdesc:a041ba558b78270e7c648a238468415d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions and macros for working with virtual addresses.  <a href="vaddr_8h.html#a041ba558b78270e7c648a238468415d7">More...</a><br /></td></tr>
<tr class="separator:a041ba558b78270e7c648a238468415d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d0b7c5f64f21a3fdc19cf44afe8ff2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#a20d0b7c5f64f21a3fdc19cf44afe8ff2">PGSHIFT</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a20d0b7c5f64f21a3fdc19cf44afe8ff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Page offset (bits 0:12).  <a href="vaddr_8h.html#a20d0b7c5f64f21a3fdc19cf44afe8ff2">More...</a><br /></td></tr>
<tr class="separator:a20d0b7c5f64f21a3fdc19cf44afe8ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902ef1e3aa6607afd5f2b89664935d9f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#a902ef1e3aa6607afd5f2b89664935d9f">PGBITS</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:a902ef1e3aa6607afd5f2b89664935d9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of offset bits.  <a href="vaddr_8h.html#a902ef1e3aa6607afd5f2b89664935d9f">More...</a><br /></td></tr>
<tr class="separator:a902ef1e3aa6607afd5f2b89664935d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f96cb6ae6670e023c407cc2f77e1704"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#a5f96cb6ae6670e023c407cc2f77e1704">PGSIZE</a>&#160;&#160;&#160;(1 &lt;&lt; <a class="el" href="vaddr_8h.html#a902ef1e3aa6607afd5f2b89664935d9f">PGBITS</a>)</td></tr>
<tr class="memdesc:a5f96cb6ae6670e023c407cc2f77e1704"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bytes in a page.  <a href="vaddr_8h.html#a5f96cb6ae6670e023c407cc2f77e1704">More...</a><br /></td></tr>
<tr class="separator:a5f96cb6ae6670e023c407cc2f77e1704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affe5ec210cfee6e00a8e3d238f44a43d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#affe5ec210cfee6e00a8e3d238f44a43d">PGMASK</a>&#160;&#160;&#160;<a class="el" href="vaddr_8h.html#a041ba558b78270e7c648a238468415d7">BITMASK</a>(<a class="el" href="vaddr_8h.html#a20d0b7c5f64f21a3fdc19cf44afe8ff2">PGSHIFT</a>, <a class="el" href="vaddr_8h.html#a902ef1e3aa6607afd5f2b89664935d9f">PGBITS</a>)</td></tr>
<tr class="memdesc:affe5ec210cfee6e00a8e3d238f44a43d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Page offset bits (0:12).  <a href="vaddr_8h.html#affe5ec210cfee6e00a8e3d238f44a43d">More...</a><br /></td></tr>
<tr class="separator:affe5ec210cfee6e00a8e3d238f44a43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b07a60522c2e603d7d3d0f7b52af36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#a75b07a60522c2e603d7d3d0f7b52af36">PHYS_BASE</a>&#160;&#160;&#160;((void *) <a class="el" href="loader_8h.html#a10b75136b59abc8e89cd1bc1fa28a920">LOADER_PHYS_BASE</a>)</td></tr>
<tr class="memdesc:a75b07a60522c2e603d7d3d0f7b52af36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base address of the 1:1 physical-to-virtual mapping.  <a href="vaddr_8h.html#a75b07a60522c2e603d7d3d0f7b52af36">More...</a><br /></td></tr>
<tr class="separator:a75b07a60522c2e603d7d3d0f7b52af36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac12acb882dfd1a70e6c8f69935dc3747"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747">pg_ofs</a> (const void *va)</td></tr>
<tr class="memdesc:ac12acb882dfd1a70e6c8f69935dc3747"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset within a page.  <a href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747">More...</a><br /></td></tr>
<tr class="separator:ac12acb882dfd1a70e6c8f69935dc3747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efae7b168a7e2234c0e4022d889bdc8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint_8h.html#a09674b9e56fd7a93a2169aa9210deec7">uintptr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8">pg_no</a> (const void *va)</td></tr>
<tr class="memdesc:a1efae7b168a7e2234c0e4022d889bdc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual page number.  <a href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8">More...</a><br /></td></tr>
<tr class="separator:a1efae7b168a7e2234c0e4022d889bdc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeebe6cc8a69d7e86d2e4150519bd7dd"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#adeebe6cc8a69d7e86d2e4150519bd7dd">pg_round_up</a> (const void *va)</td></tr>
<tr class="memdesc:adeebe6cc8a69d7e86d2e4150519bd7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round up to nearest page boundary.  <a href="vaddr_8h.html#adeebe6cc8a69d7e86d2e4150519bd7dd">More...</a><br /></td></tr>
<tr class="separator:adeebe6cc8a69d7e86d2e4150519bd7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42d21e08e54a8ca6c174c731df74fd3e"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e">pg_round_down</a> (const void *va)</td></tr>
<tr class="memdesc:a42d21e08e54a8ca6c174c731df74fd3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round down to nearest page boundary.  <a href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e">More...</a><br /></td></tr>
<tr class="separator:a42d21e08e54a8ca6c174c731df74fd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a702cb4149b88a734c4a30bdfaeeb10d0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0">is_user_vaddr</a> (const void *vaddr)</td></tr>
<tr class="memdesc:a702cb4149b88a734c4a30bdfaeeb10d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if VADDR is a user virtual address.  <a href="vaddr_8h.html#a702cb4149b88a734c4a30bdfaeeb10d0">More...</a><br /></td></tr>
<tr class="separator:a702cb4149b88a734c4a30bdfaeeb10d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a451f5e710dfb7831cb7be9a1e04f5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5">is_kernel_vaddr</a> (const void *vaddr)</td></tr>
<tr class="memdesc:ad3a451f5e710dfb7831cb7be9a1e04f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if VADDR is a kernel virtual address.  <a href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5">More...</a><br /></td></tr>
<tr class="separator:ad3a451f5e710dfb7831cb7be9a1e04f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ca05e66698904ad6a0c6ec2ad95e1c"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c">ptov</a> (<a class="el" href="stdint_8h.html#a09674b9e56fd7a93a2169aa9210deec7">uintptr_t</a> paddr)</td></tr>
<tr class="memdesc:ac8ca05e66698904ad6a0c6ec2ad95e1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns kernel virtual address at which physical address PADDR is mapped.  <a href="vaddr_8h.html#ac8ca05e66698904ad6a0c6ec2ad95e1c">More...</a><br /></td></tr>
<tr class="separator:ac8ca05e66698904ad6a0c6ec2ad95e1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f6ff2f4a18892d83d6e1c1a3c2d9f9b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint_8h.html#a09674b9e56fd7a93a2169aa9210deec7">uintptr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b">vtop</a> (const void *vaddr)</td></tr>
<tr class="memdesc:a0f6ff2f4a18892d83d6e1c1a3c2d9f9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns physical address at which kernel virtual address VADDR is mapped.  <a href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b">More...</a><br /></td></tr>
<tr class="separator:a0f6ff2f4a18892d83d6e1c1a3c2d9f9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a041ba558b78270e7c648a238468415d7" name="a041ba558b78270e7c648a238468415d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a041ba558b78270e7c648a238468415d7">&#9670;&nbsp;</a></span>BITMASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMASK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SHIFT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CNT&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((1ul &lt;&lt; (CNT)) - 1) &lt;&lt; (SHIFT))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Functions and macros for working with virtual addresses. </p>
<p >See <a class="el" href="pte_8h.html">pte.h</a> for functions and macros specifically for x86 hardware page tables. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00015">15</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

</div>
</div>
<a id="a902ef1e3aa6607afd5f2b89664935d9f" name="a902ef1e3aa6607afd5f2b89664935d9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902ef1e3aa6607afd5f2b89664935d9f">&#9670;&nbsp;</a></span>PGBITS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PGBITS&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of offset bits. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00019">19</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

</div>
</div>
<a id="affe5ec210cfee6e00a8e3d238f44a43d" name="affe5ec210cfee6e00a8e3d238f44a43d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affe5ec210cfee6e00a8e3d238f44a43d">&#9670;&nbsp;</a></span>PGMASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PGMASK&#160;&#160;&#160;<a class="el" href="vaddr_8h.html#a041ba558b78270e7c648a238468415d7">BITMASK</a>(<a class="el" href="vaddr_8h.html#a20d0b7c5f64f21a3fdc19cf44afe8ff2">PGSHIFT</a>, <a class="el" href="vaddr_8h.html#a902ef1e3aa6607afd5f2b89664935d9f">PGBITS</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Page offset bits (0:12). </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00021">21</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

</div>
</div>
<a id="a20d0b7c5f64f21a3fdc19cf44afe8ff2" name="a20d0b7c5f64f21a3fdc19cf44afe8ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20d0b7c5f64f21a3fdc19cf44afe8ff2">&#9670;&nbsp;</a></span>PGSHIFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PGSHIFT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Page offset (bits 0:12). </p>
<p >Index of first offset bit. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00018">18</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

</div>
</div>
<a id="a5f96cb6ae6670e023c407cc2f77e1704" name="a5f96cb6ae6670e023c407cc2f77e1704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f96cb6ae6670e023c407cc2f77e1704">&#9670;&nbsp;</a></span>PGSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PGSIZE&#160;&#160;&#160;(1 &lt;&lt; <a class="el" href="vaddr_8h.html#a902ef1e3aa6607afd5f2b89664935d9f">PGBITS</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bytes in a page. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00020">20</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

</div>
</div>
<a id="a75b07a60522c2e603d7d3d0f7b52af36" name="a75b07a60522c2e603d7d3d0f7b52af36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b07a60522c2e603d7d3d0f7b52af36">&#9670;&nbsp;</a></span>PHYS_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHYS_BASE&#160;&#160;&#160;((void *) <a class="el" href="loader_8h.html#a10b75136b59abc8e89cd1bc1fa28a920">LOADER_PHYS_BASE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base address of the 1:1 physical-to-virtual mapping. </p>
<p >Physical memory is mapped starting at this virtual address. Thus, physical address 0 is accessible at PHYS_BASE, physical address address 0x1234 at (uint8_t *) PHYS_BASE + 0x1234, and so on.</p>
<p >This address also marks the end of user programs' address space. Up to this point in memory, user programs are allowed to map whatever they like. At this point and above, the virtual address space belongs to the kernel. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00053">53</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad3a451f5e710dfb7831cb7be9a1e04f5" name="ad3a451f5e710dfb7831cb7be9a1e04f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3a451f5e710dfb7831cb7be9a1e04f5">&#9670;&nbsp;</a></span>is_kernel_vaddr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> is_kernel_vaddr </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if VADDR is a kernel virtual address. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00064">64</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

<p class="reference">References <a class="el" href="vaddr_8h_source.html#l00053">PHYS_BASE</a>.</p>

<p class="reference">Referenced by <a class="el" href="vaddr_8h_source.html#l00082">vtop()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h_ad3a451f5e710dfb7831cb7be9a1e04f5_icgraph.png" border="0" usemap="#avaddr_8h_ad3a451f5e710dfb7831cb7be9a1e04f5_icgraph" alt=""/></div>
<map name="avaddr_8h_ad3a451f5e710dfb7831cb7be9a1e04f5_icgraph" id="avaddr_8h_ad3a451f5e710dfb7831cb7be9a1e04f5_icgraph">
<area shape="rect" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1867,512,1983,539"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1772,512,1819,539"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1599,259,1719,285"/>
<area shape="rect" href="pagedir_8c.html#a87fb1ae04e5465c21f1cf3d07d85b199" title="Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by ..." alt="" coords="1225,563,1355,589"/>
<area shape="rect" href="init_8c.html#a83a23df197d45e3798aaa46d01d06af7" title="Populates the base page directory and page table with the kernel virtual mapping, and then sets up th..." alt="" coords="1438,613,1525,640"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="1615,512,1704,539"/>
<area shape="rect" href="pte_8h.html#abf0431b823576ecff35456407f0bd987" title="Returns a PTE that points to PAGE." alt="" coords="1595,563,1724,589"/>
<area shape="rect" href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="1416,284,1547,311"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1420,208,1543,235"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="1067,107,1164,133"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="1220,309,1360,336"/>
<area shape="rect" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="1212,360,1368,387"/>
<area shape="rect" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="1228,259,1352,285"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="769,309,815,336"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1217,157,1363,184"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="567,360,670,387"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,259,519,285"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,233,348,260"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,233,227,260"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,157,88,184"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1077,157,1153,184"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="743,208,841,235"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="922,107,1010,133"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="919,436,1013,463"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="597,259,640,285"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="572,157,665,184"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="596,309,641,336"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="401,208,513,235"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="411,157,504,184"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="740,157,844,184"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="773,56,811,83"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="735,5,849,32"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="567,208,671,235"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="403,365,512,392"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="416,487,499,513"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="405,56,509,83"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="577,5,661,32"/>
<area shape="rect" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers." alt="" coords="746,461,838,488"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="719,360,865,387"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="723,411,861,437"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="586,537,651,564"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="747,512,837,539"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="1069,392,1162,419"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="913,321,1019,348"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="919,372,1013,399"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="1432,411,1531,437"/>
<area shape="rect" href="pagedir_8c.html#a8093fa1c0a54bdc624cb6fb619a86746" title="Looks up the physical address that corresponds to user virtual address UADDR in PD." alt="" coords="1225,411,1355,437"/>
<area shape="rect" href="pagedir_8c.html#a417a00146a2d07eb0d0dfd7c7fd7f13c" title="Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is,..." alt="" coords="1217,512,1363,539"/>
<area shape="rect" href="pagedir_8c.html#a1d5de85f35e83577a5637b067da2d3c4" title="Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified..." alt="" coords="1232,461,1348,488"/>
<area shape="rect" href="pte_8h.html#a0783b95ac9d016f2faf796a22751cc9c" title="Returns a PTE that points to PAGE." alt="" coords="1422,563,1541,589"/>
</map>
</div>

</div>
</div>
<a id="a702cb4149b88a734c4a30bdfaeeb10d0" name="a702cb4149b88a734c4a30bdfaeeb10d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a702cb4149b88a734c4a30bdfaeeb10d0">&#9670;&nbsp;</a></span>is_user_vaddr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> is_user_vaddr </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if VADDR is a user virtual address. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00057">57</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

<p class="reference">References <a class="el" href="vaddr_8h_source.html#l00053">PHYS_BASE</a>.</p>

<p class="reference">Referenced by <a class="el" href="pagedir_8c_source.html#l00057">lookup_page()</a>, <a class="el" href="pagedir_8c_source.html#l00144">pagedir_clear_page()</a>, <a class="el" href="pagedir_8c_source.html#l00126">pagedir_get_page()</a>, <a class="el" href="pagedir_8c_source.html#l00099">pagedir_set_page()</a>, and <a class="el" href="process_8c_source.html#l00326">validate_segment()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h_a702cb4149b88a734c4a30bdfaeeb10d0_icgraph.png" border="0" usemap="#avaddr_8h_a702cb4149b88a734c4a30bdfaeeb10d0_icgraph" alt=""/></div>
<map name="avaddr_8h_a702cb4149b88a734c4a30bdfaeeb10d0_icgraph" id="avaddr_8h_a702cb4149b88a734c4a30bdfaeeb10d0_icgraph">
<area shape="rect" title="Returns true if VADDR is a user virtual address." alt="" coords="1491,157,1596,184"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="1344,157,1443,184"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="1148,5,1288,32"/>
<area shape="rect" href="pagedir_8c.html#a8093fa1c0a54bdc624cb6fb619a86746" title="Looks up the physical address that corresponds to user virtual address UADDR in PD." alt="" coords="1153,56,1283,83"/>
<area shape="rect" href="pagedir_8c.html#a87fb1ae04e5465c21f1cf3d07d85b199" title="Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by ..." alt="" coords="1153,309,1283,336"/>
<area shape="rect" href="process_8c.html#a6791a2f8c763395aef1dff4c8409550b" title="Checks whether PHDR describes a valid, loadable segment in FILE and returns true if so,..." alt="" coords="965,360,1092,387"/>
<area shape="rect" href="pagedir_8c.html#a417a00146a2d07eb0d0dfd7c7fd7f13c" title="Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is,..." alt="" coords="1145,107,1291,133"/>
<area shape="rect" href="pagedir_8c.html#a1d5de85f35e83577a5637b067da2d3c4" title="Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified..." alt="" coords="1160,157,1276,184"/>
<area shape="rect" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="1140,208,1296,235"/>
<area shape="rect" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="1156,259,1280,285"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="982,284,1075,311"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="812,309,917,336"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="818,259,911,285"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="717,309,764,336"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="567,309,669,336"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,309,519,336"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,309,348,336"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,309,227,336"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,309,88,336"/>
</map>
</div>

</div>
</div>
<a id="a1efae7b168a7e2234c0e4022d889bdc8" name="a1efae7b168a7e2234c0e4022d889bdc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1efae7b168a7e2234c0e4022d889bdc8">&#9670;&nbsp;</a></span>pg_no()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdint_8h.html#a09674b9e56fd7a93a2169aa9210deec7">uintptr_t</a> pg_no </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>va</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Virtual page number. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00029">29</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

<p class="reference">References <a class="el" href="vaddr_8h_source.html#l00019">PGBITS</a>.</p>

<p class="reference">Referenced by <a class="el" href="palloc_8c_source.html#l00175">page_from_pool()</a>, and <a class="el" href="palloc_8c_source.html#l00118">palloc_free_multiple()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h_a1efae7b168a7e2234c0e4022d889bdc8_icgraph.png" border="0" usemap="#avaddr_8h_a1efae7b168a7e2234c0e4022d889bdc8_icgraph" alt=""/></div>
<map name="avaddr_8h_a1efae7b168a7e2234c0e4022d889bdc8_icgraph" id="avaddr_8h_a1efae7b168a7e2234c0e4022d889bdc8_icgraph">
<area shape="rect" title="Virtual page number." alt="" coords="1887,1207,1945,1233"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1720,1181,1839,1208"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1532,1207,1672,1233"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="1217,523,1262,549"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1360,1232,1484,1259"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="995,5,1102,32"/>
<area shape="rect" href="bitmap_8c.html#adacf8862f49d7e7ceb1ba2368dd76698" title="Destroys bitmap B, freeing its storage." alt="" coords="992,333,1105,360"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="674,675,750,701"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="337,675,434,701"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="335,725,436,752"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="839,675,913,701"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="509,1029,586,1056"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="838,827,914,853"/>
<area shape="rect" href="hash_8c.html#ac69fc1bec8463507c3967d0f77653125" title="Destroys hash table H." alt="" coords="997,788,1100,815"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="1002,737,1095,764"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="827,889,925,916"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="995,523,1102,549"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="821,421,931,448"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="979,80,1119,107"/>
<area shape="rect" href="malloc_8c.html#a729621e4209745ef6edbe31f71a2a8eb" title="Attempts to resize OLD_BLOCK to NEW_SIZE bytes, possibly moving it in the process." alt="" coords="1018,131,1079,157"/>
<area shape="rect" href="hash_8c.html#afc76c6b6a33bf5fac77a82491e17dbf0" title="Changes the number of buckets in hash table H to match the ideal." alt="" coords="1017,181,1080,208"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="1007,232,1090,259"/>
<area shape="rect" href="free-map_8c.html#a5fa440f72db2c255d095ecf34aff9a7e" title="Initializes the free map." alt="" coords="825,5,927,32"/>
<area shape="rect" href="filesys_8c.html#aff15830b489ffbb2619bbb71a79656ee" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="495,675,599,701"/>
<area shape="rect" href="filesys_8c.html#a79d6e6b4a6c2295fba2322000c7c19fd" title="Opens the file with the given NAME." alt="" coords="499,725,595,752"/>
<area shape="rect" href="filesys_8c.html#ac536ffc3c10934a7f80e43e98b7c75ae" title="Deletes the file named NAME." alt="" coords="492,624,603,651"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="514,523,581,549"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="182,700,273,727"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="348,1055,423,1081"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="362,1207,409,1233"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="176,1333,279,1360"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="5,1384,128,1411"/>
<area shape="rect" href="directory_8c.html#afdea7fe972a97776e832c4324b0c4b9d" title="Opens the root directory and returns a directory for it." alt="" coords="660,573,764,600"/>
<area shape="rect" href="directory_8c.html#a8c479e18ce6294ba5d6c3fe23dd2b5bf" title="Opens and returns a new directory for the same inode as DIR." alt="" coords="669,624,755,651"/>
<area shape="rect" href="free-map_8c.html#ac00d55315a3b01794bcdc6cc9d5ba5f5" title="Writes the free map to disk and closes the free map file." alt="" coords="327,1004,444,1031"/>
<area shape="rect" href="file_8c.html#a71b69ddf56278e8e076d9ce48b9966b1" title="Opens and returns a new file for the same inode as FILE." alt="" coords="668,827,756,853"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="651,877,773,904"/>
<area shape="rect" href="free-map_8c.html#a82ae69d4b7534829d5c1672231c62370" title="Opens the free map file and reads it from disk." alt="" coords="654,776,770,803"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="667,523,757,549"/>
<area shape="rect" href="directory_8c.html#ab3951213f266ce0e0404203a35fefe8f" title="Creates a directory with space for ENTRY_CNT entries in the given SECTOR." alt="" coords="671,979,753,1005"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="679,472,745,499"/>
<area shape="rect" href="directory_8c.html#ae9ec2107e448111aca8951c2f7bfa61b" title="Reads the next directory entry in DIR and stores the name in NAME." alt="" coords="833,371,919,397"/>
<area shape="rect" href="file_8c.html#aa970e0e3d037e457750745798328db97" title="Reads SIZE bytes from FILE into BUFFER, starting at the file&#39;s current position." alt="" coords="675,1131,749,1157"/>
<area shape="rect" href="file_8c.html#a9f62f31208f5a024b47fc3ac90ed0b9c" title="Reads SIZE bytes from FILE into BUFFER, starting at offset FILE_OFS in the file." alt="" coords="830,573,922,600"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="845,523,907,549"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="495,1232,600,1259"/>
<area shape="rect" href="file_8c.html#a5c3629e8008d2ad73290be83f84d27eb" title="Writes SIZE bytes from BUFFER into FILE, starting at the file&#39;s current position." alt="" coords="510,573,585,600"/>
<area shape="rect" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="1181,1384,1298,1411"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="1193,1283,1286,1309"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1167,1131,1312,1157"/>
</map>
</div>

</div>
</div>
<a id="ac12acb882dfd1a70e6c8f69935dc3747" name="ac12acb882dfd1a70e6c8f69935dc3747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac12acb882dfd1a70e6c8f69935dc3747">&#9670;&nbsp;</a></span>pg_ofs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned pg_ofs </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>va</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Offset within a page. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00024">24</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

<p class="reference">References <a class="el" href="vaddr_8h_source.html#l00021">PGMASK</a>.</p>

<p class="reference">Referenced by <a class="el" href="malloc_8c_source.html#l00179">block_size()</a>, <a class="el" href="malloc_8c_source.html#l00268">block_to_arena()</a>, <a class="el" href="process_8c_source.html#l00383">load_segment()</a>, <a class="el" href="pagedir_8c_source.html#l00144">pagedir_clear_page()</a>, <a class="el" href="pagedir_8c_source.html#l00126">pagedir_get_page()</a>, <a class="el" href="pagedir_8c_source.html#l00099">pagedir_set_page()</a>, <a class="el" href="palloc_8c_source.html#l00118">palloc_free_multiple()</a>, <a class="el" href="pte_8h_source.html#l00071">pde_create()</a>, and <a class="el" href="pte_8h_source.html#l00087">pte_create_kernel()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h_ac12acb882dfd1a70e6c8f69935dc3747_icgraph.png" border="0" usemap="#avaddr_8h_ac12acb882dfd1a70e6c8f69935dc3747_icgraph" alt=""/></div>
<map name="avaddr_8h_ac12acb882dfd1a70e6c8f69935dc3747_icgraph" id="avaddr_8h_ac12acb882dfd1a70e6c8f69935dc3747_icgraph">
<area shape="rect" title="Offset within a page." alt="" coords="1389,798,1452,825"/>
<area shape="rect" href="malloc_8c.html#a5c458831ba323df0b0a8aae95cf614bd" title="Returns the number of bytes allocated for BLOCK." alt="" coords="866,393,950,419"/>
<area shape="rect" href="malloc_8c.html#a5db3c69e2b5fc7fb13fa1f663df2bf03" title="Returns the arena that block B is inside." alt="" coords="1035,747,1148,774"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="517,1406,623,1433"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="838,494,978,521"/>
<area shape="rect" href="pagedir_8c.html#a8093fa1c0a54bdc624cb6fb619a86746" title="Looks up the physical address that corresponds to user virtual address UADDR in PD." alt="" coords="843,950,973,977"/>
<area shape="rect" href="pagedir_8c.html#a87fb1ae04e5465c21f1cf3d07d85b199" title="Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by ..." alt="" coords="843,1026,973,1053"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1201,987,1341,1014"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="1227,590,1316,617"/>
<area shape="rect" href="pte_8h.html#abf0431b823576ecff35456407f0bd987" title="Returns a PTE that points to PAGE." alt="" coords="1207,849,1336,875"/>
<area shape="rect" href="malloc_8c.html#a1be0594bb47cfcf2e4616c3baa3b9e13" title="Initializes the malloc() descriptors." alt="" coords="687,38,773,65"/>
<area shape="rect" href="malloc_8c.html#a729621e4209745ef6edbe31f71a2a8eb" title="Attempts to resize OLD_BLOCK to NEW_SIZE bytes, possibly moving it in the process." alt="" coords="699,342,761,369"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="529,13,611,39"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="885,849,931,875"/>
<area shape="rect" href="malloc_8c.html#a9c36d0fe3ec4675cbffdc9b52f5fb399" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="878,545,938,571"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="677,595,783,622"/>
<area shape="rect" href="bitmap_8c.html#adacf8862f49d7e7ceb1ba2368dd76698" title="Destroys bitmap B, freeing its storage." alt="" coords="673,1153,787,1179"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="532,1279,608,1306"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="533,1051,607,1078"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="531,1127,609,1154"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="346,798,447,825"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="348,849,445,875"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="532,1203,608,1230"/>
<area shape="rect" href="hash_8c.html#ac69fc1bec8463507c3967d0f77653125" title="Destroys hash table H." alt="" coords="679,1001,781,1027"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="683,1203,777,1230"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="521,925,619,951"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="677,545,783,571"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="675,646,785,673"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="327,165,467,191"/>
<area shape="rect" href="hash_8c.html#afc76c6b6a33bf5fac77a82491e17dbf0" title="Changes the number of buckets in hash table H to match the ideal." alt="" coords="699,697,761,723"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="689,494,771,521"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="359,1482,434,1509"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="373,1431,420,1458"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="176,1558,279,1585"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="5,1659,128,1686"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="677,190,783,217"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="515,165,625,191"/>
<area shape="rect" href="malloc_8c.html#a9b551bee9453c331a3a4a5d95d255e2e" title="Allocates and return A times B bytes initialized to zeroes." alt="" coords="702,950,758,977"/>
<area shape="rect" href="hash_8c.html#a9865a9a0b79392bf398700fedf47a44a" title="Initializes hash table H to compute hash values using HASH and compare hash elements using LESS,..." alt="" coords="692,241,768,267"/>
<area shape="rect" href="inode_8c.html#a7adc21afc633b56d25a229ce0087c4a0" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="684,291,776,318"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="683,1406,777,1433"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="523,1457,617,1483"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1029,1558,1153,1585"/>
<area shape="rect" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="849,1609,967,1635"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="835,1659,981,1686"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="1042,590,1141,617"/>
<area shape="rect" href="init_8c.html#a83a23df197d45e3798aaa46d01d06af7" title="Populates the base page directory and page table with the kernel virtual mapping, and then sets up th..." alt="" coords="1048,539,1135,566"/>
<area shape="rect" href="pagedir_8c.html#a417a00146a2d07eb0d0dfd7c7fd7f13c" title="Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is,..." alt="" coords="835,443,981,470"/>
<area shape="rect" href="pagedir_8c.html#a1d5de85f35e83577a5637b067da2d3c4" title="Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified..." alt="" coords="850,342,966,369"/>
<area shape="rect" href="pte_8h.html#a0783b95ac9d016f2faf796a22751cc9c" title="Returns a PTE that points to PAGE." alt="" coords="1032,899,1151,926"/>
</map>
</div>

</div>
</div>
<a id="a42d21e08e54a8ca6c174c731df74fd3e" name="a42d21e08e54a8ca6c174c731df74fd3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42d21e08e54a8ca6c174c731df74fd3e">&#9670;&nbsp;</a></span>pg_round_down()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * pg_round_down </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>va</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Round down to nearest page boundary. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00039">39</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

<p class="reference">References <a class="el" href="vaddr_8h_source.html#l00021">PGMASK</a>.</p>

<p class="reference">Referenced by <a class="el" href="malloc_8c_source.html#l00268">block_to_arena()</a>, and <a class="el" href="thread_8c_source.html#l00430">running_thread()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h_a42d21e08e54a8ca6c174c731df74fd3e_icgraph.png" border="0" usemap="#avaddr_8h_a42d21e08e54a8ca6c174c731df74fd3e_icgraph" alt=""/></div>
<map name="avaddr_8h_a42d21e08e54a8ca6c174c731df74fd3e_icgraph" id="avaddr_8h_a42d21e08e54a8ca6c174c731df74fd3e_icgraph">
<area shape="rect" title="Round down to nearest page boundary." alt="" coords="1948,576,2065,603"/>
<area shape="rect" href="malloc_8c.html#a5db3c69e2b5fc7fb13fa1f663df2bf03" title="Returns the arena that block B is inside." alt="" coords="645,428,759,455"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1788,601,1900,628"/>
<area shape="rect" href="malloc_8c.html#a5c458831ba323df0b0a8aae95cf614bd" title="Returns the number of bytes allocated for BLOCK." alt="" coords="513,360,597,387"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="533,816,578,843"/>
<area shape="rect" href="malloc_8c.html#a9c36d0fe3ec4675cbffdc9b52f5fb399" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="525,419,585,445"/>
<area shape="rect" href="malloc_8c.html#a1be0594bb47cfcf2e4616c3baa3b9e13" title="Initializes the malloc() descriptors." alt="" coords="366,5,451,32"/>
<area shape="rect" href="malloc_8c.html#a729621e4209745ef6edbe31f71a2a8eb" title="Attempts to resize OLD_BLOCK to NEW_SIZE bytes, possibly moving it in the process." alt="" coords="378,360,439,387"/>
<area shape="rect" href="bitmap_8c.html#af3d1070908c2f73d4b18741f7fb5695e" title="Creation and destruction." alt="" coords="355,613,462,640"/>
<area shape="rect" href="bitmap_8c.html#adacf8862f49d7e7ceb1ba2368dd76698" title="Destroys bitmap B, freeing its storage." alt="" coords="352,1019,465,1045"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="211,1196,287,1223"/>
<area shape="rect" href="directory_8c.html#a12c77ad2315eb1079f7914b1b1b27ce2" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="212,1120,285,1147"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="210,1019,287,1045"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="25,917,126,944"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="27,1019,124,1045"/>
<area shape="rect" href="file_8c.html#a57cca369d13720dba680d09f76f96c70" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="211,867,287,893"/>
<area shape="rect" href="hash_8c.html#ac69fc1bec8463507c3967d0f77653125" title="Destroys hash table H." alt="" coords="357,1069,460,1096"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="362,1120,455,1147"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="199,613,298,640"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="355,715,462,741"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="354,512,463,539"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="5,157,145,184"/>
<area shape="rect" href="hash_8c.html#afc76c6b6a33bf5fac77a82491e17dbf0" title="Changes the number of buckets in hash table H to match the ideal." alt="" coords="377,563,440,589"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="367,664,450,691"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="52,1323,99,1349"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="356,56,461,83"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="193,107,304,133"/>
<area shape="rect" href="malloc_8c.html#a9b551bee9453c331a3a4a5d95d255e2e" title="Allocates and return A times B bytes initialized to zeroes." alt="" coords="381,461,437,488"/>
<area shape="rect" href="hash_8c.html#a9865a9a0b79392bf398700fedf47a44a" title="Initializes hash table H to compute hash values using HASH and compare hash elements using LESS,..." alt="" coords="371,208,447,235"/>
<area shape="rect" href="inode_8c.html#a7adc21afc633b56d25a229ce0087c4a0" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="363,259,455,285"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1105,736,1181,763"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1631,1007,1740,1033"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1240,736,1385,763"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="948,815,1047,841"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="953,1007,1041,1033"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="950,695,1045,721"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="832,992,875,1019"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="807,789,900,816"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="653,789,751,816"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="1461,1276,1555,1303"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1433,1159,1583,1201"/>
<area shape="rect" href="synch_8c.html#a343f11e4ce80e077a18e565b6d9ac180" title="Tries to acquires LOCK and returns true if successful or false on failure." alt="" coords="1253,1171,1372,1197"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="1450,1327,1566,1353"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1447,905,1569,932"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="1095,1057,1192,1084"/>
<area shape="rect" href="thread_8c.html#a7425a4395bacbf7d3e50ba10ff42f5b6" title="Returns the current thread&#39;s priority." alt="" coords="1441,1377,1575,1404"/>
<area shape="rect" href="thread_8c.html#a85a867dd25d3133aa461b3decb225db6" title="Returns the name of the running thread." alt="" coords="1458,1428,1558,1455"/>
<area shape="rect" href="thread_8c.html#a9956c9159ed8901839fa5581c41fcf4f" title="Sets the current thread&#39;s priority to NEW_PRIORITY." alt="" coords="1442,753,1574,780"/>
<area shape="rect" href="thread_8c.html#a99b55ae8059d7834cc113334a3fd0c3c" title="Called by the timer interrupt handler at each timer tick." alt="" coords="1465,804,1551,831"/>
<area shape="rect" href="thread_8c.html#ac4557309ef822a88c742c075ecb16a11" title="Returns the running thread&#39;s tid." alt="" coords="1467,855,1549,881"/>
</map>
</div>

</div>
</div>
<a id="adeebe6cc8a69d7e86d2e4150519bd7dd" name="adeebe6cc8a69d7e86d2e4150519bd7dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeebe6cc8a69d7e86d2e4150519bd7dd">&#9670;&nbsp;</a></span>pg_round_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * pg_round_up </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>va</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Round up to nearest page boundary. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00034">34</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

<p class="reference">References <a class="el" href="vaddr_8h_source.html#l00020">PGSIZE</a>.</p>

</div>
</div>
<a id="ac8ca05e66698904ad6a0c6ec2ad95e1c" name="ac8ca05e66698904ad6a0c6ec2ad95e1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ca05e66698904ad6a0c6ec2ad95e1c">&#9670;&nbsp;</a></span>ptov()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * ptov </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a09674b9e56fd7a93a2169aa9210deec7">uintptr_t</a>&#160;</td>
          <td class="paramname"><em>paddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns kernel virtual address at which physical address PADDR is mapped. </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00072">72</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, and <a class="el" href="vaddr_8h_source.html#l00053">PHYS_BASE</a>.</p>

<p class="reference">Referenced by <a class="el" href="pagedir_8c_source.html#l00235">active_pd()</a>, <a class="el" href="vga_8c_source.html#l00037">init()</a>, <a class="el" href="init_8c_source.html#l00162">paging_init()</a>, <a class="el" href="palloc_8c_source.html#l00046">palloc_init()</a>, <a class="el" href="pte_8h_source.html#l00078">pde_get_pt()</a>, <a class="el" href="pte_8h_source.html#l00102">pte_get_page()</a>, and <a class="el" href="init_8c_source.html#l00198">read_command_line()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h_ac8ca05e66698904ad6a0c6ec2ad95e1c_icgraph.png" border="0" usemap="#avaddr_8h_ac8ca05e66698904ad6a0c6ec2ad95e1c_icgraph" alt=""/></div>
<map name="avaddr_8h_ac8ca05e66698904ad6a0c6ec2ad95e1c_icgraph" id="avaddr_8h_ac8ca05e66698904ad6a0c6ec2ad95e1c_icgraph">
<area shape="rect" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="1600,689,1647,716"/>
<area shape="rect" href="pagedir_8c.html#a04a6fbff68b847cb657284fc95ab813a" title="Returns the currently active page directory." alt="" coords="1472,500,1551,527"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1492,365,1531,392"/>
<area shape="rect" href="init_8c.html#ae58b8c3dee90e04a151d5f9ee45799c5" title="Breaks the kernel command line into words and returns them as an argv&#45;like array." alt="" coords="459,563,601,589"/>
<area shape="rect" href="init_8c.html#a83a23df197d45e3798aaa46d01d06af7" title="Populates the base page directory and page table with the kernel virtual mapping, and then sets up th..." alt="" coords="1335,841,1421,868"/>
<area shape="rect" href="palloc_8c.html#acc2c206763e5de4e4414fda821ca6db8" title="Initializes the page allocator." alt="" coords="1471,740,1552,767"/>
<area shape="rect" href="pte_8h.html#af261409ae0b2376eb84f0141af6269df" title="Returns a pointer to the page table that page directory entry PDE, which must &quot;present&quot;,..." alt="" coords="1333,689,1423,716"/>
<area shape="rect" href="pte_8h.html#a74bfe6c82c7b9fe6c3d8a95bf720615c" title="Returns a pointer to the page that page table entry PTE points to." alt="" coords="1167,664,1271,691"/>
<area shape="rect" href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="1153,433,1284,460"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="956,461,1096,488"/>
<area shape="rect" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="948,360,1104,387"/>
<area shape="rect" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="964,411,1088,437"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1340,281,1416,308"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1152,157,1285,184"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="997,157,1055,184"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="669,56,735,83"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="1003,107,1049,133"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="975,208,1077,235"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="511,107,549,133"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="507,157,553,184"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="507,5,553,32"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="491,56,569,83"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="162,233,233,260"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="10,309,83,336"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="333,56,384,83"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="822,208,881,235"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="481,259,579,285"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="676,335,728,361"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="501,208,559,235"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="511,461,549,488"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,639,88,665"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="317,417,401,444"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="507,512,553,539"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="473,613,587,640"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="145,468,249,495"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="307,525,410,552"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="136,525,259,552"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="1169,537,1268,564"/>
<area shape="rect" href="pagedir_8c.html#ab1919f57e1ba60ed2c2f46b4410e9799" title="Destroys page directory PD, freeing all the pages it references." alt="" coords="967,715,1085,741"/>
<area shape="rect" href="pagedir_8c.html#a8093fa1c0a54bdc624cb6fb619a86746" title="Looks up the physical address that corresponds to user virtual address UADDR in PD." alt="" coords="961,664,1091,691"/>
<area shape="rect" href="pagedir_8c.html#a417a00146a2d07eb0d0dfd7c7fd7f13c" title="Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is,..." alt="" coords="953,563,1099,589"/>
<area shape="rect" href="pagedir_8c.html#a1d5de85f35e83577a5637b067da2d3c4" title="Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified..." alt="" coords="968,613,1084,640"/>
<area shape="rect" href="pagedir_8c.html#a87fb1ae04e5465c21f1cf3d07d85b199" title="Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by ..." alt="" coords="961,512,1091,539"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="805,525,898,552"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="649,500,755,527"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="655,551,749,577"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="803,715,900,741"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="658,715,746,741"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="478,715,582,741"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="307,664,411,691"/>
</map>
</div>

</div>
</div>
<a id="a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" name="a0f6ff2f4a18892d83d6e1c1a3c2d9f9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b">&#9670;&nbsp;</a></span>vtop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdint_8h.html#a09674b9e56fd7a93a2169aa9210deec7">uintptr_t</a> vtop </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>vaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns physical address at which kernel virtual address VADDR is mapped. </p>
<p ><a class="el" href="vaddr_8h.html">threads/vaddr.h</a> </p>

<p class="definition">Definition at line <a class="el" href="vaddr_8h_source.html#l00082">82</a> of file <a class="el" href="vaddr_8h_source.html">vaddr.h</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="vaddr_8h_source.html#l00064">is_kernel_vaddr()</a>, and <a class="el" href="vaddr_8h_source.html#l00053">PHYS_BASE</a>.</p>

<p class="reference">Referenced by <a class="el" href="pagedir_8c_source.html#l00220">pagedir_activate()</a>, <a class="el" href="pagedir_8c_source.html#l00099">pagedir_set_page()</a>, <a class="el" href="init_8c_source.html#l00162">paging_init()</a>, <a class="el" href="pte_8h_source.html#l00071">pde_create()</a>, and <a class="el" href="pte_8h_source.html#l00087">pte_create_kernel()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h_a0f6ff2f4a18892d83d6e1c1a3c2d9f9b_cgraph.png" border="0" usemap="#avaddr_8h_a0f6ff2f4a18892d83d6e1c1a3c2d9f9b_cgraph" alt=""/></div>
<map name="avaddr_8h_a0f6ff2f4a18892d83d6e1c1a3c2d9f9b_cgraph" id="avaddr_8h_a0f6ff2f4a18892d83d6e1c1a3c2d9f9b_cgraph">
<area shape="rect" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="5,5,52,32"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="100,5,216,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vaddr_8h_a0f6ff2f4a18892d83d6e1c1a3c2d9f9b_icgraph.png" border="0" usemap="#avaddr_8h_a0f6ff2f4a18892d83d6e1c1a3c2d9f9b_icgraph" alt=""/></div>
<map name="avaddr_8h_a0f6ff2f4a18892d83d6e1c1a3c2d9f9b_icgraph" id="avaddr_8h_a0f6ff2f4a18892d83d6e1c1a3c2d9f9b_icgraph">
<area shape="rect" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1772,512,1819,539"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1599,259,1719,285"/>
<area shape="rect" href="pagedir_8c.html#a87fb1ae04e5465c21f1cf3d07d85b199" title="Adds a mapping in page directory PD from user virtual page UPAGE to the physical frame identified by ..." alt="" coords="1225,563,1355,589"/>
<area shape="rect" href="init_8c.html#a83a23df197d45e3798aaa46d01d06af7" title="Populates the base page directory and page table with the kernel virtual mapping, and then sets up th..." alt="" coords="1438,613,1525,640"/>
<area shape="rect" href="pte_8h.html#a9004800442e14f214a2c63643fbaffd4" title="Returns a PDE that points to page table PT." alt="" coords="1615,461,1704,488"/>
<area shape="rect" href="pte_8h.html#abf0431b823576ecff35456407f0bd987" title="Returns a PTE that points to PAGE." alt="" coords="1595,563,1724,589"/>
<area shape="rect" href="pagedir_8c.html#a34a30f77936061902485b4d0f97f7621" title="Seom page table changes can cause the CPU&#39;s translation lookaside buffer (TLB) to become out&#45;of&#45;sync ..." alt="" coords="1416,284,1547,311"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1420,208,1543,235"/>
<area shape="rect" href="process_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title="Free the current process&#39;s resources." alt="" coords="1067,107,1164,133"/>
<area shape="rect" href="pagedir_8c.html#a6379f06b2c8e0923c86e5948ff1da7a9" title="Marks user virtual page UPAGE &quot;not present&quot; in page directory PD." alt="" coords="1220,309,1360,336"/>
<area shape="rect" href="pagedir_8c.html#a2fabddf918d199c2996a61357a584173" title="Sets the accessed bit to ACCESSED in the PTE for virtual page VPAGE in PD." alt="" coords="1212,360,1368,387"/>
<area shape="rect" href="pagedir_8c.html#a15ac1b1be9791df0327744a9f7801811" title="Set the dirty bit to DIRTY in the PTE for virtual page VPAGE in PD." alt="" coords="1228,259,1352,285"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="769,309,815,336"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="1217,157,1363,184"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="567,360,670,387"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,309,519,336"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,284,348,311"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,284,227,311"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,208,88,235"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1077,157,1153,184"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="743,208,841,235"/>
<area shape="rect" href="thread_8c.html#a87c2438941819bb3cc31658aa9eb66fe" title="Deschedules the current thread and destroys it." alt="" coords="922,107,1010,133"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="919,455,1013,481"/>
<area shape="rect" href="thread_8c.html#a6fbc1c29ff118d92ee1449a1072a00ce" title="Idle thread." alt="" coords="597,259,640,285"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="572,157,665,184"/>
<area shape="rect" href="intq_8c.html#ac7faf9c8b94faf0aa76ed2b23659a3e0" title="WAITER must be the address of Q&#39;s not_empty or not_full member." alt="" coords="596,309,641,336"/>
<area shape="rect" href="synch_8c.html#a408896d5b2af213dc2a8da984c696419" title="Atomically releases LOCK and waits for COND to be signaled by some other piece of code." alt="" coords="416,157,499,184"/>
<area shape="rect" href="synch_8c.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="401,259,513,285"/>
<area shape="rect" href="thread_8c.html#a07e468d365e1799676192b95b2067f59" title="Starts preemptive thread scheduling by enabling interrupts." alt="" coords="411,208,504,235"/>
<area shape="rect" href="thread_8c.html#ac40007d0837868671dffa80f581b4723" title="Function used as the basis for a kernel thread." alt="" coords="740,157,844,184"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="773,56,811,83"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="735,5,849,32"/>
<area shape="rect" href="thread_8c.html#a8f7759a71c1c49fc8761ef92aa90a36d" title="Creates a new kernel thread named NAME with the given initial PRIORITY, which executes FUNCTION passi..." alt="" coords="567,208,671,235"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="403,391,512,417"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="416,487,499,513"/>
<area shape="rect" href="exception_8c.html#a9dda131d124b9968825742beac31305d" title="Registers handlers for interrupts that can be caused by user programs." alt="" coords="405,56,509,83"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="577,5,661,32"/>
<area shape="rect" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers." alt="" coords="746,461,838,488"/>
<area shape="rect" href="priority-donate-nest_8c.html#ada3ddea14ea0cb3220f0a00cfa7929dc" title=" " alt="" coords="719,360,865,387"/>
<area shape="rect" href="priority-fifo_8c.html#a09afbb5707a2af609420fccb0795b96c" title=" " alt="" coords="723,411,861,437"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="586,537,651,564"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="747,512,837,539"/>
<area shape="rect" href="process_8c.html#ab4e661e47c4e4ea1ff72e66de3efd823" title="load() helpers." alt="" coords="1069,391,1162,417"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="913,321,1019,348"/>
<area shape="rect" href="process_8c.html#a5064a62e44eba6572e28f9e2274b4e84" title="Create a minimal stack by mapping a zeroed page at the top of user virtual memory." alt="" coords="919,379,1013,405"/>
<area shape="rect" href="pagedir_8c.html#a309fc79834d80e78b36294f270927744" title="Returns the address of the page table entry for virtual address VADDR in page directory PD." alt="" coords="1432,436,1531,463"/>
<area shape="rect" href="pagedir_8c.html#a8093fa1c0a54bdc624cb6fb619a86746" title="Looks up the physical address that corresponds to user virtual address UADDR in PD." alt="" coords="1225,411,1355,437"/>
<area shape="rect" href="pagedir_8c.html#a417a00146a2d07eb0d0dfd7c7fd7f13c" title="Returns true if the PTE for virtual page VPAGE in PD has been accessed recently, that is,..." alt="" coords="1217,461,1363,488"/>
<area shape="rect" href="pagedir_8c.html#a1d5de85f35e83577a5637b067da2d3c4" title="Returns true if the PTE for virtual page VPAGE in PD is dirty, that is, if the page has been modified..." alt="" coords="1232,512,1348,539"/>
<area shape="rect" href="pte_8h.html#a0783b95ac9d016f2faf796a22751cc9c" title="Returns a PTE that points to PAGE." alt="" coords="1422,563,1541,589"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 4 2021 19:31:07 for PKUOS - Pintos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
