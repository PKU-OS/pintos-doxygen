<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PKUOS - Pintos: src/devices/timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PKUOS - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for PKU Operating System course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_6fac9273c1f4413d2ee63ba6cd0b0eb2.html">devices</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">timer.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="round_8h_source.html">round.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stdint_8h_source.html">stdint.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for timer.h:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h__incl.png" border="0" usemap="#asrc_2devices_2timer_8h" alt=""/></div>
<map name="asrc_2devices_2timer_8h" id="asrc_2devices_2timer_8h">
<area shape="rect" title=" " alt="" coords="17,5,151,32"/>
<area shape="rect" href="round_8h.html" title=" " alt="" coords="5,80,72,107"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="97,80,162,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h__dep__incl.png" border="0" usemap="#asrc_2devices_2timer_8hdep" alt=""/></div>
<map name="asrc_2devices_2timer_8hdep" id="asrc_2devices_2timer_8hdep">
<area shape="rect" title=" " alt="" coords="1744,5,1877,32"/>
<area shape="rect" href="ide_8c.html" title=" " alt="" coords="5,87,125,114"/>
<area shape="rect" href="serial_8c.html" title=" " alt="" coords="150,87,285,114"/>
<area shape="rect" href="shutdown_8c.html" title=" " alt="" coords="309,87,469,114"/>
<area shape="rect" href="speaker_8c.html" title=" " alt="" coords="494,87,645,114"/>
<area shape="rect" href="timer_8c.html" title=" " alt="" coords="669,87,801,114"/>
<area shape="rect" href="alarm-negative_8c.html" title=" " alt="" coords="825,80,983,121"/>
<area shape="rect" href="alarm-priority_8c.html" title=" " alt="" coords="1007,80,1164,121"/>
<area shape="rect" href="alarm-simultaneous_8c.html" title=" " alt="" coords="1188,80,1345,121"/>
<area shape="rect" href="alarm-wait_8c.html" title=" " alt="" coords="1369,80,1527,121"/>
<area shape="rect" href="alarm-zero_8c.html" title=" " alt="" coords="1551,80,1708,121"/>
<area shape="rect" href="mlfqs-block_8c.html" title=" " alt="" coords="1733,80,1889,121"/>
<area shape="rect" href="mlfqs-fair_8c.html" title=" " alt="" coords="1913,80,2069,121"/>
<area shape="rect" href="mlfqs-load-1_8c.html" title=" " alt="" coords="2093,80,2249,121"/>
<area shape="rect" href="mlfqs-load-60_8c.html" title=" " alt="" coords="2273,80,2429,121"/>
<area shape="rect" href="mlfqs-load-avg_8c.html" title=" " alt="" coords="2453,80,2609,121"/>
<area shape="rect" href="mlfqs-recent-1_8c.html" title=" " alt="" coords="2633,80,2789,121"/>
<area shape="rect" href="priority-condvar_8c.html" title=" " alt="" coords="2813,80,2977,121"/>
<area shape="rect" href="priority-fifo_8c.html" title=" " alt="" coords="3001,80,3165,121"/>
<area shape="rect" href="priority-sema_8c.html" title=" " alt="" coords="3189,80,3353,121"/>
<area shape="rect" href="init_8c.html" title=" " alt="" coords="3377,87,3495,114"/>
<area shape="rect" href="interrupt_8c.html" title=" " alt="" coords="3519,87,3670,114"/>
</map>
</div>
</div>
<p><a href="timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acf926951944b6cf370b7229ebd50dd8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#acf926951944b6cf370b7229ebd50dd8b">TIMER_FREQ</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:acf926951944b6cf370b7229ebd50dd8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of timer interrupts per second.  <a href="timer_8h.html#acf926951944b6cf370b7229ebd50dd8b">More...</a><br /></td></tr>
<tr class="separator:acf926951944b6cf370b7229ebd50dd8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7b8ab79df77b57475a5494f5f81c3bd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a7b8ab79df77b57475a5494f5f81c3bd9">timer_init</a> (void)</td></tr>
<tr class="memdesc:a7b8ab79df77b57475a5494f5f81c3bd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the timer to interrupt TIMER_FREQ times per second, and registers the corresponding interrupt.  <a href="timer_8h.html#a7b8ab79df77b57475a5494f5f81c3bd9">More...</a><br /></td></tr>
<tr class="separator:a7b8ab79df77b57475a5494f5f81c3bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4e243d361cd252de04175b1b53c419"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a8a4e243d361cd252de04175b1b53c419">timer_calibrate</a> (void)</td></tr>
<tr class="memdesc:a8a4e243d361cd252de04175b1b53c419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrates loops_per_tick, used to implement brief delays.  <a href="timer_8h.html#a8a4e243d361cd252de04175b1b53c419">More...</a><br /></td></tr>
<tr class="separator:a8a4e243d361cd252de04175b1b53c419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b50be77101b38176d21b52cc425cf3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a2b50be77101b38176d21b52cc425cf3e">timer_ticks</a> (void)</td></tr>
<tr class="memdesc:a2b50be77101b38176d21b52cc425cf3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of timer ticks since the OS booted.  <a href="timer_8h.html#a2b50be77101b38176d21b52cc425cf3e">More...</a><br /></td></tr>
<tr class="separator:a2b50be77101b38176d21b52cc425cf3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221ee760ed92265757f16624ebcd8276"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a221ee760ed92265757f16624ebcd8276">timer_elapsed</a> (<a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>)</td></tr>
<tr class="memdesc:a221ee760ed92265757f16624ebcd8276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of timer ticks elapsed since THEN, which should be a value once returned by <a class="el" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted.">timer_ticks()</a>.  <a href="timer_8h.html#a221ee760ed92265757f16624ebcd8276">More...</a><br /></td></tr>
<tr class="separator:a221ee760ed92265757f16624ebcd8276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24fbc19fb550d9efd5cabd97489a399"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#aa24fbc19fb550d9efd5cabd97489a399">timer_sleep</a> (<a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> <a class="el" href="timer_8c.html#a5abc96ece67c6d8a3a60051a0339e5a0">ticks</a>)</td></tr>
<tr class="memdesc:aa24fbc19fb550d9efd5cabd97489a399"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleep and yield the CPU to other threads.  <a href="timer_8h.html#aa24fbc19fb550d9efd5cabd97489a399">More...</a><br /></td></tr>
<tr class="separator:aa24fbc19fb550d9efd5cabd97489a399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a7443a6a2ef5281ba3462adc8194b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a95a7443a6a2ef5281ba3462adc8194b2">timer_msleep</a> (<a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> milliseconds)</td></tr>
<tr class="memdesc:a95a7443a6a2ef5281ba3462adc8194b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleeps for approximately MS milliseconds.  <a href="timer_8h.html#a95a7443a6a2ef5281ba3462adc8194b2">More...</a><br /></td></tr>
<tr class="separator:a95a7443a6a2ef5281ba3462adc8194b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3924bff1757334dec99e7b12f09c01f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#ab3924bff1757334dec99e7b12f09c01f">timer_usleep</a> (<a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> microseconds)</td></tr>
<tr class="memdesc:ab3924bff1757334dec99e7b12f09c01f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleeps for approximately US microseconds.  <a href="timer_8h.html#ab3924bff1757334dec99e7b12f09c01f">More...</a><br /></td></tr>
<tr class="separator:ab3924bff1757334dec99e7b12f09c01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab763b3657767b814095f563034f0f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#abab763b3657767b814095f563034f0f1">timer_nsleep</a> (<a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> nanoseconds)</td></tr>
<tr class="memdesc:abab763b3657767b814095f563034f0f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleeps for approximately NS nanoseconds.  <a href="timer_8h.html#abab763b3657767b814095f563034f0f1">More...</a><br /></td></tr>
<tr class="separator:abab763b3657767b814095f563034f0f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d0255e05efb4bd466d8fe375dc54e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a79d0255e05efb4bd466d8fe375dc54e2">timer_mdelay</a> (<a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> milliseconds)</td></tr>
<tr class="memdesc:a79d0255e05efb4bd466d8fe375dc54e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy waits.  <a href="timer_8h.html#a79d0255e05efb4bd466d8fe375dc54e2">More...</a><br /></td></tr>
<tr class="separator:a79d0255e05efb4bd466d8fe375dc54e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8c62da2db42d1707106880540ec1b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a0a8c62da2db42d1707106880540ec1b9">timer_udelay</a> (<a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> microseconds)</td></tr>
<tr class="memdesc:a0a8c62da2db42d1707106880540ec1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleeps for approximately US microseconds.  <a href="timer_8h.html#a0a8c62da2db42d1707106880540ec1b9">More...</a><br /></td></tr>
<tr class="separator:a0a8c62da2db42d1707106880540ec1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334f51b30961b882306f7152083673b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a334f51b30961b882306f7152083673b6">timer_ndelay</a> (<a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> nanoseconds)</td></tr>
<tr class="memdesc:a334f51b30961b882306f7152083673b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleeps execution for approximately NS nanoseconds.  <a href="timer_8h.html#a334f51b30961b882306f7152083673b6">More...</a><br /></td></tr>
<tr class="separator:a334f51b30961b882306f7152083673b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fbbf98077e2191d5ea4b47a3c90ac94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a4fbbf98077e2191d5ea4b47a3c90ac94">timer_print_stats</a> (void)</td></tr>
<tr class="memdesc:a4fbbf98077e2191d5ea4b47a3c90ac94"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="timer_8h.html">devices/timer.h</a>  <a href="timer_8h.html#a4fbbf98077e2191d5ea4b47a3c90ac94">More...</a><br /></td></tr>
<tr class="separator:a4fbbf98077e2191d5ea4b47a3c90ac94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="acf926951944b6cf370b7229ebd50dd8b" name="acf926951944b6cf370b7229ebd50dd8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf926951944b6cf370b7229ebd50dd8b">&#9670;&nbsp;</a></span>TIMER_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_FREQ&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of timer interrupts per second. </p>

<p class="definition">Definition at line <a class="el" href="timer_8h_source.html#l00008">8</a> of file <a class="el" href="timer_8h_source.html">timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8a4e243d361cd252de04175b1b53c419" name="a8a4e243d361cd252de04175b1b53c419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4e243d361cd252de04175b1b53c419">&#9670;&nbsp;</a></span>timer_calibrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_calibrate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calibrates loops_per_tick, used to implement brief delays. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00044">44</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00065">intr_get_level()</a>, <a class="el" href="interrupt_8h_source.html#l00011">INTR_ON</a>, <a class="el" href="timer_8c_source.html#l00025">loops_per_tick</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, <a class="el" href="inttypes_8h_source.html#l00030">PRIu64</a>, <a class="el" href="timer_8h_source.html#l00008">TIMER_FREQ</a>, and <a class="el" href="timer_8c_source.html#l00180">too_many_loops()</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8c_source.html#l00073">pintos_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a8a4e243d361cd252de04175b1b53c419_cgraph.png" border="0" usemap="#atimer_8h_a8a4e243d361cd252de04175b1b53c419_cgraph" alt=""/></div>
<map name="atimer_8h_a8a4e243d361cd252de04175b1b53c419_cgraph" id="atimer_8h_a8a4e243d361cd252de04175b1b53c419_cgraph">
<area shape="rect" title="Calibrates loops_per_tick, used to implement brief delays." alt="" coords="5,575,115,601"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="2013,448,2115,475"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="197,575,249,601"/>
<area shape="rect" href="timer_8c.html#a90d440c8255d6be2d2647d24cb19954e" title="Returns true if LOOPS iterations waits for more than one timer tick, otherwise false." alt="" coords="163,625,283,652"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="342,575,401,601"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="475,296,548,323"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1096,1461,1215,1488"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="929,1395,1048,1421"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="460,575,563,601"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="644,296,711,323"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="623,195,731,221"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="627,347,727,373"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="614,144,741,171"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="646,245,709,272"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="792,195,881,221"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="809,144,865,171"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="2019,1309,2109,1336"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1306,1141,1403,1168"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1495,1243,1644,1285"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1851,1056,1960,1083"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1523,1005,1616,1032"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="2025,904,2103,931"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="2008,1056,2120,1083"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1860,651,1951,677"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1697,701,1797,728"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1692,955,1803,981"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1698,1005,1797,1032"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1861,701,1949,728"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1871,865,1939,892"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1107,888,1204,915"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1316,828,1393,855"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1528,904,1611,931"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1518,752,1621,779"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1513,853,1626,880"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="611,575,744,601"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1263,1345,1447,1386"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="793,575,880,601"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1531,220,1607,247"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="955,600,1022,627"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="1121,448,1189,475"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="951,888,1027,915"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="951,701,1027,728"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="1117,379,1193,405"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="1319,296,1391,323"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1728,144,1767,171"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1856,169,1955,196"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1728,43,1767,69"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1714,93,1781,120"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1852,245,1959,272"/>
<area shape="rect" href="timer_8c.html#a804190f8e66f39ac2ddb5891de3eec73" title="Iterates through a simple loop LOOPS times, for implementing brief delays." alt="" coords="331,625,412,652"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a8a4e243d361cd252de04175b1b53c419_icgraph.png" border="0" usemap="#atimer_8h_a8a4e243d361cd252de04175b1b53c419_icgraph" alt=""/></div>
<map name="atimer_8h_a8a4e243d361cd252de04175b1b53c419_icgraph" id="atimer_8h_a8a4e243d361cd252de04175b1b53c419_icgraph">
<area shape="rect" title="Calibrates loops_per_tick, used to implement brief delays." alt="" coords="136,5,245,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,88,32"/>
</map>
</div>

</div>
</div>
<a id="a221ee760ed92265757f16624ebcd8276" name="a221ee760ed92265757f16624ebcd8276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221ee760ed92265757f16624ebcd8276">&#9670;&nbsp;</a></span>timer_elapsed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> timer_elapsed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td>
          <td class="paramname"><em>then</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of timer ticks elapsed since THEN, which should be a value once returned by <a class="el" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted.">timer_ticks()</a>. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00082">82</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="timer_8c_source.html#l00071">timer_ticks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="alarm-priority_8c_source.html#l00042">alarm_priority_thread()</a>, <a class="el" href="mlfqs-block_8c_source.html#l00050">block_thread()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00108">load_thread()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00066">test_mlfqs_fair()</a>, and <a class="el" href="timer_8c_source.html#l00090">timer_sleep()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a221ee760ed92265757f16624ebcd8276_cgraph.png" border="0" usemap="#atimer_8h_a221ee760ed92265757f16624ebcd8276_cgraph" alt=""/></div>
<map name="atimer_8h_a221ee760ed92265757f16624ebcd8276_cgraph" id="atimer_8h_a221ee760ed92265757f16624ebcd8276_cgraph">
<area shape="rect" title="Returns the number of timer ticks elapsed since THEN, which should be a value once returned by timer_..." alt="" coords="5,31,111,57"/>
<area shape="rect" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted." alt="" coords="159,31,244,57"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="440,5,531,32"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="292,56,392,83"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="579,5,680,32"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="441,56,529,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="584,56,675,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a221ee760ed92265757f16624ebcd8276_icgraph.png" border="0" usemap="#atimer_8h_a221ee760ed92265757f16624ebcd8276_icgraph" alt=""/></div>
<map name="atimer_8h_a221ee760ed92265757f16624ebcd8276_icgraph" id="atimer_8h_a221ee760ed92265757f16624ebcd8276_icgraph">
<area shape="rect" title="Returns the number of timer ticks elapsed since THEN, which should be a value once returned by timer_..." alt="" coords="2183,82,2288,109"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="1840,31,1988,58"/>
<area shape="rect" href="mlfqs-block_8c.html#afae0754a3b814ae247351cc6ee14276c" title="Checks that recent_cpu and priorities are updated for blocked threads." alt="" coords="2036,183,2135,210"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="1868,82,1960,109"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="1683,82,1792,109"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="2040,133,2131,159"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="1856,183,1972,210"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="1881,234,1947,261"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="1696,285,1779,311"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="1686,183,1789,210"/>
<area shape="rect" href="timer_8c.html#a5d4df9c9580a97f5eee2e70ae8ad43a0" title="Sleeps for approximately NS nanoseconds." alt="" coords="1532,31,1631,58"/>
<area shape="rect" href="timer_8c.html#ac386900a4e0ba0d6f338b8c5534776d1" title="Sleeps for approximately US microseconds." alt="" coords="819,234,917,261"/>
<area shape="rect" href="ide_8c.html#a03eb0d9954faefcc1634f76a286f78f5" title="Resets an ATA channel and waits for any devices present on it to finish the reset." alt="" coords="458,82,563,109"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1528,183,1635,210"/>
<area shape="rect" href="ide_8c.html#a32d318073c2235e9b03bd77ed17ae580" title="Wait up to 30 seconds for disk D to clear BSY, and then return the status of the DRQ bit." alt="" coords="639,183,757,210"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="142,114,206,141"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,342,88,369"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1404,183,1480,210"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1223,943,1356,970"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="1094,994,1153,1021"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="835,1045,901,1071"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="1100,1045,1147,1071"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1072,893,1175,919"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="679,943,717,970"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="675,994,721,1021"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="675,1045,721,1071"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="472,1006,549,1033"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="475,829,546,855"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="291,803,365,830"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="303,1006,353,1033"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="965,893,1024,919"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="649,842,747,869"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="842,614,894,641"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="669,893,727,919"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="636,386,760,413"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="466,437,555,463"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="625,437,771,463"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="655,791,741,818"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="637,589,759,615"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="458,285,563,311"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="260,209,396,235"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="668,639,728,666"/>
<area shape="rect" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b" title="Prints console statistics." alt="" coords="629,741,767,767"/>
<area shape="rect" href="ide_8c.html#ac51161a8c0b58de728cb08a3ff722b0f" title="Low&#45;level ATA primitives." alt="" coords="645,234,751,261"/>
<area shape="rect" href="ide_8c.html#a5d8393ec752f120abb30d97b14a69600" title="Select disk D in its channel, as select_device(), but wait for the channel to become idle before and ..." alt="" coords="444,234,577,261"/>
<area shape="rect" href="ide_8c.html#ad7c31783f9f455b20c35d43f46ee03d8" title="Selects device D, waiting for it to become ready, and then writes SEC_NO to the disk&#39;s sector selecti..." alt="" coords="278,259,378,286"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="137,227,211,254"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="136,323,212,350"/>
<area shape="rect" href="ide_8c.html#a7252ab4c28b6aed431703ba2b124e05e" title="Program D&#39;s channel so that D is now the selected disk." alt="" coords="647,31,749,58"/>
<area shape="rect" href="ide_8c.html#afb1b543e585d7b5757bf9406b8705349" title="Checks whether device D is an ATA disk and sets D&#39;s is_ata member appropriately." alt="" coords="260,31,396,58"/>
</map>
</div>

</div>
</div>
<a id="a7b8ab79df77b57475a5494f5f81c3bd9" name="a7b8ab79df77b57475a5494f5f81c3bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b8ab79df77b57475a5494f5f81c3bd9">&#9670;&nbsp;</a></span>timer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the timer to interrupt TIMER_FREQ times per second, and registers the corresponding interrupt. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00036">36</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="interrupt_8c_source.html#l00181">intr_register_ext()</a>, <a class="el" href="pit_8c_source.html#l00046">pit_configure_channel()</a>, <a class="el" href="timer_8h_source.html#l00008">TIMER_FREQ</a>, and <a class="el" href="timer_8c_source.html#l00027">timer_interrupt</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8c_source.html#l00073">pintos_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a7b8ab79df77b57475a5494f5f81c3bd9_cgraph.png" border="0" usemap="#atimer_8h_a7b8ab79df77b57475a5494f5f81c3bd9_cgraph" alt=""/></div>
<map name="atimer_8h_a7b8ab79df77b57475a5494f5f81c3bd9_cgraph" id="atimer_8h_a7b8ab79df77b57475a5494f5f81c3bd9_cgraph">
<area shape="rect" title="Sets up the timer to interrupt TIMER_FREQ times per second, and registers the corresponding interrupt..." alt="" coords="5,107,81,133"/>
<area shape="rect" href="interrupt_8c.html#a38cd217e72ddb3f58db591a061c99691" title="Registers external interrupt VEC_NO to invoke HANDLER, which is named NAME for debugging purposes." alt="" coords="147,69,264,96"/>
<area shape="rect" href="pit_8c.html#a7dd39bb359cbd638f9134488ab47db4c" title="Configure the given CHANNEL in the PIT." alt="" coords="129,132,281,159"/>
<area shape="rect" href="interrupt_8c.html#a7e7d2edfe1ec7f51b54704080de2f4ca" title="Registers interrupt VEC_NO to invoke HANDLER with descriptor privilege level DPL." alt="" coords="329,56,448,83"/>
<area shape="rect" href="interrupt_8c.html#a75ac431d18ce7aff146bef22379c1dcd" title="Interrupt Descriptor Table helpers." alt="" coords="499,5,612,32"/>
<area shape="rect" href="interrupt_8c.html#a79e99b0236c49a7a12d52a2ec74fefa5" title="Creates a trap gate that invokes FUNCTION with the given DPL." alt="" coords="496,56,615,83"/>
<area shape="rect" href="interrupt_8c.html#a05aa182a64c4dc89f63a20b96d4628dc" title="Creates an gate that invokes FUNCTION." alt="" coords="669,31,757,57"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="510,107,601,133"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="339,157,439,184"/>
<area shape="rect" href="io_8h.html#a903c588b94e0e8386c8a6f8caa4a5a72" title="Writes byte DATA to PORT." alt="" coords="365,208,413,235"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="663,107,764,133"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="511,157,599,184"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="668,157,759,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a7b8ab79df77b57475a5494f5f81c3bd9_icgraph.png" border="0" usemap="#atimer_8h_a7b8ab79df77b57475a5494f5f81c3bd9_icgraph" alt=""/></div>
<map name="atimer_8h_a7b8ab79df77b57475a5494f5f81c3bd9_icgraph" id="atimer_8h_a7b8ab79df77b57475a5494f5f81c3bd9_icgraph">
<area shape="rect" title="Sets up the timer to interrupt TIMER_FREQ times per second, and registers the corresponding interrupt..." alt="" coords="136,5,212,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,88,32"/>
</map>
</div>

</div>
</div>
<a id="a79d0255e05efb4bd466d8fe375dc54e2" name="a79d0255e05efb4bd466d8fe375dc54e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d0255e05efb4bd466d8fe375dc54e2">&#9670;&nbsp;</a></span>timer_mdelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_mdelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Busy waits. </p>
<p >Busy waits.</p>
<p >Interrupts need not be turned on.</p>
<p >Busy waiting wastes CPU cycles, and busy waiting with interrupts off for the interval between timer ticks or longer will cause timer ticks to be lost. Thus, use <a class="el" href="timer_8h.html#a95a7443a6a2ef5281ba3462adc8194b2" title="Sleeps for approximately MS milliseconds.">timer_msleep()</a> instead if interrupts are enabled. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00131">131</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="timer_8c_source.html#l00240">real_time_delay()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a79d0255e05efb4bd466d8fe375dc54e2_cgraph.png" border="0" usemap="#atimer_8h_a79d0255e05efb4bd466d8fe375dc54e2_cgraph" alt=""/></div>
<map name="atimer_8h_a79d0255e05efb4bd466d8fe375dc54e2_cgraph" id="atimer_8h_a79d0255e05efb4bd466d8fe375dc54e2_cgraph">
<area shape="rect" title="Busy waits." alt="" coords="5,5,108,32"/>
<area shape="rect" href="timer_8c.html#a28553fa387ff127de26e330dfcfe9fa1" title="Busy&#45;wait for approximately NUM/DENOM seconds." alt="" coords="156,5,272,32"/>
<area shape="rect" href="timer_8c.html#a804190f8e66f39ac2ddb5891de3eec73" title="Iterates through a simple loop LOOPS times, for implementing brief delays." alt="" coords="320,5,401,32"/>
</map>
</div>

</div>
</div>
<a id="a95a7443a6a2ef5281ba3462adc8194b2" name="a95a7443a6a2ef5281ba3462adc8194b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95a7443a6a2ef5281ba3462adc8194b2">&#9670;&nbsp;</a></span>timer_msleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_msleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleeps for approximately MS milliseconds. </p>
<p >Interrupts must be turned on. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00102">102</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="timer_8c_source.html#l00212">real_time_sleep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ide_8c_source.html#l00165">reset_channel()</a>, <a class="el" href="speaker_8c_source.html#l00048">speaker_beep()</a>, and <a class="el" href="ide_8c_source.html#l00460">wait_while_busy()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a95a7443a6a2ef5281ba3462adc8194b2_cgraph.png" border="0" usemap="#atimer_8h_a95a7443a6a2ef5281ba3462adc8194b2_cgraph" alt=""/></div>
<map name="atimer_8h_a95a7443a6a2ef5281ba3462adc8194b2_cgraph" id="atimer_8h_a95a7443a6a2ef5281ba3462adc8194b2_cgraph">
<area shape="rect" title="Sleeps for approximately MS milliseconds." alt="" coords="5,942,108,969"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="156,942,272,969"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1133,903,1234,930"/>
<area shape="rect" href="timer_8c.html#a28553fa387ff127de26e330dfcfe9fa1" title="Busy&#45;wait for approximately NUM/DENOM seconds." alt="" coords="320,841,436,867"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="333,942,423,969"/>
<area shape="rect" href="timer_8c.html#a804190f8e66f39ac2ddb5891de3eec73" title="Iterates through a simple loop LOOPS times, for implementing brief delays." alt="" coords="496,815,577,842"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="637,815,732,842"/>
<area shape="rect" href="timer_8c.html#a58f1f79abf9bc0515a305ba89c58b9fa" title="Returns the number of timer ticks elapsed since THEN, which should be a value once returned by timer_..." alt="" coords="484,967,589,994"/>
<area shape="rect" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted." alt="" coords="642,942,727,969"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1138,827,1229,854"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="955,917,1046,943"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="780,866,880,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1128,30,1239,57"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="792,638,868,665"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1497,613,1606,639"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="957,866,1045,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1695,30,1763,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1324,30,1403,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1511,81,1591,107"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1523,30,1579,57"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1690,511,1767,538"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="977,613,1024,639"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="932,182,1069,209"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1673,613,1785,639"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="945,663,1056,690"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="928,714,1073,741"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1510,131,1593,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1132,131,1235,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1689,131,1768,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1327,131,1399,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1318,81,1409,107"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1836,613,1953,639"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1121,373,1245,399"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1122,689,1245,715"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1293,334,1433,361"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1510,283,1593,310"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1481,385,1621,411"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1517,334,1586,361"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1492,182,1611,209"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1699,233,1758,259"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1520,435,1583,462"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1669,283,1788,310"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1849,283,1940,310"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1685,385,1772,411"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1845,385,1944,411"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1682,182,1775,209"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1303,714,1423,741"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1320,663,1407,690"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1528,714,1575,741"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1671,714,1787,741"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a95a7443a6a2ef5281ba3462adc8194b2_icgraph.png" border="0" usemap="#atimer_8h_a95a7443a6a2ef5281ba3462adc8194b2_icgraph" alt=""/></div>
<map name="atimer_8h_a95a7443a6a2ef5281ba3462adc8194b2_icgraph" id="atimer_8h_a95a7443a6a2ef5281ba3462adc8194b2_icgraph">
<area shape="rect" title="Sleeps for approximately MS milliseconds." alt="" coords="1495,56,1597,83"/>
<area shape="rect" href="ide_8c.html#a03eb0d9954faefcc1634f76a286f78f5" title="Resets an ATA channel and waits for any devices present on it to finish the reset." alt="" coords="293,5,399,32"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1340,448,1447,475"/>
<area shape="rect" href="ide_8c.html#a32d318073c2235e9b03bd77ed17ae580" title="Wait up to 30 seconds for disk D to clear BSY, and then return the status of the DRQ bit." alt="" coords="481,56,600,83"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="149,221,213,248"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,721,88,748"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1216,1132,1292,1159"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1035,1500,1168,1527"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="906,1500,965,1527"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="663,1703,729,1729"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="912,1449,959,1476"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="884,1551,987,1577"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="521,1677,560,1704"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="517,1627,564,1653"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="517,1728,564,1755"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="307,1620,385,1647"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="311,1532,381,1559"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="144,1399,217,1425"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="155,1620,206,1647"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="777,1551,836,1577"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="297,512,395,539"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="670,917,722,944"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="511,1576,570,1603"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="284,841,408,868"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="136,791,225,817"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="273,740,419,767"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="498,1525,583,1552"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="479,917,602,944"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="488,765,593,792"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="291,791,401,817"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="278,157,414,184"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="511,1120,571,1147"/>
<area shape="rect" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b" title="Prints console statistics." alt="" coords="472,1171,609,1197"/>
<area shape="rect" href="debug_8c.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="479,512,603,539"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="499,1272,582,1299"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="505,715,577,741"/>
<area shape="rect" href="exception_8c.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="Prints exception statistics." alt="" coords="467,1373,615,1400"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="490,1424,591,1451"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="309,1044,383,1071"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="492,1475,589,1501"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="507,309,574,336"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="505,360,577,387"/>
<area shape="rect" href="lib_2stdio_8c.html#af29b397e488c767a37e2f44c787b4746" title="Dumps the SIZE bytes in BUF to the console as hex bytes arranged 16 per line." alt="" coords="499,1069,583,1096"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="505,461,577,488"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="285,348,407,375"/>
<area shape="rect" href="interrupt_8c.html#aad193c7a44c7bea286a77a590b7fa194" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="479,208,602,235"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="327,208,365,235"/>
<area shape="rect" href="kbd_8c.html#ab7e600f1f09328e0f6e6e2052cd64181" title="Prints keyboard statistics." alt="" coords="485,613,597,640"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="309,56,383,83"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="308,107,384,133"/>
</map>
</div>

</div>
</div>
<a id="a334f51b30961b882306f7152083673b6" name="a334f51b30961b882306f7152083673b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a334f51b30961b882306f7152083673b6">&#9670;&nbsp;</a></span>timer_ndelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_ndelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleeps execution for approximately NS nanoseconds. </p>
<p >Interrupts need not be turned on.</p>
<p >Busy waiting wastes CPU cycles, and busy waiting with interrupts off for the interval between timer ticks or longer will cause timer ticks to be lost. Thus, use <a class="el" href="timer_8c.html#a5d4df9c9580a97f5eee2e70ae8ad43a0" title="Sleeps for approximately NS nanoseconds.">timer_nsleep()</a> instead if interrupts are enabled. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00157">157</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="timer_8c_source.html#l00240">real_time_delay()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a334f51b30961b882306f7152083673b6_cgraph.png" border="0" usemap="#atimer_8h_a334f51b30961b882306f7152083673b6_cgraph" alt=""/></div>
<map name="atimer_8h_a334f51b30961b882306f7152083673b6_cgraph" id="atimer_8h_a334f51b30961b882306f7152083673b6_cgraph">
<area shape="rect" title="Sleeps execution for approximately NS nanoseconds." alt="" coords="5,5,104,32"/>
<area shape="rect" href="timer_8c.html#a28553fa387ff127de26e330dfcfe9fa1" title="Busy&#45;wait for approximately NUM/DENOM seconds." alt="" coords="152,5,268,32"/>
<area shape="rect" href="timer_8c.html#a804190f8e66f39ac2ddb5891de3eec73" title="Iterates through a simple loop LOOPS times, for implementing brief delays." alt="" coords="316,5,397,32"/>
</map>
</div>

</div>
</div>
<a id="abab763b3657767b814095f563034f0f1" name="abab763b3657767b814095f563034f0f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab763b3657767b814095f563034f0f1">&#9670;&nbsp;</a></span>timer_nsleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_nsleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleeps for approximately NS nanoseconds. </p>
<p >Interrupts must be turned on. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00118">118</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="timer_8c_source.html#l00212">real_time_sleep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ide_8c_source.html#l00484">select_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_abab763b3657767b814095f563034f0f1_cgraph.png" border="0" usemap="#atimer_8h_abab763b3657767b814095f563034f0f1_cgraph" alt=""/></div>
<map name="atimer_8h_abab763b3657767b814095f563034f0f1_cgraph" id="atimer_8h_abab763b3657767b814095f563034f0f1_cgraph">
<area shape="rect" title="Sleeps for approximately NS nanoseconds." alt="" coords="5,942,104,969"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="152,942,268,969"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1129,903,1230,930"/>
<area shape="rect" href="timer_8c.html#a28553fa387ff127de26e330dfcfe9fa1" title="Busy&#45;wait for approximately NUM/DENOM seconds." alt="" coords="316,841,432,867"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="329,942,419,969"/>
<area shape="rect" href="timer_8c.html#a804190f8e66f39ac2ddb5891de3eec73" title="Iterates through a simple loop LOOPS times, for implementing brief delays." alt="" coords="492,815,573,842"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="633,815,728,842"/>
<area shape="rect" href="timer_8c.html#a58f1f79abf9bc0515a305ba89c58b9fa" title="Returns the number of timer ticks elapsed since THEN, which should be a value once returned by timer_..." alt="" coords="480,967,585,994"/>
<area shape="rect" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted." alt="" coords="638,942,723,969"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1134,827,1225,854"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="951,917,1042,943"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="776,866,876,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1124,30,1235,57"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="788,638,864,665"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1493,613,1602,639"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="953,866,1041,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1691,30,1759,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1320,30,1399,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1507,81,1587,107"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1519,30,1575,57"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1686,511,1763,538"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="973,613,1020,639"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="928,182,1065,209"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1669,613,1781,639"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="941,663,1052,690"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="924,714,1069,741"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1506,131,1589,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1128,131,1231,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1685,131,1764,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1323,131,1395,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1314,81,1405,107"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1832,613,1949,639"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1117,373,1241,399"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1118,689,1241,715"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1289,334,1429,361"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1506,283,1589,310"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1477,385,1617,411"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1513,334,1582,361"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1488,182,1607,209"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1695,233,1754,259"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1516,435,1579,462"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1665,283,1784,310"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1845,283,1936,310"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1681,385,1768,411"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1841,385,1940,411"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1678,182,1771,209"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1299,714,1419,741"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1316,663,1403,690"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1524,714,1571,741"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1667,714,1783,741"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_abab763b3657767b814095f563034f0f1_icgraph.png" border="0" usemap="#atimer_8h_abab763b3657767b814095f563034f0f1_icgraph" alt=""/></div>
<map name="atimer_8h_abab763b3657767b814095f563034f0f1_icgraph" id="atimer_8h_abab763b3657767b814095f563034f0f1_icgraph">
<area shape="rect" title="Sleeps for approximately NS nanoseconds." alt="" coords="776,56,875,83"/>
<area shape="rect" href="ide_8c.html#a7252ab4c28b6aed431703ba2b124e05e" title="Program D&#39;s channel so that D is now the selected disk." alt="" coords="625,56,728,83"/>
<area shape="rect" href="ide_8c.html#afb1b543e585d7b5757bf9406b8705349" title="Checks whether device D is an ATA disk and sets D&#39;s is_ata member appropriately." alt="" coords="260,5,396,32"/>
<area shape="rect" href="ide_8c.html#a03eb0d9954faefcc1634f76a286f78f5" title="Resets an ATA channel and waits for any devices present on it to finish the reset." alt="" coords="458,56,563,83"/>
<area shape="rect" href="ide_8c.html#a5d8393ec752f120abb30d97b14a69600" title="Select disk D in its channel, as select_device(), but wait for the channel to become idle before and ..." alt="" coords="444,107,577,133"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="142,56,206,83"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,56,88,83"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="260,107,396,133"/>
<area shape="rect" href="ide_8c.html#ad7c31783f9f455b20c35d43f46ee03d8" title="Selects device D, waiting for it to become ready, and then writes SEC_NO to the disk&#39;s sector selecti..." alt="" coords="278,157,378,184"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="137,132,211,159"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="136,183,212,209"/>
</map>
</div>

</div>
</div>
<a id="a4fbbf98077e2191d5ea4b47a3c90ac94" name="a4fbbf98077e2191d5ea4b47a3c90ac94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fbbf98077e2191d5ea4b47a3c90ac94">&#9670;&nbsp;</a></span>timer_print_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_print_stats </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="timer_8h.html">devices/timer.h</a> </p>
<p ><a class="el" href="timer_8h.html">devices/timer.h</a> </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00164">164</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="inttypes_8h_source.html#l00027">PRId64</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, and <a class="el" href="timer_8c_source.html#l00071">timer_ticks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="shutdown_8c_source.html#l00129">print_stats()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a4fbbf98077e2191d5ea4b47a3c90ac94_cgraph.png" border="0" usemap="#atimer_8h_a4fbbf98077e2191d5ea4b47a3c90ac94_cgraph" alt=""/></div>
<map name="atimer_8h_a4fbbf98077e2191d5ea4b47a3c90ac94_cgraph" id="atimer_8h_a4fbbf98077e2191d5ea4b47a3c90ac94_cgraph">
<area shape="rect" title="devices/timer.h" alt="" coords="5,828,125,855"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="173,803,225,830"/>
<area shape="rect" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted." alt="" coords="1447,854,1532,880"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="273,803,332,830"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="395,1208,468,1235"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1016,211,1135,238"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="849,258,968,284"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="380,904,483,931"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="564,1158,631,1184"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="543,1310,651,1336"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="547,1208,647,1235"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="534,1360,661,1387"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="566,1259,629,1286"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="712,1310,801,1336"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="729,1360,785,1387"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1939,246,2029,272"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1226,398,1323,424"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1415,196,1564,237"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1771,398,1880,424"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1443,499,1536,526"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1945,575,2023,602"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1928,398,2040,424"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1780,879,1871,906"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1617,803,1717,830"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1612,550,1723,576"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1618,499,1717,526"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1933,1056,2035,1083"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1781,803,1869,830"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1791,600,1859,627"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1786,550,1865,576"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1027,262,1124,288"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1236,676,1313,703"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1448,600,1531,627"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1438,702,1541,728"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1433,651,1546,678"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="531,955,664,982"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1183,94,1367,136"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="713,1006,800,1032"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1451,1335,1527,1362"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="875,1056,942,1083"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="1041,1107,1109,1134"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="871,410,947,436"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="871,803,947,830"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="1037,1158,1113,1184"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="1239,1208,1311,1235"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1648,1310,1687,1336"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1776,1335,1875,1362"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1648,1411,1687,1438"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1634,1462,1701,1488"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1772,1462,1879,1488"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a4fbbf98077e2191d5ea4b47a3c90ac94_icgraph.png" border="0" usemap="#atimer_8h_a4fbbf98077e2191d5ea4b47a3c90ac94_icgraph" alt=""/></div>
<map name="atimer_8h_a4fbbf98077e2191d5ea4b47a3c90ac94_icgraph" id="atimer_8h_a4fbbf98077e2191d5ea4b47a3c90ac94_icgraph">
<area shape="rect" title="devices/timer.h" alt="" coords="741,81,861,108"/>
<area shape="rect" href="shutdown_8c.html#ab00adda36155b238b8c39dcd96f13cd9" title="Print statistics about Pintos execution." alt="" coords="609,81,693,108"/>
<area shape="rect" href="shutdown_8c.html#a4cc4519942eb3292f9ee3702330ebd07" title="Powers down the machine we&#39;re running on, as long as we&#39;re running on Bochs or QEMU." alt="" coords="416,81,561,108"/>
<area shape="rect" href="shutdown_8c.html#a1c9d5e29ad8899afe0c34571ddee18f9" title="Shuts down the machine in the way configured by shutdown_configure()." alt="" coords="289,56,368,83"/>
<area shape="rect" href="init_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title="Prints a kernel command line help message and powers off the machine." alt="" coords="299,107,358,133"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="139,5,238,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,81,88,108"/>
<area shape="rect" href="init_8c.html#a598c2f3a0a33552aa203aa847dc265b6" title="Parses options in ARGV[] and returns the first non&#45;option argument." alt="" coords="136,107,241,133"/>
</map>
</div>

</div>
</div>
<a id="aa24fbc19fb550d9efd5cabd97489a399" name="aa24fbc19fb550d9efd5cabd97489a399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa24fbc19fb550d9efd5cabd97489a399">&#9670;&nbsp;</a></span>timer_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_sleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleep and yield the CPU to other threads. </p>
<p >Sleep and yield the CPU to other threads.</p>
<p >Interrupts must be turned on. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00090">90</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00065">intr_get_level()</a>, <a class="el" href="interrupt_8h_source.html#l00011">INTR_ON</a>, <a class="el" href="insult_8c_source.html#l00013">start</a>, <a class="el" href="thread_8c_source.html#l00302">thread_yield()</a>, <a class="el" href="timer_8c_source.html#l00021">ticks</a>, <a class="el" href="timer_8c_source.html#l00082">timer_elapsed()</a>, and <a class="el" href="timer_8c_source.html#l00071">timer_ticks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="alarm-priority_8c_source.html#l00042">alarm_priority_thread()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00108">load_thread()</a>, <a class="el" href="timer_8c_source.html#l00212">real_time_sleep()</a>, <a class="el" href="alarm-simultaneous_8c_source.html#l00079">sleeper()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00066">test_mlfqs_fair()</a>, and <a class="el" href="alarm-simultaneous_8c_source.html#l00033">test_sleep()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_aa24fbc19fb550d9efd5cabd97489a399_cgraph.png" border="0" usemap="#atimer_8h_aa24fbc19fb550d9efd5cabd97489a399_cgraph" alt=""/></div>
<map name="atimer_8h_aa24fbc19fb550d9efd5cabd97489a399_cgraph" id="atimer_8h_aa24fbc19fb550d9efd5cabd97489a399_cgraph">
<area shape="rect" title="Sleep and yield the CPU to other threads." alt="" coords="5,640,96,667"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="793,627,894,653"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="297,525,392,552"/>
<area shape="rect" href="timer_8c.html#a58f1f79abf9bc0515a305ba89c58b9fa" title="Returns the number of timer ticks elapsed since THEN, which should be a value once returned by timer_..." alt="" coords="144,615,249,641"/>
<area shape="rect" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted." alt="" coords="302,652,387,679"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="798,576,889,603"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="615,627,706,653"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="440,576,540,603"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="788,525,899,552"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="452,269,528,296"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1157,41,1266,68"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="617,576,705,603"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1355,649,1423,676"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="984,599,1063,625"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1171,599,1251,625"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1183,649,1239,676"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1350,16,1427,43"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="637,143,684,169"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="592,373,729,400"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1333,92,1445,119"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="605,193,716,220"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="588,295,733,321"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1170,548,1253,575"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="792,475,895,501"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1349,548,1428,575"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="987,487,1059,513"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="978,544,1069,571"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1496,92,1613,119"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="781,345,905,372"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="782,219,905,245"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="953,345,1093,372"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1170,244,1253,271"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1141,295,1281,321"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1177,396,1246,423"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1152,447,1271,473"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1359,497,1418,524"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1180,345,1243,372"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1329,244,1448,271"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1509,244,1600,271"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1661,269,1737,296"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1661,320,1737,347"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1345,295,1432,321"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1505,295,1604,321"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1505,345,1604,372"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1342,447,1435,473"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="963,244,1083,271"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="980,143,1067,169"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1188,193,1235,220"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1331,193,1447,220"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_aa24fbc19fb550d9efd5cabd97489a399_icgraph.png" border="0" usemap="#atimer_8h_aa24fbc19fb550d9efd5cabd97489a399_icgraph" alt=""/></div>
<map name="atimer_8h_aa24fbc19fb550d9efd5cabd97489a399_icgraph" id="atimer_8h_aa24fbc19fb550d9efd5cabd97489a399_icgraph">
<area shape="rect" title="Sleep and yield the CPU to other threads." alt="" coords="2036,132,2127,159"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="1840,5,1988,32"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="1868,107,1960,133"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="1683,56,1792,83"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="1856,157,1972,184"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="1881,259,1947,285"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="1696,259,1779,285"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="1686,208,1789,235"/>
<area shape="rect" href="timer_8c.html#a5d4df9c9580a97f5eee2e70ae8ad43a0" title="Sleeps for approximately NS nanoseconds." alt="" coords="1532,107,1631,133"/>
<area shape="rect" href="timer_8c.html#ac386900a4e0ba0d6f338b8c5534776d1" title="Sleeps for approximately US microseconds." alt="" coords="819,157,917,184"/>
<area shape="rect" href="ide_8c.html#a03eb0d9954faefcc1634f76a286f78f5" title="Resets an ATA channel and waits for any devices present on it to finish the reset." alt="" coords="458,183,563,209"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1528,525,1635,552"/>
<area shape="rect" href="ide_8c.html#a32d318073c2235e9b03bd77ed17ae580" title="Wait up to 30 seconds for disk D to clear BSY, and then return the status of the DRQ bit." alt="" coords="639,309,757,336"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="142,259,206,285"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,537,88,564"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1404,956,1480,983"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1223,1171,1356,1197"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="1094,1221,1153,1248"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="835,1272,901,1299"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="1100,1272,1147,1299"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1072,1120,1175,1147"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="679,1120,717,1147"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="675,1221,721,1248"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="675,1323,721,1349"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="472,1189,549,1216"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="475,1101,546,1128"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="291,1063,365,1089"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="303,1189,353,1216"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="965,1120,1024,1147"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="461,968,560,995"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="842,740,894,767"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="669,1069,727,1096"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="636,461,760,488"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="466,537,555,564"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="625,512,771,539"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="655,1019,741,1045"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="637,613,759,640"/>
<area shape="rect" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d" title="Registers a new block device with the given NAME." alt="" coords="458,487,563,513"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="260,328,396,355"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="668,664,728,691"/>
<area shape="rect" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b" title="Prints console statistics." alt="" coords="629,715,767,741"/>
<area shape="rect" href="debug_8c.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="636,968,760,995"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="657,816,739,843"/>
<area shape="rect" href="ide_8c.html#ac51161a8c0b58de728cb08a3ff722b0f" title="Low&#45;level ATA primitives." alt="" coords="645,259,751,285"/>
<area shape="rect" href="ide_8c.html#a5d8393ec752f120abb30d97b14a69600" title="Select disk D in its channel, as select_device(), but wait for the channel to become idle before and ..." alt="" coords="444,233,577,260"/>
<area shape="rect" href="ide_8c.html#ad7c31783f9f455b20c35d43f46ee03d8" title="Selects device D, waiting for it to become ready, and then writes SEC_NO to the disk&#39;s sector selecti..." alt="" coords="278,277,378,304"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="137,360,211,387"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="136,436,212,463"/>
<area shape="rect" href="ide_8c.html#a7252ab4c28b6aed431703ba2b124e05e" title="Program D&#39;s channel so that D is now the selected disk." alt="" coords="647,107,749,133"/>
<area shape="rect" href="ide_8c.html#afb1b543e585d7b5757bf9406b8705349" title="Checks whether device D is an ATA disk and sets D&#39;s is_ata member appropriately." alt="" coords="260,139,396,165"/>
</map>
</div>

</div>
</div>
<a id="a2b50be77101b38176d21b52cc425cf3e" name="a2b50be77101b38176d21b52cc425cf3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b50be77101b38176d21b52cc425cf3e">&#9670;&nbsp;</a></span>timer_ticks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> timer_ticks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of timer ticks since the OS booted. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00071">71</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="interrupt_8c_source.html#l00104">intr_disable()</a>, <a class="el" href="interrupt_8c_source.html#l00081">intr_set_level()</a>, and <a class="el" href="timer_8c_source.html#l00021">ticks</a>.</p>

<p class="reference">Referenced by <a class="el" href="alarm-priority_8c_source.html#l00042">alarm_priority_thread()</a>, <a class="el" href="mlfqs-block_8c_source.html#l00050">block_thread()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00108">load_thread()</a>, <a class="el" href="alarm-simultaneous_8c_source.html#l00079">sleeper()</a>, <a class="el" href="mlfqs-fair_8c_source.html#l00066">test_mlfqs_fair()</a>, <a class="el" href="alarm-simultaneous_8c_source.html#l00033">test_sleep()</a>, <a class="el" href="timer_8c_source.html#l00082">timer_elapsed()</a>, <a class="el" href="timer_8c_source.html#l00164">timer_print_stats()</a>, and <a class="el" href="timer_8c_source.html#l00090">timer_sleep()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a2b50be77101b38176d21b52cc425cf3e_cgraph.png" border="0" usemap="#atimer_8h_a2b50be77101b38176d21b52cc425cf3e_cgraph" alt=""/></div>
<map name="atimer_8h_a2b50be77101b38176d21b52cc425cf3e_cgraph" id="atimer_8h_a2b50be77101b38176d21b52cc425cf3e_cgraph">
<area shape="rect" title="Returns the number of timer ticks since the OS booted." alt="" coords="5,31,91,57"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="287,5,377,32"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="139,56,239,83"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="425,5,527,32"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="288,56,376,83"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="431,56,521,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a2b50be77101b38176d21b52cc425cf3e_icgraph.png" border="0" usemap="#atimer_8h_a2b50be77101b38176d21b52cc425cf3e_icgraph" alt=""/></div>
<map name="atimer_8h_a2b50be77101b38176d21b52cc425cf3e_icgraph" id="atimer_8h_a2b50be77101b38176d21b52cc425cf3e_icgraph">
<area shape="rect" title="Returns the number of timer ticks since the OS booted." alt="" coords="2480,411,2565,437"/>
<area shape="rect" href="alarm-priority_8c.html#a3a8636bb8f03b8450f18ef9dbd774a0c" title=" " alt="" coords="1984,208,2132,235"/>
<area shape="rect" href="mlfqs-block_8c.html#afae0754a3b814ae247351cc6ee14276c" title="Checks that recent_cpu and priorities are updated for blocked threads." alt="" coords="2180,411,2279,437"/>
<area shape="rect" href="mlfqs-fair_8c.html#ac167cc111091b60761c3bb6d1e63371e" title=" " alt="" coords="2012,411,2104,437"/>
<area shape="rect" href="mlfqs-fair_8c.html#a5c0bb7da290ed5c6c31e55eb73e1cbe6" title="Measures the correctness of the &quot;nice&quot; implementation." alt="" coords="1827,284,1936,311"/>
<area shape="rect" href="alarm-simultaneous_8c.html#ab0a63a1d2a48bb4fe102b9254a82938d" title="Sleeper thread." alt="" coords="2025,487,2091,513"/>
<area shape="rect" href="alarm-simultaneous_8c.html#a46bbfad063bc4c9983350bd522fe6fbb" title="Creates N threads, each of which sleeps a different, fixed duration, M times." alt="" coords="1840,487,1923,513"/>
<area shape="rect" href="timer_8c.html#a58f1f79abf9bc0515a305ba89c58b9fa" title="Returns the number of timer ticks elapsed since THEN, which should be a value once returned by timer_..." alt="" coords="2327,309,2432,336"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="2184,309,2275,336"/>
<area shape="rect" href="timer_8c.html#a4fbbf98077e2191d5ea4b47a3c90ac94" title="Prints timer statistics." alt="" coords="793,613,913,640"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="2000,56,2116,83"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="1830,183,1933,209"/>
<area shape="rect" href="timer_8c.html#a5d4df9c9580a97f5eee2e70ae8ad43a0" title="Sleeps for approximately NS nanoseconds." alt="" coords="1676,5,1775,32"/>
<area shape="rect" href="timer_8c.html#ac386900a4e0ba0d6f338b8c5534776d1" title="Sleeps for approximately US microseconds." alt="" coords="963,56,1061,83"/>
<area shape="rect" href="ide_8c.html#a03eb0d9954faefcc1634f76a286f78f5" title="Resets an ATA channel and waits for any devices present on it to finish the reset." alt="" coords="623,107,729,133"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1672,375,1779,401"/>
<area shape="rect" href="ide_8c.html#a32d318073c2235e9b03bd77ed17ae580" title="Wait up to 30 seconds for disk D to clear BSY, and then return the status of the DRQ bit." alt="" coords="793,309,912,336"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="297,179,361,205"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,483,88,509"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1548,451,1624,477"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1367,461,1500,488"/>
<area shape="rect" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console." alt="" coords="1238,461,1297,488"/>
<area shape="rect" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a" title="Writes C to the vga display and serial port." alt="" coords="979,816,1045,843"/>
<area shape="rect" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="1244,411,1291,437"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1216,512,1319,539"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="833,715,872,741"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="829,664,876,691"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="829,816,876,843"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="814,867,891,893"/>
<area shape="rect" href="tests_8c.html#a31e43c3ff7a147fd2a262e4f78ea07b4" title="Runs the test named NAME." alt="" coords="641,660,711,687"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="452,559,525,585"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="651,867,701,893"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="1109,512,1168,539"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="139,609,238,636"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="986,461,1038,488"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="823,208,882,235"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="791,411,915,437"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="421,229,557,256"/>
<area shape="rect" href="shutdown_8c.html#a4cc4519942eb3292f9ee3702330ebd07" title="Powers down the machine we&#39;re running on, as long as we&#39;re running on Bochs or QEMU." alt="" coords="416,609,561,636"/>
<area shape="rect" href="ide_8c.html#ac51161a8c0b58de728cb08a3ff722b0f" title="Low&#45;level ATA primitives." alt="" coords="800,157,905,184"/>
<area shape="rect" href="shutdown_8c.html#a1c9d5e29ad8899afe0c34571ddee18f9" title="Shuts down the machine in the way configured by shutdown_configure()." alt="" coords="289,609,368,636"/>
<area shape="rect" href="init_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title="Prints a kernel command line help message and powers off the machine." alt="" coords="299,508,358,535"/>
<area shape="rect" href="init_8c.html#a598c2f3a0a33552aa203aa847dc265b6" title="Parses options in ARGV[] and returns the first non&#45;option argument." alt="" coords="136,508,241,535"/>
<area shape="rect" href="shutdown_8c.html#ab00adda36155b238b8c39dcd96f13cd9" title="Print statistics about Pintos execution." alt="" coords="634,711,718,737"/>
<area shape="rect" href="ide_8c.html#a5d8393ec752f120abb30d97b14a69600" title="Select disk D in its channel, as select_device(), but wait for the channel to become idle before and ..." alt="" coords="609,157,743,184"/>
<area shape="rect" href="ide_8c.html#ad7c31783f9f455b20c35d43f46ee03d8" title="Selects device D, waiting for it to become ready, and then writes SEC_NO to the disk&#39;s sector selecti..." alt="" coords="439,179,539,205"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="292,280,365,307"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="291,381,367,408"/>
<area shape="rect" href="ide_8c.html#a7252ab4c28b6aed431703ba2b124e05e" title="Program D&#39;s channel so that D is now the selected disk." alt="" coords="801,5,904,32"/>
<area shape="rect" href="ide_8c.html#afb1b543e585d7b5757bf9406b8705349" title="Checks whether device D is an ATA disk and sets D&#39;s is_ata member appropriately." alt="" coords="421,68,557,95"/>
</map>
</div>

</div>
</div>
<a id="a0a8c62da2db42d1707106880540ec1b9" name="a0a8c62da2db42d1707106880540ec1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8c62da2db42d1707106880540ec1b9">&#9670;&nbsp;</a></span>timer_udelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_udelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td>
          <td class="paramname"><em>us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleeps for approximately US microseconds. </p>
<p >Interrupts need not be turned on.</p>
<p >Busy waiting wastes CPU cycles, and busy waiting with interrupts off for the interval between timer ticks or longer will cause timer ticks to be lost. Thus, use <a class="el" href="timer_8c.html#ac386900a4e0ba0d6f338b8c5534776d1" title="Sleeps for approximately US microseconds.">timer_usleep()</a> instead if interrupts are enabled. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00144">144</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="timer_8c_source.html#l00240">real_time_delay()</a>.</p>

<p class="reference">Referenced by <a class="el" href="shutdown_8c_source.html#l00057">shutdown_reboot()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a0a8c62da2db42d1707106880540ec1b9_cgraph.png" border="0" usemap="#atimer_8h_a0a8c62da2db42d1707106880540ec1b9_cgraph" alt=""/></div>
<map name="atimer_8h_a0a8c62da2db42d1707106880540ec1b9_cgraph" id="atimer_8h_a0a8c62da2db42d1707106880540ec1b9_cgraph">
<area shape="rect" title="Sleeps for approximately US microseconds." alt="" coords="5,5,104,32"/>
<area shape="rect" href="timer_8c.html#a28553fa387ff127de26e330dfcfe9fa1" title="Busy&#45;wait for approximately NUM/DENOM seconds." alt="" coords="152,5,268,32"/>
<area shape="rect" href="timer_8c.html#a804190f8e66f39ac2ddb5891de3eec73" title="Iterates through a simple loop LOOPS times, for implementing brief delays." alt="" coords="316,5,397,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a0a8c62da2db42d1707106880540ec1b9_icgraph.png" border="0" usemap="#atimer_8h_a0a8c62da2db42d1707106880540ec1b9_icgraph" alt=""/></div>
<map name="atimer_8h_a0a8c62da2db42d1707106880540ec1b9_icgraph" id="atimer_8h_a0a8c62da2db42d1707106880540ec1b9_icgraph">
<area shape="rect" title="Sleeps for approximately US microseconds." alt="" coords="505,31,604,57"/>
<area shape="rect" href="shutdown_8c.html#a4e8c2a9ddd57dd588fd5b7c4464ea4a4" title="Reboots the machine via the keyboard controller." alt="" coords="333,31,457,57"/>
<area shape="rect" href="kbd_8c.html#a342c6a1eb911b8e2a65a5dfba072492b" title=" " alt="" coords="152,5,285,32"/>
<area shape="rect" href="shutdown_8c.html#a1c9d5e29ad8899afe0c34571ddee18f9" title="Shuts down the machine in the way configured by shutdown_configure()." alt="" coords="179,56,258,83"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="5,31,104,57"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="13,81,96,108"/>
</map>
</div>

</div>
</div>
<a id="ab3924bff1757334dec99e7b12f09c01f" name="ab3924bff1757334dec99e7b12f09c01f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3924bff1757334dec99e7b12f09c01f">&#9670;&nbsp;</a></span>timer_usleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_usleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td>
          <td class="paramname"><em>us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleeps for approximately US microseconds. </p>
<p >Interrupts must be turned on. </p>

<p class="definition">Definition at line <a class="el" href="timer_8c_source.html#l00110">110</a> of file <a class="el" href="timer_8c_source.html">timer.c</a>.</p>

<p class="reference">References <a class="el" href="timer_8c_source.html#l00212">real_time_sleep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ide_8c_source.html#l00165">reset_channel()</a>, and <a class="el" href="ide_8c_source.html#l00441">wait_until_idle()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_ab3924bff1757334dec99e7b12f09c01f_cgraph.png" border="0" usemap="#atimer_8h_ab3924bff1757334dec99e7b12f09c01f_cgraph" alt=""/></div>
<map name="atimer_8h_ab3924bff1757334dec99e7b12f09c01f_cgraph" id="atimer_8h_ab3924bff1757334dec99e7b12f09c01f_cgraph">
<area shape="rect" title="Sleeps for approximately US microseconds." alt="" coords="5,942,104,969"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="152,942,268,969"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1129,903,1230,930"/>
<area shape="rect" href="timer_8c.html#a28553fa387ff127de26e330dfcfe9fa1" title="Busy&#45;wait for approximately NUM/DENOM seconds." alt="" coords="316,841,432,867"/>
<area shape="rect" href="timer_8c.html#aa24fbc19fb550d9efd5cabd97489a399" title="Sleeps for approximately TICKS timer ticks." alt="" coords="329,942,419,969"/>
<area shape="rect" href="timer_8c.html#a804190f8e66f39ac2ddb5891de3eec73" title="Iterates through a simple loop LOOPS times, for implementing brief delays." alt="" coords="492,815,573,842"/>
<area shape="rect" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU." alt="" coords="633,815,728,842"/>
<area shape="rect" href="timer_8c.html#a58f1f79abf9bc0515a305ba89c58b9fa" title="Returns the number of timer ticks elapsed since THEN, which should be a value once returned by timer_..." alt="" coords="480,967,585,994"/>
<area shape="rect" href="timer_8c.html#a2b50be77101b38176d21b52cc425cf3e" title="Returns the number of timer ticks since the OS booted." alt="" coords="638,942,723,969"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1134,827,1225,854"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="951,917,1042,943"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="776,866,876,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1124,30,1235,57"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="788,638,864,665"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1493,613,1602,639"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="953,866,1041,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1691,30,1759,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1320,30,1399,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1507,81,1587,107"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1519,30,1575,57"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1686,511,1763,538"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="973,613,1020,639"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="928,182,1065,209"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1669,613,1781,639"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="941,663,1052,690"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="924,714,1069,741"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1506,131,1589,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1128,131,1231,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1685,131,1764,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1323,131,1395,158"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1314,81,1405,107"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1832,613,1949,639"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1117,373,1241,399"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1118,689,1241,715"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1289,334,1429,361"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1506,283,1589,310"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1477,385,1617,411"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1513,334,1582,361"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1488,182,1607,209"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1695,233,1754,259"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1516,435,1579,462"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1665,283,1784,310"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1845,283,1936,310"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1681,385,1768,411"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1841,385,1940,411"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1678,182,1771,209"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1299,714,1419,741"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1316,663,1403,690"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1524,714,1571,741"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1667,714,1783,741"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_ab3924bff1757334dec99e7b12f09c01f_icgraph.png" border="0" usemap="#atimer_8h_ab3924bff1757334dec99e7b12f09c01f_icgraph" alt=""/></div>
<map name="atimer_8h_ab3924bff1757334dec99e7b12f09c01f_icgraph" id="atimer_8h_ab3924bff1757334dec99e7b12f09c01f_icgraph">
<area shape="rect" title="Sleeps for approximately US microseconds." alt="" coords="779,31,877,57"/>
<area shape="rect" href="ide_8c.html#a03eb0d9954faefcc1634f76a286f78f5" title="Resets an ATA channel and waits for any devices present on it to finish the reset." alt="" coords="458,5,563,32"/>
<area shape="rect" href="ide_8c.html#ac51161a8c0b58de728cb08a3ff722b0f" title="Low&#45;level ATA primitives." alt="" coords="625,56,731,83"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="142,17,206,44"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,17,88,44"/>
<area shape="rect" href="ide_8c.html#a5d8393ec752f120abb30d97b14a69600" title="Select disk D in its channel, as select_device(), but wait for the channel to become idle before and ..." alt="" coords="444,56,577,83"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="260,56,396,83"/>
<area shape="rect" href="ide_8c.html#ad7c31783f9f455b20c35d43f46ee03d8" title="Selects device D, waiting for it to become ready, and then writes SEC_NO to the disk&#39;s sector selecti..." alt="" coords="278,107,378,133"/>
<area shape="rect" href="ide_8c.html#afc9cbaf0892e023867624dca21f5bfa2" title="Reads sector SEC_NO from disk D into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="137,93,211,120"/>
<area shape="rect" href="ide_8c.html#a968318bffbdf3ecb701360fc0ed9cf49" title="Write sector SEC_NO to disk D from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="136,144,212,171"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 4 2021 19:31:02 for PKUOS - Pintos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
