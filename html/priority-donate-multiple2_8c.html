<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PKUOS - Pintos: src/tests/threads/priority-donate-multiple2.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PKUOS - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for PKU Operating System course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d93a1d4020dea85bb71b237545b5e722.html">tests</a></li><li class="navelem"><a class="el" href="dir_b46f1ee853d0c75eee4c005ee305d2d8.html">threads</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">priority-donate-multiple2.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="tests_8h_source.html">tests/threads/tests.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="init_8h_source.html">threads/init.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="synch_8h_source.html">threads/synch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thread_8h_source.html">threads/thread.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for priority-donate-multiple2.c:</div>
<div class="dyncontent">
<div class="center"><img src="priority-donate-multiple2_8c__incl.png" border="0" usemap="#asrc_2tests_2threads_2priority-donate-multiple2_8c" alt=""/></div>
<map name="asrc_2tests_2threads_2priority-donate-multiple2_8c" id="asrc_2tests_2threads_2priority-donate-multiple2_8c">
<area shape="rect" title=" " alt="" coords="234,5,398,47"/>
<area shape="rect" title=" " alt="" coords="5,95,67,121"/>
<area shape="rect" href="tests_8h.html" title=" " alt="" coords="91,95,232,121"/>
<area shape="rect" href="init_8h.html" title=" " alt="" coords="357,169,456,196"/>
<area shape="rect" href="synch_8h.html" title=" " alt="" coords="451,95,567,121"/>
<area shape="rect" href="thread_8h.html" title=" " alt="" coords="257,95,375,121"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="242,244,313,271"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="525,244,601,271"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="431,244,500,271"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="341,244,406,271"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="481,169,530,196"/>
</map>
</div>
</div>
<p><a href="priority-donate-multiple2_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af31ed8792a942a8853e5a862a084cd21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="priority-donate-multiple2_8c.html#af31ed8792a942a8853e5a862a084cd21">test_priority_donate_multiple2</a> (void)</td></tr>
<tr class="separator:af31ed8792a942a8853e5a862a084cd21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56379b758fb21b5a67de1a87d2a74672"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="priority-donate-multiple2_8c.html#a56379b758fb21b5a67de1a87d2a74672">a_thread_func</a> (void *lock_)</td></tr>
<tr class="separator:a56379b758fb21b5a67de1a87d2a74672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af257d61c4fea017f52981dbe2a40534b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="priority-donate-multiple2_8c.html#af257d61c4fea017f52981dbe2a40534b">b_thread_func</a> (void *lock_)</td></tr>
<tr class="separator:af257d61c4fea017f52981dbe2a40534b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada786bf208fbba388a658bfb178eb564"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="priority-donate-multiple2_8c.html#ada786bf208fbba388a658bfb178eb564">c_thread_func</a> (void *a_ <a class="el" href="debug_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a>)</td></tr>
<tr class="separator:ada786bf208fbba388a658bfb178eb564"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adc4fa2593e4b079c20a94703e15e1f8a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="priority-donate-multiple2_8c.html#adc4fa2593e4b079c20a94703e15e1f8a">a_thread_func</a></td></tr>
<tr class="memdesc:adc4fa2593e4b079c20a94703e15e1f8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main thread acquires locks A and B, then it creates three higher-priority threads.  <a href="priority-donate-multiple2_8c.html#adc4fa2593e4b079c20a94703e15e1f8a">More...</a><br /></td></tr>
<tr class="separator:adc4fa2593e4b079c20a94703e15e1f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f7753ad44222ee0b05d795df31c082"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="priority-donate-multiple2_8c.html#ae9f7753ad44222ee0b05d795df31c082">b_thread_func</a></td></tr>
<tr class="separator:ae9f7753ad44222ee0b05d795df31c082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360ca2c27ddddef11f9b22694a95f47a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="priority-donate-multiple2_8c.html#a360ca2c27ddddef11f9b22694a95f47a">c_thread_func</a></td></tr>
<tr class="separator:a360ca2c27ddddef11f9b22694a95f47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a56379b758fb21b5a67de1a87d2a74672" name="a56379b758fb21b5a67de1a87d2a74672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56379b758fb21b5a67de1a87d2a74672">&#9670;&nbsp;</a></span>a_thread_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void a_thread_func </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="priority-donate-multiple2_8c_source.html#l00065">65</a> of file <a class="el" href="priority-donate-multiple2_8c_source.html">priority-donate-multiple2.c</a>.</p>

<p class="reference">References <a class="el" href="synch_8c_source.html#l00193">lock_acquire()</a>, <a class="el" href="synch_8c_source.html#l00229">lock_release()</a>, and <a class="el" href="lib_8c_source.html#l00028">msg()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="priority-donate-multiple2_8c_a56379b758fb21b5a67de1a87d2a74672_cgraph.png" border="0" usemap="#apriority-donate-multiple2_8c_a56379b758fb21b5a67de1a87d2a74672_cgraph" alt=""/></div>
<map name="apriority-donate-multiple2_8c_a56379b758fb21b5a67de1a87d2a74672_cgraph" id="apriority-donate-multiple2_8c_a56379b758fb21b5a67de1a87d2a74672_cgraph">
<area shape="rect" title=" " alt="" coords="5,689,112,716"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="160,520,257,547"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="160,689,257,716"/>
<area shape="rect" href="lib_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title=" " alt="" coords="185,892,232,919"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1034,169,1125,196"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="305,593,455,634"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1191,245,1300,272"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="333,520,427,547"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1365,651,1443,677"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1348,296,1460,323"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1508,296,1625,323"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="850,752,941,779"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="669,701,769,728"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="664,904,775,931"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="510,499,609,525"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1029,549,1130,576"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="851,448,939,475"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1533,853,1601,880"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="856,1005,935,1032"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1364,1132,1444,1159"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1051,1005,1107,1032"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="681,499,757,525"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="872,347,919,373"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="827,904,964,931"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="840,397,951,424"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="823,499,968,525"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1363,929,1445,956"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1028,955,1131,981"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1527,929,1606,956"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1209,955,1281,981"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1200,1107,1291,1133"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1017,499,1141,525"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1018,372,1141,399"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="341,777,419,804"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="503,803,616,829"/>
<area shape="rect" href="lib_8c.html#a3844191cdd54f12ebfa3eee6d1a79ea1" title=" " alt="" coords="353,1183,407,1209"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="527,1259,592,1285"/>
<area shape="rect" href="lib_2stdio_8c.html#a1286c6b071007938f54e9b859109f89d" title="Like vprintf(), except that output is stored into BUFFER, which must have space for BUF_SIZE characte..." alt="" coords="683,1309,755,1336"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="529,1208,589,1235"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="692,1157,747,1184"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="534,1107,585,1133"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="859,1309,932,1336"/>
<area shape="rect" href="lib_2stdio_8c.html#acdff2b19969329b7777564346ac98c5d" title="Helper function for vsnprintf()." alt="" coords="837,1360,954,1387"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="1046,1309,1113,1336"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="1025,1360,1133,1387"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="1029,1411,1129,1437"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="1016,1208,1143,1235"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="1048,1259,1111,1285"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="1201,1385,1290,1412"/>
<area shape="rect" href="string_8c.html#a75301dc67774ade574b3b3205ee4f39e" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="683,1208,755,1235"/>
</map>
</div>

</div>
</div>
<a id="af257d61c4fea017f52981dbe2a40534b" name="af257d61c4fea017f52981dbe2a40534b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af257d61c4fea017f52981dbe2a40534b">&#9670;&nbsp;</a></span>b_thread_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void b_thread_func </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="priority-donate-multiple2_8c_source.html#l00076">76</a> of file <a class="el" href="priority-donate-multiple2_8c_source.html">priority-donate-multiple2.c</a>.</p>

<p class="reference">References <a class="el" href="synch_8c_source.html#l00193">lock_acquire()</a>, <a class="el" href="synch_8c_source.html#l00229">lock_release()</a>, and <a class="el" href="lib_8c_source.html#l00028">msg()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="priority-donate-multiple2_8c_af257d61c4fea017f52981dbe2a40534b_cgraph.png" border="0" usemap="#apriority-donate-multiple2_8c_af257d61c4fea017f52981dbe2a40534b_cgraph" alt=""/></div>
<map name="apriority-donate-multiple2_8c_af257d61c4fea017f52981dbe2a40534b_cgraph" id="apriority-donate-multiple2_8c_af257d61c4fea017f52981dbe2a40534b_cgraph">
<area shape="rect" title=" " alt="" coords="5,689,112,716"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="160,520,257,547"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="160,689,257,716"/>
<area shape="rect" href="lib_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title=" " alt="" coords="185,892,232,919"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1034,169,1125,196"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="305,593,455,634"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1191,245,1300,272"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="333,520,427,547"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1365,651,1443,677"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1348,296,1460,323"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1508,296,1625,323"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="850,752,941,779"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="669,701,769,728"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="664,904,775,931"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="510,499,609,525"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1029,549,1130,576"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="851,448,939,475"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1533,853,1601,880"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="856,1005,935,1032"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1364,1132,1444,1159"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1051,1005,1107,1032"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="681,499,757,525"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="872,347,919,373"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="827,904,964,931"/>
<area shape="rect" href="switch_8h.html#a72fbed245d8de7e36d70eb4682682c98" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="840,397,951,424"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="823,499,968,525"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1363,929,1445,956"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1028,955,1131,981"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1527,929,1606,956"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1209,955,1281,981"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1200,1107,1291,1133"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="1017,499,1141,525"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="1018,372,1141,399"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="341,777,419,804"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="503,803,616,829"/>
<area shape="rect" href="lib_8c.html#a3844191cdd54f12ebfa3eee6d1a79ea1" title=" " alt="" coords="353,1183,407,1209"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="527,1259,592,1285"/>
<area shape="rect" href="lib_2stdio_8c.html#a1286c6b071007938f54e9b859109f89d" title="Like vprintf(), except that output is stored into BUFFER, which must have space for BUF_SIZE characte..." alt="" coords="683,1309,755,1336"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="529,1208,589,1235"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="692,1157,747,1184"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="534,1107,585,1133"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="859,1309,932,1336"/>
<area shape="rect" href="lib_2stdio_8c.html#acdff2b19969329b7777564346ac98c5d" title="Helper function for vsnprintf()." alt="" coords="837,1360,954,1387"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="1046,1309,1113,1336"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="1025,1360,1133,1387"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="1029,1411,1129,1437"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="1016,1208,1143,1235"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="1048,1259,1111,1285"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="1201,1385,1290,1412"/>
<area shape="rect" href="string_8c.html#a75301dc67774ade574b3b3205ee4f39e" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="683,1208,755,1235"/>
</map>
</div>

</div>
</div>
<a id="ada786bf208fbba388a658bfb178eb564" name="ada786bf208fbba388a658bfb178eb564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada786bf208fbba388a658bfb178eb564">&#9670;&nbsp;</a></span>c_thread_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void c_thread_func </td>
          <td>(</td>
          <td class="paramtype">void *a_&#160;</td>
          <td class="paramname"><em>UNUSED</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="priority-donate-multiple2_8c_source.html#l00087">87</a> of file <a class="el" href="priority-donate-multiple2_8c_source.html">priority-donate-multiple2.c</a>.</p>

<p class="reference">References <a class="el" href="lib_8c_source.html#l00028">msg()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="priority-donate-multiple2_8c_ada786bf208fbba388a658bfb178eb564_cgraph.png" border="0" usemap="#apriority-donate-multiple2_8c_ada786bf208fbba388a658bfb178eb564_cgraph" alt=""/></div>
<map name="apriority-donate-multiple2_8c_ada786bf208fbba388a658bfb178eb564_cgraph" id="apriority-donate-multiple2_8c_ada786bf208fbba388a658bfb178eb564_cgraph">
<area shape="rect" title=" " alt="" coords="5,183,112,209"/>
<area shape="rect" href="lib_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title=" " alt="" coords="160,183,207,209"/>
<area shape="rect" href="lib_8c.html#a3844191cdd54f12ebfa3eee6d1a79ea1" title=" " alt="" coords="255,183,308,209"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="356,81,421,108"/>
<area shape="rect" href="lib_2stdio_8c.html#a1286c6b071007938f54e9b859109f89d" title="Like vprintf(), except that output is stored into BUFFER, which must have space for BUF_SIZE characte..." alt="" coords="469,107,541,133"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="359,183,419,209"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="478,233,533,260"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="363,284,414,311"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="611,81,685,108"/>
<area shape="rect" href="lib_2stdio_8c.html#acdff2b19969329b7777564346ac98c5d" title="Helper function for vsnprintf()." alt="" coords="589,132,707,159"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="785,5,851,32"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="764,56,872,83"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="768,107,868,133"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="755,157,881,184"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="787,208,849,235"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="929,81,1019,108"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="946,157,1002,184"/>
<area shape="rect" href="string_8c.html#a75301dc67774ade574b3b3205ee4f39e" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="469,183,541,209"/>
</map>
</div>

</div>
</div>
<a id="af31ed8792a942a8853e5a862a084cd21" name="af31ed8792a942a8853e5a862a084cd21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31ed8792a942a8853e5a862a084cd21">&#9670;&nbsp;</a></span>test_priority_donate_multiple2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void test_priority_donate_multiple2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="priority-donate-multiple2_8c_source.html#l00028">28</a> of file <a class="el" href="priority-donate-multiple2_8c_source.html">priority-donate-multiple2.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="adc4fa2593e4b079c20a94703e15e1f8a" name="adc4fa2593e4b079c20a94703e15e1f8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc4fa2593e4b079c20a94703e15e1f8a">&#9670;&nbsp;</a></span>a_thread_func</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a> a_thread_func</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The main thread acquires locks A and B, then it creates three higher-priority threads. </p>
<p >The first two of these threads block acquiring one of the locks and thus donate their priority to the main thread. The main thread releases the locks in turn and relinquishes its donated priorities, allowing the third thread to run.</p>
<p >In this test, the main thread releases the locks in a different order compared to <a class="el" href="priority-donate-multiple_8c.html">priority-donate-multiple.c</a>.</p>
<p >Written by Godmar Back <a href="#" onclick="location.href='mai'+'lto:'+'gba'+'ck'+'@cs'+'.v'+'t.e'+'du'; return false;">gback<span style="display: none;">.nosp@m.</span>@cs.<span style="display: none;">.nosp@m.</span>vt.ed<span style="display: none;">.nosp@m.</span>u</a>. Based on a test originally submitted for Stanford's CS 140 in winter 1999 by Matt Franklin <a href="#" onclick="location.href='mai'+'lto:'+'sta'+'rt'+'led'+'@l'+'ela'+'nd'+'.st'+'an'+'for'+'d.'+'edu'; return false;">start<span style="display: none;">.nosp@m.</span>led@<span style="display: none;">.nosp@m.</span>lelan<span style="display: none;">.nosp@m.</span>d.st<span style="display: none;">.nosp@m.</span>anfor<span style="display: none;">.nosp@m.</span>d.ed<span style="display: none;">.nosp@m.</span>u</a>, Greg Hutchins <a href="#" onclick="location.href='mai'+'lto:'+'gmh'+'@l'+'ela'+'nd'+'.st'+'an'+'for'+'d.'+'edu'; return false;">gmh@l<span style="display: none;">.nosp@m.</span>elan<span style="display: none;">.nosp@m.</span>d.sta<span style="display: none;">.nosp@m.</span>nfor<span style="display: none;">.nosp@m.</span>d.edu</a>, Yu Ping Hu <a href="#" onclick="location.href='mai'+'lto:'+'yph'+'@c'+'s.s'+'ta'+'nfo'+'rd'+'.ed'+'u'; return false;">yph@c<span style="display: none;">.nosp@m.</span>s.st<span style="display: none;">.nosp@m.</span>anfor<span style="display: none;">.nosp@m.</span>d.ed<span style="display: none;">.nosp@m.</span>u</a>. Modified by arens. </p>

<p class="definition">Definition at line <a class="el" href="priority-donate-multiple2_8c_source.html#l00023">23</a> of file <a class="el" href="priority-donate-multiple2_8c_source.html">priority-donate-multiple2.c</a>.</p>

</div>
</div>
<a id="ae9f7753ad44222ee0b05d795df31c082" name="ae9f7753ad44222ee0b05d795df31c082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f7753ad44222ee0b05d795df31c082">&#9670;&nbsp;</a></span>b_thread_func</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a> b_thread_func</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="priority-donate-multiple2_8c_source.html#l00024">24</a> of file <a class="el" href="priority-donate-multiple2_8c_source.html">priority-donate-multiple2.c</a>.</p>

</div>
</div>
<a id="a360ca2c27ddddef11f9b22694a95f47a" name="a360ca2c27ddddef11f9b22694a95f47a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360ca2c27ddddef11f9b22694a95f47a">&#9670;&nbsp;</a></span>c_thread_func</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="thread_8h.html#ae0cdeaf76241fd052619a203b9dc09aa">thread_func</a> c_thread_func</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="priority-donate-multiple2_8c_source.html#l00025">25</a> of file <a class="el" href="priority-donate-multiple2_8c_source.html">priority-donate-multiple2.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 4 2021 19:31:05 for PKUOS - Pintos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
