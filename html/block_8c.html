<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PKUOS - Pintos: src/devices/block.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PKUOS - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for PKU Operating System course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_6fac9273c1f4413d2ee63ba6cd0b0eb2.html">devices</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">block.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="block_8h_source.html">devices/block.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="list_8h_source.html">list.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ide_8h_source.html">devices/ide.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="malloc_8h_source.html">threads/malloc.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for block.c:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c__incl.png" border="0" usemap="#asrc_2devices_2block_8c" alt=""/></div>
<map name="asrc_2devices_2block_8c" id="asrc_2devices_2block_8c">
<area shape="rect" title=" " alt="" coords="266,5,399,32"/>
<area shape="rect" href="block_8h.html" title=" " alt="" coords="104,80,217,107"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="31,80,80,107"/>
<area shape="rect" href="string_8h.html" title=" " alt="" coords="241,80,307,107"/>
<area shape="rect" title=" " alt="" coords="475,80,537,107"/>
<area shape="rect" href="ide_8h.html" title=" " alt="" coords="561,80,661,107"/>
<area shape="rect" href="malloc_8h.html" title=" " alt="" coords="331,80,451,107"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="233,155,302,181"/>
<area shape="rect" href="inttypes_8h.html" title=" " alt="" coords="121,155,200,181"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="39,229,104,256"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="21,155,97,181"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="356,155,427,181"/>
</map>
</div>
</div>
<p><a href="block_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structblock.html">block</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A block device.  <a href="structblock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9dab72b1a888ba36ece50287da87c919"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structblock.html">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a9dab72b1a888ba36ece50287da87c919">list_elem_to_block</a> (struct <a class="el" href="structlist__elem.html">list_elem</a> *<a class="el" href="structlist__elem.html">list_elem</a>)</td></tr>
<tr class="memdesc:a9dab72b1a888ba36ece50287da87c919"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the block device corresponding to LIST_ELEM, or a null pointer if LIST_ELEM is the list end of all_blocks.  <a href="block_8c.html#a9dab72b1a888ba36ece50287da87c919">More...</a><br /></td></tr>
<tr class="separator:a9dab72b1a888ba36ece50287da87c919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fea7bdd895d4511679ac9f962cd87d2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a7fea7bdd895d4511679ac9f962cd87d2">block_type_name</a> (enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a> type)</td></tr>
<tr class="memdesc:a7fea7bdd895d4511679ac9f962cd87d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a human-readable name for the given block device TYPE.  <a href="block_8c.html#a7fea7bdd895d4511679ac9f962cd87d2">More...</a><br /></td></tr>
<tr class="separator:a7fea7bdd895d4511679ac9f962cd87d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5f0dba944258b5980a0ee4713ac90f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structblock.html">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a5f5f0dba944258b5980a0ee4713ac90f">block_get_role</a> (enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a> role)</td></tr>
<tr class="memdesc:a5f5f0dba944258b5980a0ee4713ac90f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the block device fulfilling the given ROLE, or a null pointer if no block device has been assigned that role.  <a href="block_8c.html#a5f5f0dba944258b5980a0ee4713ac90f">More...</a><br /></td></tr>
<tr class="separator:a5f5f0dba944258b5980a0ee4713ac90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6bd780f6d30734a643706efa16485e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a8f6bd780f6d30734a643706efa16485e">block_set_role</a> (enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a> role, struct <a class="el" href="structblock.html">block</a> *<a class="el" href="structblock.html">block</a>)</td></tr>
<tr class="memdesc:a8f6bd780f6d30734a643706efa16485e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns BLOCK the given ROLE.  <a href="block_8c.html#a8f6bd780f6d30734a643706efa16485e">More...</a><br /></td></tr>
<tr class="separator:a8f6bd780f6d30734a643706efa16485e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a215ed8c0dc495aff38df8d2292de1d4a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structblock.html">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a215ed8c0dc495aff38df8d2292de1d4a">block_first</a> (void)</td></tr>
<tr class="memdesc:a215ed8c0dc495aff38df8d2292de1d4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first block device in kernel probe order, or a null pointer if no block devices are registered.  <a href="block_8c.html#a215ed8c0dc495aff38df8d2292de1d4a">More...</a><br /></td></tr>
<tr class="separator:a215ed8c0dc495aff38df8d2292de1d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7cb9a855f67dc16e95e539f0f7a815"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structblock.html">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#aca7cb9a855f67dc16e95e539f0f7a815">block_next</a> (struct <a class="el" href="structblock.html">block</a> *<a class="el" href="structblock.html">block</a>)</td></tr>
<tr class="memdesc:aca7cb9a855f67dc16e95e539f0f7a815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the block device following BLOCK in kernel probe order, or a null pointer if BLOCK is the last block device.  <a href="block_8c.html#aca7cb9a855f67dc16e95e539f0f7a815">More...</a><br /></td></tr>
<tr class="separator:aca7cb9a855f67dc16e95e539f0f7a815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d68abf91f7391a1e5cab465e97e4879"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structblock.html">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a2d68abf91f7391a1e5cab465e97e4879">block_get_by_name</a> (const char *<a class="el" href="insult_8c.html#a458312c43d951ea41bca2379541164e6">name</a>)</td></tr>
<tr class="memdesc:a2d68abf91f7391a1e5cab465e97e4879"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the block device with the given NAME, or a null pointer if no block device has that name.  <a href="block_8c.html#a2d68abf91f7391a1e5cab465e97e4879">More...</a><br /></td></tr>
<tr class="separator:a2d68abf91f7391a1e5cab465e97e4879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987bd0fa2cc9d2510f3756532f120d25"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a987bd0fa2cc9d2510f3756532f120d25">check_sector</a> (struct <a class="el" href="structblock.html">block</a> *<a class="el" href="structblock.html">block</a>, <a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a> sector)</td></tr>
<tr class="memdesc:a987bd0fa2cc9d2510f3756532f120d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies that SECTOR is a valid offset within BLOCK.  <a href="block_8c.html#a987bd0fa2cc9d2510f3756532f120d25">More...</a><br /></td></tr>
<tr class="separator:a987bd0fa2cc9d2510f3756532f120d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c08b3ab03d5cdb52856bab0aafe7006"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a8c08b3ab03d5cdb52856bab0aafe7006">block_read</a> (struct <a class="el" href="structblock.html">block</a> *<a class="el" href="structblock.html">block</a>, <a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a> sector, void *<a class="el" href="input_8c.html#a02352b0fa3692f7c9029b2e12edcdbb6">buffer</a>)</td></tr>
<tr class="memdesc:a8c08b3ab03d5cdb52856bab0aafe7006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes.  <a href="block_8c.html#a8c08b3ab03d5cdb52856bab0aafe7006">More...</a><br /></td></tr>
<tr class="separator:a8c08b3ab03d5cdb52856bab0aafe7006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7e44f7861385a5c4630d899a469f9d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#ab7e44f7861385a5c4630d899a469f9d4">block_write</a> (struct <a class="el" href="structblock.html">block</a> *<a class="el" href="structblock.html">block</a>, <a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a> sector, const void *<a class="el" href="input_8c.html#a02352b0fa3692f7c9029b2e12edcdbb6">buffer</a>)</td></tr>
<tr class="memdesc:ab7e44f7861385a5c4630d899a469f9d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write sector SECTOR to BLOCK from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes.  <a href="block_8c.html#ab7e44f7861385a5c4630d899a469f9d4">More...</a><br /></td></tr>
<tr class="separator:ab7e44f7861385a5c4630d899a469f9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f8a413d9cb3ea11c9cd302f803daea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a66f8a413d9cb3ea11c9cd302f803daea">block_size</a> (struct <a class="el" href="structblock.html">block</a> *<a class="el" href="structblock.html">block</a>)</td></tr>
<tr class="memdesc:a66f8a413d9cb3ea11c9cd302f803daea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of sectors in BLOCK.  <a href="block_8c.html#a66f8a413d9cb3ea11c9cd302f803daea">More...</a><br /></td></tr>
<tr class="separator:a66f8a413d9cb3ea11c9cd302f803daea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb4cd8ff36ddbdf93ebc1944ccfbd4d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#abfb4cd8ff36ddbdf93ebc1944ccfbd4d">block_name</a> (struct <a class="el" href="structblock.html">block</a> *<a class="el" href="structblock.html">block</a>)</td></tr>
<tr class="memdesc:abfb4cd8ff36ddbdf93ebc1944ccfbd4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns BLOCK's name (e.g.  <a href="block_8c.html#abfb4cd8ff36ddbdf93ebc1944ccfbd4d">More...</a><br /></td></tr>
<tr class="separator:abfb4cd8ff36ddbdf93ebc1944ccfbd4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88a7871848ef62687d058069e5fd522"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#ac88a7871848ef62687d058069e5fd522">block_type</a> (struct <a class="el" href="structblock.html">block</a> *<a class="el" href="structblock.html">block</a>)</td></tr>
<tr class="memdesc:ac88a7871848ef62687d058069e5fd522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns BLOCK's type.  <a href="block_8c.html#ac88a7871848ef62687d058069e5fd522">More...</a><br /></td></tr>
<tr class="separator:ac88a7871848ef62687d058069e5fd522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1e8b4db376000c3c1824b19a3984fbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb">block_print_stats</a> (void)</td></tr>
<tr class="memdesc:af1e8b4db376000c3c1824b19a3984fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints statistics for each block device used for a Pintos role.  <a href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb">More...</a><br /></td></tr>
<tr class="separator:af1e8b4db376000c3c1824b19a3984fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d3d6f31410885d66cf8f719339d79d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structblock.html">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d">block_register</a> (const char *<a class="el" href="insult_8c.html#a458312c43d951ea41bca2379541164e6">name</a>, enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a> type, const char *extra_info, <a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a> size, const struct <a class="el" href="structblock__operations.html">block_operations</a> *ops, void *aux)</td></tr>
<tr class="memdesc:a39d3d6f31410885d66cf8f719339d79d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new block device with the given NAME.  <a href="block_8c.html#a39d3d6f31410885d66cf8f719339d79d">More...</a><br /></td></tr>
<tr class="separator:a39d3d6f31410885d66cf8f719339d79d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a15141263b435e32032f10d7ae077c8a7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlist.html">list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a15141263b435e32032f10d7ae077c8a7">all_blocks</a> = <a class="el" href="list_8h.html#a5b9fa0d6c92372c6531c453c26c65b0b">LIST_INITIALIZER</a> (all_blocks)</td></tr>
<tr class="memdesc:a15141263b435e32032f10d7ae077c8a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all block devices.  <a href="block_8c.html#a15141263b435e32032f10d7ae077c8a7">More...</a><br /></td></tr>
<tr class="separator:a15141263b435e32032f10d7ae077c8a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d0ff7fffebd1f9f70341773a919e3fe"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structblock.html">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a9d0ff7fffebd1f9f70341773a919e3fe">block_by_role</a> [<a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443a3baa59432114f9149b83a3f895a469ee">BLOCK_ROLE_CNT</a>]</td></tr>
<tr class="memdesc:a9d0ff7fffebd1f9f70341773a919e3fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The block block assigned to each Pintos role.  <a href="block_8c.html#a9d0ff7fffebd1f9f70341773a919e3fe">More...</a><br /></td></tr>
<tr class="separator:a9d0ff7fffebd1f9f70341773a919e3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a215ed8c0dc495aff38df8d2292de1d4a" name="a215ed8c0dc495aff38df8d2292de1d4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a215ed8c0dc495aff38df8d2292de1d4a">&#9670;&nbsp;</a></span>block_first()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structblock.html">block</a> * block_first </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the first block device in kernel probe order, or a null pointer if no block devices are registered. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00071">71</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00025">all_blocks</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00072">list_begin()</a>, and <a class="el" href="block_8c_source.html#l00217">list_elem_to_block()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a215ed8c0dc495aff38df8d2292de1d4a_cgraph.png" border="0" usemap="#ablock_8c_a215ed8c0dc495aff38df8d2292de1d4a_cgraph" alt=""/></div>
<map name="ablock_8c_a215ed8c0dc495aff38df8d2292de1d4a_cgraph" id="ablock_8c_a215ed8c0dc495aff38df8d2292de1d4a_cgraph">
<area shape="rect" title="Returns the first block device in kernel probe order, or a null pointer if no block devices are regis..." alt="" coords="5,31,88,57"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="163,5,241,32"/>
<area shape="rect" href="block_8c.html#a9dab72b1a888ba36ece50287da87c919" title="Returns the block device corresponding to LIST_ELEM, or a null pointer if LIST_ELEM is the list end o..." alt="" coords="136,56,268,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="316,56,384,83"/>
</map>
</div>

</div>
</div>
<a id="a2d68abf91f7391a1e5cab465e97e4879" name="a2d68abf91f7391a1e5cab465e97e4879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d68abf91f7391a1e5cab465e97e4879">&#9670;&nbsp;</a></span>block_get_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structblock.html">block</a> * block_get_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the block device with the given NAME, or a null pointer if no block device has that name. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00087">87</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00025">all_blocks</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00072">list_begin()</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00094">list_end()</a>, <a class="el" href="list_8h_source.html#l00108">list_entry</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00082">list_next()</a>, <a class="el" href="block_8c_source.html#l00013">block::name</a>, <a class="el" href="insult_8c_source.html#l00047">name</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, and <a class="el" href="string_8c_source.html#l00073">strcmp()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a2d68abf91f7391a1e5cab465e97e4879_cgraph.png" border="0" usemap="#ablock_8c_a2d68abf91f7391a1e5cab465e97e4879_cgraph" alt=""/></div>
<map name="ablock_8c_a2d68abf91f7391a1e5cab465e97e4879_cgraph" id="ablock_8c_a2d68abf91f7391a1e5cab465e97e4879_cgraph">
<area shape="rect" title="Returns the block device with the given NAME, or a null pointer if no block device has that name." alt="" coords="5,81,147,108"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="195,5,273,32"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="200,56,268,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#abd2f8e3cf912b8f9ba5e592d32f11ff3" title="Returns the element after ELEM in its list." alt="" coords="199,107,269,133"/>
<area shape="rect" href="string_8c.html#ae99b71772ffcf066739c8568013425e3" title="Finds the first differing characters in strings A and B." alt="" coords="203,157,265,184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#aee78fb1351519ad20686f6eaf9018b4c" title="Returns true if ELEM is a head, false otherwise." alt="" coords="327,81,396,108"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="321,132,401,159"/>
</map>
</div>

</div>
</div>
<a id="a5f5f0dba944258b5980a0ee4713ac90f" name="a5f5f0dba944258b5980a0ee4713ac90f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f5f0dba944258b5980a0ee4713ac90f">&#9670;&nbsp;</a></span>block_get_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structblock.html">block</a> * block_get_role </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a>&#160;</td>
          <td class="paramname"><em>role</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the block device fulfilling the given ROLE, or a null pointer if no block device has been assigned that role. </p>
<p >Finding block devices. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00054">54</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="block_8c_source.html#l00028">block_by_role</a>, and <a class="el" href="block_8h_source.html#l00033">BLOCK_ROLE_CNT</a>.</p>

<p class="reference">Referenced by <a class="el" href="filesys_8c_source.html#l00018">filesys_init()</a>, <a class="el" href="fsutil_8c_source.html#l00167">fsutil_append()</a>, and <a class="el" href="fsutil_8c_source.html#l00073">fsutil_extract()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a5f5f0dba944258b5980a0ee4713ac90f_icgraph.png" border="0" usemap="#ablock_8c_a5f5f0dba944258b5980a0ee4713ac90f_icgraph" alt=""/></div>
<map name="ablock_8c_a5f5f0dba944258b5980a0ee4713ac90f_icgraph" id="ablock_8c_a5f5f0dba944258b5980a0ee4713ac90f_icgraph">
<area shape="rect" title="Returns the block device fulfilling the given ROLE, or a null pointer if no block device has been ass..." alt="" coords="424,56,533,83"/>
<area shape="rect" href="filesys_8c.html#af905a48e295d86405ec08c307b6272f5" title="Initializes the file system module." alt="" coords="139,5,223,32"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="275,56,376,83"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="277,107,374,133"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,31,88,57"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,56,227,83"/>
</map>
</div>

</div>
</div>
<a id="abfb4cd8ff36ddbdf93ebc1944ccfbd4d" name="abfb4cd8ff36ddbdf93ebc1944ccfbd4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfb4cd8ff36ddbdf93ebc1944ccfbd4d">&#9670;&nbsp;</a></span>block_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * block_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structblock.html">block</a> *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns BLOCK's name (e.g. </p>
<p >"hda"). </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00151">151</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00013">block::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="block_8c_source.html#l00105">check_sector()</a>, <a class="el" href="partition_8c_source.html#l00154">found_partition()</a>, <a class="el" href="partition_8c_source.html#l00028">partition_scan()</a>, and <a class="el" href="partition_8c_source.html#l00050">read_partition_table()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_abfb4cd8ff36ddbdf93ebc1944ccfbd4d_icgraph.png" border="0" usemap="#ablock_8c_abfb4cd8ff36ddbdf93ebc1944ccfbd4d_icgraph" alt=""/></div>
<map name="ablock_8c_abfb4cd8ff36ddbdf93ebc1944ccfbd4d_icgraph" id="ablock_8c_abfb4cd8ff36ddbdf93ebc1944ccfbd4d_icgraph">
<area shape="rect" title="Returns BLOCK&#39;s name (e.g." alt="" coords="1887,791,1980,817"/>
<area shape="rect" href="block_8c.html#a987bd0fa2cc9d2510f3756532f120d25" title="Verifies that SECTOR is a valid offset within BLOCK." alt="" coords="1739,537,1839,564"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="1392,840,1532,867"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="1237,765,1342,792"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="1580,816,1691,843"/>
<area shape="rect" href="block_8c.html#a8c08b3ab03d5cdb52856bab0aafe7006" title="Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="1592,537,1679,564"/>
<area shape="rect" href="block_8c.html#ab7e44f7861385a5c4630d899a469f9d4" title="Write sector SECTOR to BLOCK from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="1417,208,1507,235"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="753,412,850,439"/>
<area shape="rect" href="inode_8c.html#a7adc21afc633b56d25a229ce0087c4a0" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="1243,360,1335,387"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="1409,512,1515,539"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="1235,563,1344,589"/>
<area shape="rect" href="partition_8c.html#a3bf0f39484d36b71f958107c23671e36" title="Reads sector SECTOR from partition P into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="1410,461,1514,488"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,387,227,413"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,387,88,413"/>
<area shape="rect" href="directory_8c.html#a782062143b05a6f32d11457cfd6259f6" title="Searches DIR for a file with the given NAME and returns true if one exists, false otherwise." alt="" coords="1083,360,1167,387"/>
<area shape="rect" href="directory_8c.html#afdea7fe972a97776e832c4324b0c4b9d" title="Opens the root directory and returns a directory for it." alt="" coords="1073,411,1177,437"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="1081,461,1170,488"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="1064,56,1187,83"/>
<area shape="rect" href="free-map_8c.html#a82ae69d4b7534829d5c1672231c62370" title="Opens the free map file and reads it from disk." alt="" coords="900,56,1016,83"/>
<area shape="rect" href="filesys_8c.html#a79d6e6b4a6c2295fba2322000c7c19fd" title="Opens the file with the given NAME." alt="" coords="910,360,1006,387"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="751,195,852,221"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="764,360,839,387"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="778,284,825,311"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="583,287,686,313"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,293,519,320"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,305,348,332"/>
<area shape="rect" href="filesys_8c.html#aff15830b489ffbb2619bbb71a79656ee" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="906,461,1010,488"/>
<area shape="rect" href="filesys_8c.html#ac536ffc3c10934a7f80e43e98b7c75ae" title="Deletes the file named NAME." alt="" coords="903,512,1013,539"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="925,613,991,640"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="599,467,671,493"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="917,5,999,32"/>
<area shape="rect" href="filesys_8c.html#af905a48e295d86405ec08c307b6272f5" title="Initializes the file system module." alt="" coords="759,56,843,83"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="1092,512,1159,539"/>
<area shape="rect" href="directory_8c.html#ae9ec2107e448111aca8951c2f7bfa61b" title="Reads the next directory entry in DIR and stores the name in NAME." alt="" coords="1247,664,1332,691"/>
<area shape="rect" href="file_8c.html#aa970e0e3d037e457750745798328db97" title="Reads SIZE bytes from FILE into BUFFER, starting at the file&#39;s current position." alt="" coords="1089,208,1162,235"/>
<area shape="rect" href="file_8c.html#a9f62f31208f5a024b47fc3ac90ed0b9c" title="Reads SIZE bytes from FILE into BUFFER, starting at offset FILE_OFS in the file." alt="" coords="1243,411,1335,437"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="1259,461,1320,488"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="905,208,1011,235"/>
<area shape="rect" href="file_8c.html#a5c3629e8008d2ad73290be83f84d27eb" title="Writes SIZE bytes from BUFFER into FILE, starting at the file&#39;s current position." alt="" coords="921,563,995,589"/>
<area shape="rect" href="file_8c.html#a066213728ed4ad6314a980f50c2c93d7" title="Writes SIZE bytes from BUFFER into FILE, starting at offset FILE_OFS in the file." alt="" coords="1079,613,1172,640"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="567,764,703,791"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="425,663,489,689"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="1240,107,1339,133"/>
<area shape="rect" href="partition_8c.html#a0804c8e9bd1b9f49d0a44c022574445b" title="Write sector SECTOR to partition P from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="1237,56,1342,83"/>
<area shape="rect" href="directory_8c.html#ab3951213f266ce0e0404203a35fefe8f" title="Creates a directory with space for ENTRY_CNT entries in the given SECTOR." alt="" coords="1085,5,1166,32"/>
</map>
</div>

</div>
</div>
<a id="aca7cb9a855f67dc16e95e539f0f7a815" name="aca7cb9a855f67dc16e95e539f0f7a815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca7cb9a855f67dc16e95e539f0f7a815">&#9670;&nbsp;</a></span>block_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structblock.html">block</a> * block_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structblock.html">block</a> *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the block device following BLOCK in kernel probe order, or a null pointer if BLOCK is the last block device. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00079">79</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00011">block::list_elem</a>, <a class="el" href="block_8c_source.html#l00217">list_elem_to_block()</a>, and <a class="el" href="lib_2kernel_2list_8c_source.html#l00082">list_next()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_aca7cb9a855f67dc16e95e539f0f7a815_cgraph.png" border="0" usemap="#ablock_8c_aca7cb9a855f67dc16e95e539f0f7a815_cgraph" alt=""/></div>
<map name="ablock_8c_aca7cb9a855f67dc16e95e539f0f7a815_cgraph" id="ablock_8c_aca7cb9a855f67dc16e95e539f0f7a815_cgraph">
<area shape="rect" title="Returns the block device following BLOCK in kernel probe order, or a null pointer if BLOCK is the las..." alt="" coords="5,31,91,57"/>
<area shape="rect" href="block_8c.html#a9dab72b1a888ba36ece50287da87c919" title="Returns the block device corresponding to LIST_ELEM, or a null pointer if LIST_ELEM is the list end o..." alt="" coords="139,5,271,32"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#abd2f8e3cf912b8f9ba5e592d32f11ff3" title="Returns the element after ELEM in its list." alt="" coords="169,56,240,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="325,5,393,32"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#aee78fb1351519ad20686f6eaf9018b4c" title="Returns true if ELEM is a head, false otherwise." alt="" coords="324,56,393,83"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="319,107,399,133"/>
</map>
</div>

</div>
</div>
<a id="af1e8b4db376000c3c1824b19a3984fbb" name="af1e8b4db376000c3c1824b19a3984fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1e8b4db376000c3c1824b19a3984fbb">&#9670;&nbsp;</a></span>block_print_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void block_print_stats </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints statistics for each block device used for a Pintos role. </p>
<p >Statistics. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00165">165</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00028">block_by_role</a>, <a class="el" href="block_8h_source.html#l00033">BLOCK_ROLE_CNT</a>, <a class="el" href="block_8c_source.html#l00035">block_type_name()</a>, <a class="el" href="block_8c_source.html#l00013">block::name</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, <a class="el" href="block_8c_source.html#l00020">block::read_cnt</a>, <a class="el" href="block_8c_source.html#l00014">block::type</a>, and <a class="el" href="block_8c_source.html#l00021">block::write_cnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="shutdown_8c_source.html#l00129">print_stats()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_af1e8b4db376000c3c1824b19a3984fbb_cgraph.png" border="0" usemap="#ablock_8c_af1e8b4db376000c3c1824b19a3984fbb_cgraph" alt=""/></div>
<map name="ablock_8c_af1e8b4db376000c3c1824b19a3984fbb_cgraph" id="ablock_8c_af1e8b4db376000c3c1824b19a3984fbb_cgraph">
<area shape="rect" title="Prints statistics for each block device used for a Pintos role." alt="" coords="5,833,128,860"/>
<area shape="rect" href="block_8c.html#a7fea7bdd895d4511679ac9f962cd87d2" title="Returns a human&#45;readable name for the given block device TYPE." alt="" coords="176,808,303,835"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="213,859,265,885"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="351,859,409,885"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="472,132,545,159"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1093,1213,1212,1240"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="927,1315,1045,1341"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="457,733,560,760"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="641,132,708,159"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="621,183,729,209"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="625,233,725,260"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="611,31,738,57"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="643,81,706,108"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="789,183,879,209"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="806,31,862,57"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="2016,1272,2107,1299"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1303,1087,1401,1113"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1492,1245,1641,1286"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1848,1069,1957,1096"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1520,968,1613,995"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="2023,917,2100,944"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="2005,1069,2117,1096"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1857,613,1948,640"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1695,664,1795,691"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1689,917,1800,944"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1695,968,1794,995"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="2011,461,2112,488"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1859,664,1947,691"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1869,867,1937,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1863,917,1942,944"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1104,1163,1201,1189"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1313,791,1391,817"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1525,867,1608,893"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1515,816,1618,843"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1510,765,1623,792"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="608,569,741,596"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1260,1290,1444,1331"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="791,487,877,513"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1529,183,1605,209"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="953,385,1019,412"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="1119,360,1187,387"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="948,1112,1024,1139"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="948,753,1024,780"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="1115,411,1191,437"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="1316,284,1388,311"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1725,56,1764,83"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1853,81,1952,108"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1725,157,1764,184"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1711,5,1778,32"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1849,208,1956,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_af1e8b4db376000c3c1824b19a3984fbb_icgraph.png" border="0" usemap="#ablock_8c_af1e8b4db376000c3c1824b19a3984fbb_icgraph" alt=""/></div>
<map name="ablock_8c_af1e8b4db376000c3c1824b19a3984fbb_icgraph" id="ablock_8c_af1e8b4db376000c3c1824b19a3984fbb_icgraph">
<area shape="rect" title="Prints statistics for each block device used for a Pintos role." alt="" coords="741,81,864,108"/>
<area shape="rect" href="shutdown_8c.html#ab00adda36155b238b8c39dcd96f13cd9" title="Print statistics about Pintos execution." alt="" coords="609,81,693,108"/>
<area shape="rect" href="shutdown_8c.html#a4cc4519942eb3292f9ee3702330ebd07" title="Powers down the machine we&#39;re running on, as long as we&#39;re running on Bochs or QEMU." alt="" coords="416,81,561,108"/>
<area shape="rect" href="shutdown_8c.html#a1c9d5e29ad8899afe0c34571ddee18f9" title="Shuts down the machine in the way configured by shutdown_configure()." alt="" coords="289,56,368,83"/>
<area shape="rect" href="init_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title="Prints a kernel command line help message and powers off the machine." alt="" coords="299,107,358,133"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="139,5,238,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,81,88,108"/>
<area shape="rect" href="init_8c.html#a598c2f3a0a33552aa203aa847dc265b6" title="Parses options in ARGV[] and returns the first non&#45;option argument." alt="" coords="136,107,241,133"/>
</map>
</div>

</div>
</div>
<a id="a8c08b3ab03d5cdb52856bab0aafe7006" name="a8c08b3ab03d5cdb52856bab0aafe7006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c08b3ab03d5cdb52856bab0aafe7006">&#9670;&nbsp;</a></span>block_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void block_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structblock.html">block</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a>&#160;</td>
          <td class="paramname"><em>sector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes. </p>
<p >Internally synchronizes accesses to block devices, so external per-block device locking is unneeded. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00121">121</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00018">block::aux</a>, <a class="el" href="input_8c_source.html#l00007">buffer</a>, <a class="el" href="block_8c_source.html#l00105">check_sector()</a>, <a class="el" href="block_8c_source.html#l00017">block::ops</a>, <a class="el" href="block_8h_source.html#l00066">block_operations::read</a>, and <a class="el" href="block_8c_source.html#l00020">block::read_cnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="fsutil_8c_source.html#l00073">fsutil_extract()</a>, <a class="el" href="inode_8c_source.html#l00112">inode_open()</a>, <a class="el" href="inode_8c_source.html#l00201">inode_read_at()</a>, <a class="el" href="inode_8c_source.html#l00258">inode_write_at()</a>, <a class="el" href="partition_8c_source.html#l00304">partition_read()</a>, and <a class="el" href="partition_8c_source.html#l00050">read_partition_table()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a8c08b3ab03d5cdb52856bab0aafe7006_cgraph.png" border="0" usemap="#ablock_8c_a8c08b3ab03d5cdb52856bab0aafe7006_cgraph" alt=""/></div>
<map name="ablock_8c_a8c08b3ab03d5cdb52856bab0aafe7006_cgraph" id="ablock_8c_a8c08b3ab03d5cdb52856bab0aafe7006_cgraph">
<area shape="rect" title="Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="5,5,92,32"/>
<area shape="rect" href="block_8c.html#a987bd0fa2cc9d2510f3756532f120d25" title="Verifies that SECTOR is a valid offset within BLOCK." alt="" coords="140,5,240,32"/>
<area shape="rect" href="block_8c.html#abfb4cd8ff36ddbdf93ebc1944ccfbd4d" title="Returns BLOCK&#39;s name (e.g." alt="" coords="288,5,381,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a8c08b3ab03d5cdb52856bab0aafe7006_icgraph.png" border="0" usemap="#ablock_8c_a8c08b3ab03d5cdb52856bab0aafe7006_icgraph" alt=""/></div>
<map name="ablock_8c_a8c08b3ab03d5cdb52856bab0aafe7006_icgraph" id="ablock_8c_a8c08b3ab03d5cdb52856bab0aafe7006_icgraph">
<area shape="rect" title="Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="1584,571,1671,597"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="755,461,852,488"/>
<area shape="rect" href="inode_8c.html#a7adc21afc633b56d25a229ce0087c4a0" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="1247,259,1339,285"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="1413,385,1519,412"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="1239,512,1348,539"/>
<area shape="rect" href="partition_8c.html#a3bf0f39484d36b71f958107c23671e36" title="Reads sector SECTOR from partition P into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="1414,732,1518,759"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="1396,681,1536,708"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,335,227,361"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,335,88,361"/>
<area shape="rect" href="directory_8c.html#a782062143b05a6f32d11457cfd6259f6" title="Searches DIR for a file with the given NAME and returns true if one exists, false otherwise." alt="" coords="1087,259,1171,285"/>
<area shape="rect" href="directory_8c.html#afdea7fe972a97776e832c4324b0c4b9d" title="Opens the root directory and returns a directory for it." alt="" coords="1077,309,1181,336"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="1085,360,1174,387"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="1068,31,1191,57"/>
<area shape="rect" href="free-map_8c.html#a82ae69d4b7534829d5c1672231c62370" title="Opens the free map file and reads it from disk." alt="" coords="904,56,1020,83"/>
<area shape="rect" href="filesys_8c.html#a79d6e6b4a6c2295fba2322000c7c19fd" title="Opens the file with the given NAME." alt="" coords="914,309,1010,336"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="753,208,854,235"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="766,309,841,336"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="780,259,827,285"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="583,259,686,285"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,259,519,285"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,259,348,285"/>
<area shape="rect" href="filesys_8c.html#aff15830b489ffbb2619bbb71a79656ee" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="910,461,1014,488"/>
<area shape="rect" href="filesys_8c.html#ac536ffc3c10934a7f80e43e98b7c75ae" title="Deletes the file named NAME." alt="" coords="907,360,1017,387"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="929,411,995,437"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="599,360,671,387"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="921,5,1003,32"/>
<area shape="rect" href="filesys_8c.html#af905a48e295d86405ec08c307b6272f5" title="Initializes the file system module." alt="" coords="761,56,845,83"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="1096,461,1163,488"/>
<area shape="rect" href="directory_8c.html#ae9ec2107e448111aca8951c2f7bfa61b" title="Reads the next directory entry in DIR and stores the name in NAME." alt="" coords="1251,411,1336,437"/>
<area shape="rect" href="file_8c.html#aa970e0e3d037e457750745798328db97" title="Reads SIZE bytes from FILE into BUFFER, starting at the file&#39;s current position." alt="" coords="1093,208,1166,235"/>
<area shape="rect" href="file_8c.html#a9f62f31208f5a024b47fc3ac90ed0b9c" title="Reads SIZE bytes from FILE into BUFFER, starting at offset FILE_OFS in the file." alt="" coords="1247,309,1339,336"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="1263,360,1324,387"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="909,157,1015,184"/>
<area shape="rect" href="file_8c.html#a5c3629e8008d2ad73290be83f84d27eb" title="Writes SIZE bytes from BUFFER into FILE, starting at the file&#39;s current position." alt="" coords="925,537,999,564"/>
<area shape="rect" href="file_8c.html#a066213728ed4ad6314a980f50c2c93d7" title="Writes SIZE bytes from BUFFER into FILE, starting at offset FILE_OFS in the file." alt="" coords="1083,512,1176,539"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="751,653,856,680"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="567,577,703,604"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="425,540,489,567"/>
</map>
</div>

</div>
</div>
<a id="a39d3d6f31410885d66cf8f719339d79d" name="a39d3d6f31410885d66cf8f719339d79d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39d3d6f31410885d66cf8f719339d79d">&#9670;&nbsp;</a></span>block_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structblock.html">block</a> * block_register </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extra_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structblock__operations.html">block_operations</a> *&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a new block device with the given NAME. </p>
<p ><a class="el" href="block_8h.html">devices/block.h</a></p>
<p >If EXTRA_INFO is non-null, it is printed as part of a user message. The block device's SIZE in sectors and its TYPE must be provided, as well as the it operation functions OPS, which will be passed AUX in each function call. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00187">187</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00025">all_blocks</a>, <a class="el" href="block_8c_source.html#l00018">block::aux</a>, <a class="el" href="block_8h_source.html#l00011">BLOCK_SECTOR_SIZE</a>, <a class="el" href="block_8c_source.html#l00011">block::list_elem</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00217">list_push_back()</a>, <a class="el" href="malloc_8c_source.html#l00090">malloc()</a>, <a class="el" href="block_8c_source.html#l00013">block::name</a>, <a class="el" href="insult_8c_source.html#l00047">name</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, <a class="el" href="block_8c_source.html#l00017">block::ops</a>, <a class="el" href="debug_8h_source.html#l00014">PANIC</a>, <a class="el" href="block_8h_source.html#l00019">PRDSNu</a>, <a class="el" href="lib_2stdio_8c_source.html#l00642">print_human_readable_size()</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, <a class="el" href="block_8c_source.html#l00020">block::read_cnt</a>, <a class="el" href="block_8c_source.html#l00015">block::size</a>, <a class="el" href="string_8c_source.html#l00326">strlcpy()</a>, <a class="el" href="block_8c_source.html#l00014">block::type</a>, and <a class="el" href="block_8c_source.html#l00021">block::write_cnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="partition_8c_source.html#l00154">found_partition()</a>, and <a class="el" href="ide_8c_source.html#l00260">identify_ata_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a39d3d6f31410885d66cf8f719339d79d_cgraph.png" border="0" usemap="#ablock_8c_a39d3d6f31410885d66cf8f719339d79d_cgraph" alt=""/></div>
<map name="ablock_8c_a39d3d6f31410885d66cf8f719339d79d_cgraph" id="ablock_8c_a39d3d6f31410885d66cf8f719339d79d_cgraph">
<area shape="rect" title="Registers a new block device with the given NAME." alt="" coords="5,1056,111,1083"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1424,904,1535,931"/>
<area shape="rect" href="malloc_8c.html#a9c36d0fe3ec4675cbffdc9b52f5fb399" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="399,473,459,500"/>
<area shape="rect" href="lib_2stdio_8c.html#a225f673cc2251206f9da043c5a55a80b" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="159,1107,345,1133"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="403,1069,455,1096"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="222,1157,282,1184"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="1767,625,1835,652"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1599,891,1678,917"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1761,777,1841,804"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1773,891,1829,917"/>
<area shape="rect" href="malloc_8c.html#a9c2a4cff5e437e5be52e507be30eea49" title="Returns the (IDX &#45; 1)&#39;th block within arena A." alt="" coords="517,397,630,424"/>
<area shape="rect" href="malloc_8c.html#a5db3c69e2b5fc7fb13fa1f663df2bf03" title="Returns the arena that block B is inside." alt="" coords="517,43,630,69"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1597,524,1680,551"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a25d199933dd83abc9cecfe452bf39837" title="Removes the front element from LIST and returns it." alt="" coords="1268,651,1371,677"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="893,347,990,373"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="893,549,990,576"/>
<area shape="rect" href="palloc_8c.html#a303ef0c7222e4b461dc79f8a90f31bea" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="681,473,817,500"/>
<area shape="rect" href="palloc_8c.html#a0c66d7fdb0a9c8da247421261b5ca188" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="513,499,633,525"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="718,43,781,69"/>
<area shape="rect" href="vaddr_8h.html#a42d21e08e54a8ca6c174c731df74fd3e" title="Round down to nearest page boundary." alt="" coords="1743,68,1860,95"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a08c9ed5b4d04c46b943f09f84c93064d" title="Returns the beginning of LIST." alt="" coords="1762,524,1841,551"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a3e89b017d033355801dafd955caa8ad0" title="Returns the front element in LIST." alt="" coords="1443,499,1515,525"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a20dc7b49b9631d32e71294ea9cf38e78" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1593,581,1684,608"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1434,397,1525,424"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1065,230,1215,271"/>
<area shape="rect" href="thread_8c.html#a0032becedd11c8a8e10a0a6955c90d66" title="Returns the running thread." alt="" coords="1425,220,1534,247"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1093,397,1187,424"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1600,644,1677,671"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1583,169,1695,196"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1593,713,1684,740"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1429,701,1529,728"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1270,347,1369,373"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1101,727,1179,753"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1263,803,1376,829"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="865,499,1017,525"/>
<area shape="rect" href="string_8c.html#a32f4138a368f78ed6d4339e679641261" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="907,448,976,475"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="1091,499,1189,525"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1070,549,1210,576"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="544,1069,603,1096"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="713,1132,786,1159"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="690,397,809,424"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="690,600,809,627"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="698,1183,801,1209"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="908,1259,975,1285"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="887,1056,995,1083"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="891,1107,991,1133"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="878,1157,1005,1184"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="910,1208,973,1235"/>
<area shape="rect" href="string_8c.html#a75301dc67774ade574b3b3205ee4f39e" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="393,1145,465,1172"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="402,1196,457,1223"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a39d3d6f31410885d66cf8f719339d79d_icgraph.png" border="0" usemap="#ablock_8c_a39d3d6f31410885d66cf8f719339d79d_icgraph" alt=""/></div>
<map name="ablock_8c_a39d3d6f31410885d66cf8f719339d79d_icgraph" id="ablock_8c_a39d3d6f31410885d66cf8f719339d79d_icgraph">
<area shape="rect" title="Registers a new block device with the given NAME." alt="" coords="932,55,1037,81"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="773,29,884,56"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="248,55,384,81"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="585,29,725,56"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="432,29,537,56"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="136,55,200,81"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,55,88,81"/>
</map>
</div>

</div>
</div>
<a id="a8f6bd780f6d30734a643706efa16485e" name="a8f6bd780f6d30734a643706efa16485e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f6bd780f6d30734a643706efa16485e">&#9670;&nbsp;</a></span>block_set_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void block_set_role </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a>&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structblock.html">block</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns BLOCK the given ROLE. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00062">62</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="block_8c_source.html#l00028">block_by_role</a>, and <a class="el" href="block_8h_source.html#l00033">BLOCK_ROLE_CNT</a>.</p>

</div>
</div>
<a id="a66f8a413d9cb3ea11c9cd302f803daea" name="a66f8a413d9cb3ea11c9cd302f803daea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66f8a413d9cb3ea11c9cd302f803daea">&#9670;&nbsp;</a></span>block_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a> block_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structblock.html">block</a> *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of sectors in BLOCK. </p>
<p >Block device operations. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00144">144</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00015">block::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="bitmap_8c_source.html#l00100">bitmap_create_in_buf()</a>, <a class="el" href="lib_8c_source.html#l00108">check_file_handle()</a>, <a class="el" href="partition_8c_source.html#l00154">found_partition()</a>, <a class="el" href="free-map_8c_source.html#l00013">free_map_init()</a>, <a class="el" href="fsutil_8c_source.html#l00167">fsutil_append()</a>, <a class="el" href="partition_8c_source.html#l00050">read_partition_table()</a>, <a class="el" href="seq-test_8c_source.html#l00007">seq_test()</a>, and <a class="el" href="grow-two-files_8c_source.html#l00014">write_some_bytes()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a66f8a413d9cb3ea11c9cd302f803daea_icgraph.png" border="0" usemap="#ablock_8c_a66f8a413d9cb3ea11c9cd302f803daea_icgraph" alt=""/></div>
<map name="ablock_8c_a66f8a413d9cb3ea11c9cd302f803daea_icgraph" id="ablock_8c_a66f8a413d9cb3ea11c9cd302f803daea_icgraph">
<area shape="rect" title="Returns the number of sectors in BLOCK." alt="" coords="999,233,1083,260"/>
<area shape="rect" href="bitmap_8c.html#af1baf5aebcbd8ded4f5a9c6195b4cc64" title="Creates and returns a bitmap with BIT_CNT bits in the BLOCK_SIZE bytes of storage preallocated at BLO..." alt="" coords="800,31,951,57"/>
<area shape="rect" href="lib_8c.html#ac791f87f4ee593420941edb27a88ac51" title=" " alt="" coords="811,107,940,133"/>
<area shape="rect" href="seq-test_8c.html#ad8cec223129971af68dbb2b7671dcf3a" title="tests/filesys/seq&#45;test.h" alt="" coords="475,132,547,159"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="820,208,931,235"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="612,259,752,285"/>
<area shape="rect" href="free-map_8c.html#a5fa440f72db2c255d095ecf34aff9a7e" title="Initializes the free map." alt="" coords="460,309,563,336"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="292,360,393,387"/>
<area shape="rect" href="grow-two-files_8c.html#afae26c760b28a632091df7565c0e8224" title=" " alt="" coords="811,411,940,437"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="646,5,718,32"/>
<area shape="rect" href="palloc_8c.html#acc2c206763e5de4e4414fda821ca6db8" title="Initializes the page allocator." alt="" coords="141,107,222,133"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,284,88,311"/>
<area shape="rect" href="lib_8c.html#a904d20a186bc5ffec3da0c1045bd2cf4" title=" " alt="" coords="641,56,723,83"/>
<area shape="rect" href="multi-child-fd_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449" title="Opens a file and then runs a subprocess that tries to close the file." alt="" coords="642,107,722,133"/>
<area shape="rect" href="grow-sparse_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449" title="tests/main.h" alt="" coords="471,56,551,83"/>
<area shape="rect" href="grow-file-size_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449" title="tests/main.h" alt="" coords="303,132,383,159"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="459,259,564,285"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="275,259,411,285"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="149,259,213,285"/>
<area shape="rect" href="filesys_8c.html#af905a48e295d86405ec08c307b6272f5" title="Initializes the file system module." alt="" coords="301,309,385,336"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,360,227,387"/>
<area shape="rect" href="grow-two-files_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449" title="tests/main.h" alt="" coords="642,411,722,437"/>
</map>
</div>

</div>
</div>
<a id="ac88a7871848ef62687d058069e5fd522" name="ac88a7871848ef62687d058069e5fd522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88a7871848ef62687d058069e5fd522">&#9670;&nbsp;</a></span>block_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a> <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structblock.html">block</a> *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns BLOCK's type. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00158">158</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00014">block::type</a>.</p>

</div>
</div>
<a id="a7fea7bdd895d4511679ac9f962cd87d2" name="a7fea7bdd895d4511679ac9f962cd87d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fea7bdd895d4511679ac9f962cd87d2">&#9670;&nbsp;</a></span>block_type_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * block_type_name </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443">block_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a human-readable name for the given block device TYPE. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00035">35</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="block_8h_source.html#l00039">BLOCK_CNT</a>, and <a class="el" href="block_8c_source.html#l00014">block::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="block_8c_source.html#l00165">block_print_stats()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a7fea7bdd895d4511679ac9f962cd87d2_icgraph.png" border="0" usemap="#ablock_8c_a7fea7bdd895d4511679ac9f962cd87d2_icgraph" alt=""/></div>
<map name="ablock_8c_a7fea7bdd895d4511679ac9f962cd87d2_icgraph" id="ablock_8c_a7fea7bdd895d4511679ac9f962cd87d2_icgraph">
<area shape="rect" title="Returns a human&#45;readable name for the given block device TYPE." alt="" coords="912,81,1039,108"/>
<area shape="rect" href="block_8c.html#af1e8b4db376000c3c1824b19a3984fbb" title="Prints statistics for each block device used for a Pintos role." alt="" coords="741,81,864,108"/>
<area shape="rect" href="shutdown_8c.html#ab00adda36155b238b8c39dcd96f13cd9" title="Print statistics about Pintos execution." alt="" coords="609,81,693,108"/>
<area shape="rect" href="shutdown_8c.html#a4cc4519942eb3292f9ee3702330ebd07" title="Powers down the machine we&#39;re running on, as long as we&#39;re running on Bochs or QEMU." alt="" coords="416,81,561,108"/>
<area shape="rect" href="shutdown_8c.html#a1c9d5e29ad8899afe0c34571ddee18f9" title="Shuts down the machine in the way configured by shutdown_configure()." alt="" coords="289,56,368,83"/>
<area shape="rect" href="init_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title="Prints a kernel command line help message and powers off the machine." alt="" coords="299,107,358,133"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="139,5,238,32"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,81,88,108"/>
<area shape="rect" href="init_8c.html#a598c2f3a0a33552aa203aa847dc265b6" title="Parses options in ARGV[] and returns the first non&#45;option argument." alt="" coords="136,107,241,133"/>
</map>
</div>

</div>
</div>
<a id="ab7e44f7861385a5c4630d899a469f9d4" name="ab7e44f7861385a5c4630d899a469f9d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7e44f7861385a5c4630d899a469f9d4">&#9670;&nbsp;</a></span>block_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void block_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structblock.html">block</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a>&#160;</td>
          <td class="paramname"><em>sector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write sector SECTOR to BLOCK from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes. </p>
<p >Returns after the block device has acknowledged receiving the data. Internally synchronizes accesses to block devices, so external per-block device locking is unneeded. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00134">134</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="block_8c_source.html#l00018">block::aux</a>, <a class="el" href="block_8h_source.html#l00038">BLOCK_FOREIGN</a>, <a class="el" href="input_8c_source.html#l00007">buffer</a>, <a class="el" href="block_8c_source.html#l00105">check_sector()</a>, <a class="el" href="block_8c_source.html#l00017">block::ops</a>, <a class="el" href="block_8c_source.html#l00014">block::type</a>, <a class="el" href="block_8h_source.html#l00067">block_operations::write</a>, and <a class="el" href="block_8c_source.html#l00021">block::write_cnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="fsutil_8c_source.html#l00167">fsutil_append()</a>, <a class="el" href="fsutil_8c_source.html#l00073">fsutil_extract()</a>, <a class="el" href="inode_8c_source.html#l00073">inode_create()</a>, <a class="el" href="inode_8c_source.html#l00258">inode_write_at()</a>, and <a class="el" href="partition_8c_source.html#l00314">partition_write()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_ab7e44f7861385a5c4630d899a469f9d4_cgraph.png" border="0" usemap="#ablock_8c_ab7e44f7861385a5c4630d899a469f9d4_cgraph" alt=""/></div>
<map name="ablock_8c_ab7e44f7861385a5c4630d899a469f9d4_cgraph" id="ablock_8c_ab7e44f7861385a5c4630d899a469f9d4_cgraph">
<area shape="rect" title="Write sector SECTOR to BLOCK from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="5,5,95,32"/>
<area shape="rect" href="block_8c.html#a987bd0fa2cc9d2510f3756532f120d25" title="Verifies that SECTOR is a valid offset within BLOCK." alt="" coords="143,5,243,32"/>
<area shape="rect" href="block_8c.html#abfb4cd8ff36ddbdf93ebc1944ccfbd4d" title="Returns BLOCK&#39;s name (e.g." alt="" coords="291,5,384,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_ab7e44f7861385a5c4630d899a469f9d4_icgraph.png" border="0" usemap="#ablock_8c_ab7e44f7861385a5c4630d899a469f9d4_icgraph" alt=""/></div>
<map name="ablock_8c_ab7e44f7861385a5c4630d899a469f9d4_icgraph" id="ablock_8c_ab7e44f7861385a5c4630d899a469f9d4_icgraph">
<area shape="rect" title="Write sector SECTOR to BLOCK from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="895,157,984,184"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="741,107,843,133"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="275,183,372,209"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="591,56,689,83"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="737,233,847,260"/>
<area shape="rect" href="partition_8c.html#a0804c8e9bd1b9f49d0a44c022574445b" title="Write sector SECTOR to partition P from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="739,284,845,311"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,157,227,184"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,132,88,159"/>
<area shape="rect" href="directory_8c.html#ab3951213f266ce0e0404203a35fefe8f" title="Creates a directory with space for ENTRY_CNT entries in the given SECTOR." alt="" coords="441,5,522,32"/>
<area shape="rect" href="filesys_8c.html#aff15830b489ffbb2619bbb71a79656ee" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="429,208,533,235"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="420,56,543,83"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="282,56,365,83"/>
<area shape="rect" href="filesys_8c.html#af905a48e295d86405ec08c307b6272f5" title="Initializes the file system module." alt="" coords="139,95,223,121"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="607,208,673,235"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="595,360,685,387"/>
<area shape="rect" href="file_8c.html#a5c3629e8008d2ad73290be83f84d27eb" title="Writes SIZE bytes from BUFFER into FILE, starting at the file&#39;s current position." alt="" coords="444,271,519,297"/>
<area shape="rect" href="file_8c.html#a066213728ed4ad6314a980f50c2c93d7" title="Writes SIZE bytes from BUFFER into FILE, starting at offset FILE_OFS in the file." alt="" coords="593,259,687,285"/>
<area shape="rect" href="filesys_8c.html#ac536ffc3c10934a7f80e43e98b7c75ae" title="Deletes the file named NAME." alt="" coords="426,347,537,373"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="287,284,359,311"/>
</map>
</div>

</div>
</div>
<a id="a987bd0fa2cc9d2510f3756532f120d25" name="a987bd0fa2cc9d2510f3756532f120d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987bd0fa2cc9d2510f3756532f120d25">&#9670;&nbsp;</a></span>check_sector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_sector </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structblock.html">block</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="block_8h.html#a5817ce5926a42095888c9518172ec905">block_sector_t</a>&#160;</td>
          <td class="paramname"><em>sector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verifies that SECTOR is a valid offset within BLOCK. </p>
<p >Panics if not. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00105">105</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00151">block_name()</a>, <a class="el" href="debug_8h_source.html#l00014">PANIC</a>, <a class="el" href="block_8h_source.html#l00019">PRDSNu</a>, and <a class="el" href="block_8c_source.html#l00015">block::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="block_8c_source.html#l00121">block_read()</a>, and <a class="el" href="block_8c_source.html#l00134">block_write()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a987bd0fa2cc9d2510f3756532f120d25_cgraph.png" border="0" usemap="#ablock_8c_a987bd0fa2cc9d2510f3756532f120d25_cgraph" alt=""/></div>
<map name="ablock_8c_a987bd0fa2cc9d2510f3756532f120d25_cgraph" id="ablock_8c_a987bd0fa2cc9d2510f3756532f120d25_cgraph">
<area shape="rect" title="Verifies that SECTOR is a valid offset within BLOCK." alt="" coords="5,5,105,32"/>
<area shape="rect" href="block_8c.html#abfb4cd8ff36ddbdf93ebc1944ccfbd4d" title="Returns BLOCK&#39;s name (e.g." alt="" coords="153,5,247,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a987bd0fa2cc9d2510f3756532f120d25_icgraph.png" border="0" usemap="#ablock_8c_a987bd0fa2cc9d2510f3756532f120d25_icgraph" alt=""/></div>
<map name="ablock_8c_a987bd0fa2cc9d2510f3756532f120d25_icgraph" id="ablock_8c_a987bd0fa2cc9d2510f3756532f120d25_icgraph">
<area shape="rect" title="Verifies that SECTOR is a valid offset within BLOCK." alt="" coords="1719,603,1819,629"/>
<area shape="rect" href="block_8c.html#a8c08b3ab03d5cdb52856bab0aafe7006" title="Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="1584,527,1671,553"/>
<area shape="rect" href="block_8c.html#ab7e44f7861385a5c4630d899a469f9d4" title="Write sector SECTOR to BLOCK from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="1421,704,1511,731"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="755,547,852,573"/>
<area shape="rect" href="inode_8c.html#a7adc21afc633b56d25a229ce0087c4a0" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="1247,451,1339,477"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="1413,287,1519,313"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="1239,552,1348,579"/>
<area shape="rect" href="partition_8c.html#a3bf0f39484d36b71f958107c23671e36" title="Reads sector SECTOR from partition P into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="1414,577,1518,604"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="1396,59,1536,85"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="136,324,227,351"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,324,88,351"/>
<area shape="rect" href="directory_8c.html#a782062143b05a6f32d11457cfd6259f6" title="Searches DIR for a file with the given NAME and returns true if one exists, false otherwise." alt="" coords="1087,299,1171,325"/>
<area shape="rect" href="directory_8c.html#afdea7fe972a97776e832c4324b0c4b9d" title="Opens the root directory and returns a directory for it." alt="" coords="1077,349,1181,376"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="1085,400,1174,427"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="1068,805,1191,832"/>
<area shape="rect" href="free-map_8c.html#a82ae69d4b7534829d5c1672231c62370" title="Opens the free map file and reads it from disk." alt="" coords="904,805,1020,832"/>
<area shape="rect" href="filesys_8c.html#a79d6e6b4a6c2295fba2322000c7c19fd" title="Opens the file with the given NAME." alt="" coords="914,349,1010,376"/>
<area shape="rect" href="fsutil_8c.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="Copies file FILE_NAME from the file system to the scratch device, in ustar format." alt="" coords="753,349,854,376"/>
<area shape="rect" href="fsutil_8c.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="766,299,841,325"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="780,197,827,224"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="583,197,686,224"/>
<area shape="rect" href="process_8c.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="396,197,519,224"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="275,197,348,224"/>
<area shape="rect" href="filesys_8c.html#aff15830b489ffbb2619bbb71a79656ee" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="910,492,1014,519"/>
<area shape="rect" href="filesys_8c.html#ac536ffc3c10934a7f80e43e98b7c75ae" title="Deletes the file named NAME." alt="" coords="907,400,1017,427"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="929,248,995,275"/>
<area shape="rect" href="fsutil_8c.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="599,400,671,427"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="921,856,1003,883"/>
<area shape="rect" href="filesys_8c.html#af905a48e295d86405ec08c307b6272f5" title="Initializes the file system module." alt="" coords="761,805,845,832"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="1096,451,1163,477"/>
<area shape="rect" href="directory_8c.html#ae9ec2107e448111aca8951c2f7bfa61b" title="Reads the next directory entry in DIR and stores the name in NAME." alt="" coords="1251,197,1336,224"/>
<area shape="rect" href="file_8c.html#aa970e0e3d037e457750745798328db97" title="Reads SIZE bytes from FILE into BUFFER, starting at the file&#39;s current position." alt="" coords="1093,96,1166,123"/>
<area shape="rect" href="file_8c.html#a9f62f31208f5a024b47fc3ac90ed0b9c" title="Reads SIZE bytes from FILE into BUFFER, starting at offset FILE_OFS in the file." alt="" coords="1247,147,1339,173"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="1263,349,1324,376"/>
<area shape="rect" href="process_8c.html#a2f03f0e1bdd5d41d15c2ea83f0135b7f" title="Loads a segment starting at offset OFS in FILE at address UPAGE." alt="" coords="909,45,1015,72"/>
<area shape="rect" href="file_8c.html#a5c3629e8008d2ad73290be83f84d27eb" title="Writes SIZE bytes from BUFFER into FILE, starting at the file&#39;s current position." alt="" coords="925,584,999,611"/>
<area shape="rect" href="file_8c.html#a066213728ed4ad6314a980f50c2c93d7" title="Writes SIZE bytes from BUFFER into FILE, starting at offset FILE_OFS in the file." alt="" coords="1083,552,1176,579"/>
<area shape="rect" href="partition_8c.html#ae1af155dafc1e46f1725d8061189421a" title="Scans BLOCK for partitions of interest to Pintos." alt="" coords="751,5,856,32"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="567,15,703,41"/>
<area shape="rect" href="ide_8c.html#a5e8e1409e0675bdd93040403c52dd660" title="Initialize the disk subsystem and detect disks." alt="" coords="425,33,489,60"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="1244,805,1343,832"/>
<area shape="rect" href="partition_8c.html#a0804c8e9bd1b9f49d0a44c022574445b" title="Write sector SECTOR to partition P from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="1241,704,1346,731"/>
<area shape="rect" href="directory_8c.html#ab3951213f266ce0e0404203a35fefe8f" title="Creates a directory with space for ENTRY_CNT entries in the given SECTOR." alt="" coords="1089,856,1170,883"/>
</map>
</div>

</div>
</div>
<a id="a9dab72b1a888ba36ece50287da87c919" name="a9dab72b1a888ba36ece50287da87c919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dab72b1a888ba36ece50287da87c919">&#9670;&nbsp;</a></span>list_elem_to_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structblock.html">block</a> * list_elem_to_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlist__elem.html">list_elem</a> *&#160;</td>
          <td class="paramname"><em>list_elem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the block device corresponding to LIST_ELEM, or a null pointer if LIST_ELEM is the list end of all_blocks. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00217">217</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">References <a class="el" href="block_8c_source.html#l00025">all_blocks</a>, <a class="el" href="lib_2kernel_2list_8c_source.html#l00094">list_end()</a>, <a class="el" href="list_8h_source.html#l00108">list_entry</a>, and <a class="el" href="stddef_8h_source.html#l00004">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="block_8c_source.html#l00071">block_first()</a>, and <a class="el" href="block_8c_source.html#l00079">block_next()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a9dab72b1a888ba36ece50287da87c919_cgraph.png" border="0" usemap="#ablock_8c_a9dab72b1a888ba36ece50287da87c919_cgraph" alt=""/></div>
<map name="ablock_8c_a9dab72b1a888ba36ece50287da87c919_cgraph" id="ablock_8c_a9dab72b1a888ba36ece50287da87c919_cgraph">
<area shape="rect" title="Returns the block device corresponding to LIST_ELEM, or a null pointer if LIST_ELEM is the list end o..." alt="" coords="5,5,137,32"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a4ed47fea6462c7db4fde2d0a30e9ce26" title="Returns LIST&#39;s tail." alt="" coords="185,5,253,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="block_8c_a9dab72b1a888ba36ece50287da87c919_icgraph.png" border="0" usemap="#ablock_8c_a9dab72b1a888ba36ece50287da87c919_icgraph" alt=""/></div>
<map name="ablock_8c_a9dab72b1a888ba36ece50287da87c919_icgraph" id="ablock_8c_a9dab72b1a888ba36ece50287da87c919_icgraph">
<area shape="rect" title="Returns the block device corresponding to LIST_ELEM, or a null pointer if LIST_ELEM is the list end o..." alt="" coords="139,31,271,57"/>
<area shape="rect" href="block_8c.html#a215ed8c0dc495aff38df8d2292de1d4a" title="Returns the first block device in kernel probe order, or a null pointer if no block devices are regis..." alt="" coords="7,5,89,32"/>
<area shape="rect" href="block_8c.html#aca7cb9a855f67dc16e95e539f0f7a815" title="Returns the block device following BLOCK in kernel probe order, or a null pointer if BLOCK is the las..." alt="" coords="5,56,91,83"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a15141263b435e32032f10d7ae077c8a7" name="a15141263b435e32032f10d7ae077c8a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15141263b435e32032f10d7ae077c8a7">&#9670;&nbsp;</a></span>all_blocks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlist.html">list</a> all_blocks = <a class="el" href="list_8h.html#a5b9fa0d6c92372c6531c453c26c65b0b">LIST_INITIALIZER</a> (all_blocks)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of all block devices. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00025">25</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="block_8c_source.html#l00071">block_first()</a>, <a class="el" href="block_8c_source.html#l00087">block_get_by_name()</a>, <a class="el" href="block_8c_source.html#l00187">block_register()</a>, and <a class="el" href="block_8c_source.html#l00217">list_elem_to_block()</a>.</p>

</div>
</div>
<a id="a9d0ff7fffebd1f9f70341773a919e3fe" name="a9d0ff7fffebd1f9f70341773a919e3fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d0ff7fffebd1f9f70341773a919e3fe">&#9670;&nbsp;</a></span>block_by_role</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structblock.html">block</a>* block_by_role[<a class="el" href="block_8h.html#aa2494894aca52a71313c23c460fe0443a3baa59432114f9149b83a3f895a469ee">BLOCK_ROLE_CNT</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The block block assigned to each Pintos role. </p>

<p class="definition">Definition at line <a class="el" href="block_8c_source.html#l00028">28</a> of file <a class="el" href="block_8c_source.html">block.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="block_8c_source.html#l00054">block_get_role()</a>, <a class="el" href="block_8c_source.html#l00165">block_print_stats()</a>, and <a class="el" href="block_8c_source.html#l00062">block_set_role()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 4 2021 19:31:02 for PKUOS - Pintos by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
